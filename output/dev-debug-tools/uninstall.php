<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('ddtt_test_mode');
delete_site_option('ddtt_test_mode');
delete_option('ddtt_admin_bar_add_links');
delete_site_option('ddtt_admin_bar_add_links');
delete_option('ddtt_admin_bar_centering_tool');
delete_site_option('ddtt_admin_bar_centering_tool');
delete_option('ddtt_admin_bar_gravity_form_finder');
delete_site_option('ddtt_admin_bar_gravity_form_finder');
delete_option('ddtt_admin_bar_debug');
delete_site_option('ddtt_admin_bar_debug');
delete_option('ddtt_admin_bar_condense');
delete_site_option('ddtt_admin_bar_condense');
delete_option('ddtt_admin_bar_wp_logo');
delete_site_option('ddtt_admin_bar_wp_logo');
delete_option('ddtt_admin_bar_logs');
delete_site_option('ddtt_admin_bar_logs');
delete_option('ddtt_admin_bar_resources');
delete_site_option('ddtt_admin_bar_resources');
delete_option('ddtt_admin_bar_user_id');
delete_site_option('ddtt_admin_bar_user_id');
delete_option('ddtt_admin_bar_page_loaded');
delete_site_option('ddtt_admin_bar_page_loaded');
delete_option('ddtt_admin_bar_post_id');
delete_site_option('ddtt_admin_bar_post_id');
delete_option('ddtt_admin_bar_shortcodes');
delete_site_option('ddtt_admin_bar_shortcodes');
delete_option('ddtt_total_error_count');
delete_site_option('ddtt_total_error_count');
delete_option('ddtt_admin_menu_items');
delete_site_option('ddtt_admin_menu_items');
delete_option('ddtt_ql_user_id');
delete_site_option('ddtt_ql_user_id');
delete_option('ddtt_ql_post_id');
delete_site_option('ddtt_ql_post_id');
delete_option('ddtt_ql_comment_id');
delete_site_option('ddtt_ql_comment_id');
delete_option('ddtt_ids_in_search');
delete_site_option('ddtt_ids_in_search');
delete_option('ddtt_page_slugs');
delete_site_option('ddtt_page_slugs');
delete_option('ddtt_force_updates_check');
delete_site_option('ddtt_force_updates_check');
delete_option('ddtt_hide_plugin');
delete_site_option('ddtt_hide_plugin');
delete_option('ddtt_online_users');
delete_site_option('ddtt_online_users');
delete_option('ddtt_online_users_roles');
delete_site_option('ddtt_online_users_roles');
delete_option('ddtt_online_users_priority_roles');
delete_site_option('ddtt_online_users_priority_roles');
delete_option('ddtt_online_users_last_seen');
delete_site_option('ddtt_online_users_last_seen');
delete_option('ddtt_online_users_link');
delete_site_option('ddtt_online_users_link');
delete_option('online_users_last_seen');
delete_site_option('online_users_last_seen');
delete_option('ddtt_online_users_heartbeat');
delete_site_option('ddtt_online_users_heartbeat');
delete_option('online_users_heartbeat_interval');
delete_site_option('online_users_heartbeat_interval');
delete_option('ddtt_dev_access_only');
delete_site_option('ddtt_dev_access_only');
delete_option('ddtt_plugins_page_data');
delete_site_option('ddtt_plugins_page_data');
delete_option('ddtt_plugins_page_size');
delete_site_option('ddtt_plugins_page_size');
delete_option('ddtt_plugins_page_last_modified');
delete_site_option('ddtt_plugins_page_last_modified');
delete_option('ddtt_plugins_page_installed_by');
delete_site_option('ddtt_plugins_page_installed_by');
delete_option('ddtt_plugins_page_notes');
delete_site_option('ddtt_plugins_page_notes');
delete_option('ddtt_plugin_alias');
delete_site_option('ddtt_plugin_alias');
delete_option('ddtt_plugin_desc');
delete_site_option('ddtt_plugin_desc');
delete_option('ddtt_plugin_author');
delete_site_option('ddtt_plugin_author');
delete_option('ddtt_plugins_page_path');
delete_site_option('ddtt_plugins_page_path');
delete_option('ddtt_plugin_data');
delete_site_option('ddtt_plugin_data');
delete_option('ddtt_plugin_installers');
delete_site_option('ddtt_plugin_installers');
delete_option('ddtt_plugin_notes');
delete_site_option('ddtt_plugin_notes');
delete_option('ddtt_plugins_page_author_update');
delete_site_option('ddtt_plugins_page_author_update');
delete_option('ddtt_pass');
delete_site_option('ddtt_pass');
delete_option('ddtt_enable_pass');
delete_site_option('ddtt_enable_pass');
delete_option('ddtt_secure_pages');
delete_site_option('ddtt_secure_pages');
delete_option('ddtt_pass_lockout');
delete_site_option('ddtt_pass_lockout');
delete_option('ddtt_pass_attempts');
delete_site_option('ddtt_pass_attempts');
delete_option('ddtt_pass_exp');
delete_site_option('ddtt_pass_exp');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", 'ddtt_%' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_viewer_customizations' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_last_modified' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('ddtt_view_sensitive_info');
delete_site_option('ddtt_view_sensitive_info');
delete_option('ddtt_syntax_checker');
delete_site_option('ddtt_syntax_checker');
delete_option('ddtt_developers');
delete_site_option('ddtt_developers');
delete_option('ddtt_dev_email');
delete_site_option('ddtt_dev_email');
delete_option('ddtt_enable_curl_timeout');
delete_site_option('ddtt_enable_curl_timeout');
delete_option('ddtt_change_curl_timeout');
delete_site_option('ddtt_change_curl_timeout');
delete_option('active_sitewide_plugins');
delete_site_option('active_sitewide_plugins');
delete_option('ddtt_dev_timezone');
delete_site_option('ddtt_dev_timezone');
delete_option('ddtt_default_mode');
delete_site_option('ddtt_default_mode');
delete_option('ddtt_dev_timeformat');
delete_site_option('ddtt_dev_timeformat');
delete_option('ddtt_last_viewed_version');
delete_site_option('ddtt_last_viewed_version');
delete_option('ddtt_disable_error_counts');
delete_site_option('ddtt_disable_error_counts');
delete_option('ddtt_favorite_tools');
delete_site_option('ddtt_favorite_tools');
delete_option('ddtt_tools');
delete_site_option('ddtt_tools');
delete_option('ddtt_activity');
delete_site_option('ddtt_activity');
delete_option('ddtt_open_nav_new_tab');
delete_site_option('ddtt_open_nav_new_tab');
delete_option('ddtt_last_error');
delete_site_option('ddtt_last_error');
delete_option('ddtt_resources');
delete_site_option('ddtt_resources');
delete_option('ddtt_last_selected_table');
delete_site_option('ddtt_last_selected_table');
delete_option('ddtt_last_defined_constant');
delete_site_option('ddtt_last_defined_constant');
delete_option('ddtt_last_global_variable');
delete_site_option('ddtt_last_global_variable');
delete_option('ddtt_plugins');
delete_site_option('ddtt_plugins');
delete_option('ddtt_activity_updating_usermeta_skip_keys');
delete_site_option('ddtt_activity_updating_usermeta_skip_keys');
delete_option('ddtt_activity_updating_postmeta_skip_keys');
delete_site_option('ddtt_activity_updating_postmeta_skip_keys');
delete_option('ddtt_activity_updating_setting_skip_keys');
delete_site_option('ddtt_activity_updating_setting_skip_keys');
delete_option('ddtt_debug_log_path');
delete_site_option('ddtt_debug_log_path');
delete_option('ddtt_error_log_path');
delete_site_option('ddtt_error_log_path');
delete_option('ddtt_admin_error_log_path');
delete_site_option('ddtt_admin_error_log_path');
delete_option('ddtt_log_files');
delete_site_option('ddtt_log_files');
delete_option('ddtt_max_log_size');
delete_site_option('ddtt_max_log_size');
delete_option('ddtt_log_viewer_customizations');
delete_site_option('ddtt_log_viewer_customizations');
delete_option('ddtt_metadata_last_lookups');
delete_site_option('ddtt_metadata_last_lookups');
delete_option('ddtt_metadata_viewer_customizations');
delete_site_option('ddtt_metadata_viewer_customizations');
delete_option('ddtt_last_selected_post_type');
delete_site_option('ddtt_last_selected_post_type');
delete_option('ddtt_deleted_site_options');
delete_site_option('ddtt_deleted_site_options');
delete_option('ddtt_last_selected_taxonomy');
delete_site_option('ddtt_last_selected_taxonomy');
delete_option('ddtt_online_users_discord_enable');
delete_site_option('ddtt_online_users_discord_enable');
delete_option('ddtt_backtrace_deprecations');
delete_site_option('ddtt_backtrace_deprecations');
delete_option('ddtt_backtrace_notices');
delete_site_option('ddtt_backtrace_notices');
delete_option('ddtt_backtrace_warnings');
delete_site_option('ddtt_backtrace_warnings');
delete_option('ddtt_backtrace_errors');
delete_site_option('ddtt_backtrace_errors');
delete_option('ddtt_wp_mail_failure');
delete_site_option('ddtt_wp_mail_failure');
delete_option('ddtt_fatal_discord_enable');
delete_site_option('ddtt_fatal_discord_enable');
delete_option('ddtt_online_users_discord_webhook');
delete_site_option('ddtt_online_users_discord_webhook');
delete_option('ddtt_fatal_discord_webhook');
delete_site_option('ddtt_fatal_discord_webhook');
delete_option('ddtt_disable_everywhere');
delete_site_option('ddtt_disable_everywhere');
delete_option('ddtt_disable_admin');
delete_site_option('ddtt_disable_admin');
delete_option('ddtt_disable_frontend');
delete_site_option('ddtt_disable_frontend');
delete_option('ddtt_enable_heartbeat_monitor');
delete_site_option('ddtt_enable_heartbeat_monitor');

// Delete Transients
delete_transient('update_plugins');
delete_site_transient('update_plugins');
delete_transient('update_themes');
delete_site_transient('update_themes');
global $wpdb;
$transients = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s OR option_name LIKE %s", '_transient_ddtt_pass_%', '_site_transient_ddtt_pass_%' ) );
foreach ( $transients as $transient ) {
	delete_option( $transient );
}
global $wpdb;
$transients = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s OR option_name LIKE %s", '_transient_%_file_updated', '_site_transient_%_file_updated' ) );
foreach ( $transients as $transient ) {
	delete_option( $transient );
}
global $wpdb;
$transients = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s OR option_name LIKE %s", '_transient_%_backup_deleted', '_site_transient_%_backup_deleted' ) );
foreach ( $transients as $transient ) {
	delete_option( $transient );
}
global $wpdb;
$transients = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s OR option_name LIKE %s", '_transient_%_backups_deleted', '_site_transient_%_backups_deleted' ) );
foreach ( $transients as $transient ) {
	delete_option( $transient );
}
delete_transient('ddtt_plugins_data');
delete_site_transient('ddtt_plugins_data');
delete_transient('update_core');
delete_site_transient('update_core');
delete_transient('ddtt_settings_imported_successfully');
delete_site_transient('ddtt_settings_imported_successfully');
delete_transient('ddtt_settings_imported');
delete_site_transient('ddtt_settings_imported');
delete_transient('ddtt_log_cleared');
delete_site_transient('ddtt_log_cleared');
delete_transient('ddtt_metadata_reset');
delete_site_transient('ddtt_metadata_reset');
delete_transient('ddtt_deleted_these_site_options');
delete_site_transient('ddtt_deleted_these_site_options');
delete_transient('ddtt_option_sources');
delete_site_transient('ddtt_option_sources');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'ddtt_centering_tool' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'ddtt_centering_tool' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'ddtt_centering_tool' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'ddtt_centering_tool' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key LIKE %s", 'ddtt_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key LIKE %s", 'ddtt_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key LIKE %s", 'ddtt_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key LIKE %s", 'ddtt_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'ddtt_mode' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'ddtt_mode' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'ddtt_mode' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'ddtt_mode' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'session_tokens' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'session_tokens' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'session_tokens' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'session_tokens' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'first_name' ) );

