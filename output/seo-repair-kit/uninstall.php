<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('srk_onboarding_has_run');
delete_site_option('srk_onboarding_has_run');
delete_option('srk_setup');
delete_site_option('srk_setup');
delete_option('srk_should_run_modal_onboarding');
delete_site_option('srk_should_run_modal_onboarding');
delete_option('srk_site_info_consent');
delete_site_option('srk_site_info_consent');
delete_option('srk_chatbot_enabled');
delete_site_option('srk_chatbot_enabled');
delete_option('srk_last_links_snapshot');
delete_site_option('srk_last_links_snapshot');
delete_option('srk_links_schedule');
delete_site_option('srk_links_schedule');
delete_option('srk_last_links_scan_at');
delete_site_option('srk_last_links_scan_at');
delete_option('td_blc_saved_post_types');
delete_site_option('td_blc_saved_post_types');
delete_option('srk_keytrack_enabled');
delete_site_option('srk_keytrack_enabled');
delete_option('srk_schema_defaults');
delete_site_option('srk_schema_defaults');
delete_option('srk_pro_intent');
delete_site_option('srk_pro_intent');
delete_option('srk_alt_scan_enabled');
delete_site_option('srk_alt_scan_enabled');
delete_option('srk_redirection_enabled');
delete_site_option('srk_redirection_enabled');
delete_option('srk_redirection_default_code');
delete_site_option('srk_redirection_default_code');
delete_option('srk_weekly_report_enabled');
delete_site_option('srk_weekly_report_enabled');
delete_option('srk_keytrack_alerts_enabled');
delete_site_option('srk_keytrack_alerts_enabled');
delete_option('srk_broken_links_notify_enabled');
delete_site_option('srk_broken_links_notify_enabled');
delete_option('srk_notification_email');
delete_site_option('srk_notification_email');
delete_option('srk_site_health_info_sent');
delete_site_option('srk_site_health_info_sent');
delete_option('srk_pro_license_key');
delete_site_option('srk_pro_license_key');
delete_option('srk_last_successful_check');
delete_site_option('srk_last_successful_check');
delete_option('srk_enable_logging');
delete_site_option('srk_enable_logging');
delete_option('srk_log_retention');
delete_site_option('srk_log_retention');
delete_option('srk_auto_redirect');
delete_site_option('srk_auto_redirect');
delete_option('srk_monitor_404s');
delete_site_option('srk_monitor_404s');
delete_option('srk_redirect_cache_time');
delete_site_option('srk_redirect_cache_time');
delete_option('srk_ip_collection');
delete_site_option('srk_ip_collection');
delete_option('srk_geolocation_enabled');
delete_site_option('srk_geolocation_enabled');
delete_option('srk_enable_detailed_logging');
delete_site_option('srk_enable_detailed_logging');
delete_option('srk_enable_htaccess_sync');
delete_site_option('srk_enable_htaccess_sync');
delete_option('srk_htaccess_write_all');
delete_site_option('srk_htaccess_write_all');
delete_option('srk_robots_txt_content');
delete_site_option('srk_robots_txt_content');
delete_option('srk_llms_txt_content');
delete_site_option('srk_llms_txt_content');
delete_option('srk_robots_txt_last_updated');
delete_site_option('srk_robots_txt_last_updated');
delete_option('srk_llms_txt_last_updated');
delete_site_option('srk_llms_txt_last_updated');
delete_option('srk_llms_generator_settings');
delete_site_option('srk_llms_generator_settings');
delete_option('srk_404_monitoring_enabled');
delete_site_option('srk_404_monitoring_enabled');
delete_option('srk_weekly_report_last_status');
delete_site_option('srk_weekly_report_last_status');
delete_option('seo_repair_kit_version');
delete_site_option('seo_repair_kit_version');
delete_option('srk_plugin_id');
delete_site_option('srk_plugin_id');
delete_option('srk_plugin_instance_id');
delete_site_option('srk_plugin_instance_id');
delete_option('srk_global_telephone');
delete_site_option('srk_global_telephone');
delete_option('srk_global_opening_hours');
delete_site_option('srk_global_opening_hours');
delete_option('srk_global_price_range');
delete_site_option('srk_global_price_range');
delete_option('srk_global_address');
delete_site_option('srk_global_address');
delete_option('srk_global_contact_point');
delete_site_option('srk_global_contact_point');
delete_option('srk_global_social_profiles');
delete_site_option('srk_global_social_profiles');
delete_option('srk_global_founder');
delete_site_option('srk_global_founder');
delete_option('srk_global_founding_date');
delete_site_option('srk_global_founding_date');
delete_option('srk_global_under_name');
delete_site_option('srk_global_under_name');
delete_option('srk_global_reservation_for');
delete_site_option('srk_global_reservation_for');
delete_option('srk_global_start_time');
delete_site_option('srk_global_start_time');
delete_option('srk_global_party_size');
delete_site_option('srk_global_party_size');
delete_option('srk_global_item_reviewed');
delete_site_option('srk_global_item_reviewed');
delete_option('srk_global_author_name');
delete_site_option('srk_global_author_name');
delete_option('srk_global_review_body');
delete_site_option('srk_global_review_body');
delete_option('srk_global_review_rating');
delete_site_option('srk_global_review_rating');
delete_option('srk_global_date_published');
delete_site_option('srk_global_date_published');
delete_option('srk_global_price');
delete_site_option('srk_global_price');
delete_option('srk_global_price_currency');
delete_site_option('srk_global_price_currency');
delete_option('srk_global_availability');
delete_site_option('srk_global_availability');
delete_option('srk_global_item_condition');
delete_site_option('srk_global_item_condition');
delete_option('srk_global_valid_from');
delete_site_option('srk_global_valid_from');
delete_option('srk_global_rating_value');
delete_site_option('srk_global_rating_value');
delete_option('srk_global_review_count');
delete_site_option('srk_global_review_count');
delete_option('srk_global_best_rating');
delete_site_option('srk_global_best_rating');
delete_option('srk_global_worst_rating');
delete_site_option('srk_global_worst_rating');
delete_option('srk_global_about');
delete_site_option('srk_global_about');
delete_option('srk_global_medical_specialty');
delete_site_option('srk_global_medical_specialty');
delete_option('srk_global_possible_treatment');
delete_site_option('srk_global_possible_treatment');
delete_option('srk_global_possible_complication');
delete_site_option('srk_global_possible_complication');
delete_option('srk_global_sign_or_symptom');
delete_site_option('srk_global_sign_or_symptom');
delete_option('srk_global_latitude');
delete_site_option('srk_global_latitude');
delete_option('srk_global_longitude');
delete_site_option('srk_global_longitude');
delete_option('srk_global_keywords');
delete_site_option('srk_global_keywords');
delete_option('srk_global_alternate_name');
delete_site_option('srk_global_alternate_name');
delete_option('srk_global_facebook_url');
delete_site_option('srk_global_facebook_url');
delete_option('srk_global_twitter_url');
delete_site_option('srk_global_twitter_url');
delete_option('srk_global_instagram_url');
delete_site_option('srk_global_instagram_url');
delete_option('srk_global_youtube_url');
delete_site_option('srk_global_youtube_url');
delete_option('site_logo');
delete_site_option('site_logo');
delete_option('srk_api_base_url_override');
delete_site_option('srk_api_base_url_override');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_url' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('srk_llms_rewrite_flushed');
delete_site_option('srk_llms_rewrite_flushed');
delete_option('srk_update_pending');
delete_site_option('srk_update_pending');

// Delete Transients
delete_transient('srk_pro_license_status');
delete_site_transient('srk_pro_license_status');
delete_transient('srk_required_tables_check');
delete_site_transient('srk_required_tables_check');
delete_transient('srk_404_table_exists');
delete_site_transient('srk_404_table_exists');
delete_transient('srk_404_statistics');
delete_site_transient('srk_404_statistics');
delete_transient('srk_table_creation_check');
delete_site_transient('srk_table_creation_check');
delete_transient('srk_sitekit_activated');
delete_site_transient('srk_sitekit_activated');
delete_transient('srk_redirected_from_repair_kit');
delete_site_transient('srk_redirected_from_repair_kit');
delete_transient('srk_redirection_migration_notice');
delete_site_transient('srk_redirection_migration_notice');
delete_transient('srk_migration_log');
delete_site_transient('srk_migration_log');
delete_transient('srk_robots_txt_content');
delete_site_transient('srk_robots_txt_content');
delete_transient('srk_schema_count');
delete_site_transient('srk_schema_count');

// Clear Cron Jobs
wp_clear_scheduled_hook('fetch_gsc_data_cronjob');
wp_clear_scheduled_hook('srk_weekly_seo_summary_cron');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_product_short_description' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_product_short_description' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_product_short_description' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_product_short_description' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'author_full_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'author_full_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'author_full_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'author_full_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'author_profile_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'author_profile_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'author_profile_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'author_profile_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'author_social_profiles' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'author_social_profiles' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'author_social_profiles' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'author_social_profiles' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'selected_schema_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'selected_schema_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'selected_schema_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'selected_schema_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'schema_field_author' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'schema_field_author' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'schema_field_author' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'schema_field_author' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'schema_field_author_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'schema_field_author_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'schema_field_author_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'schema_field_author_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'schema_field_author_social_profiles' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'schema_field_author_social_profiles' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'schema_field_author_social_profiles' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'schema_field_author_social_profiles' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_VenueAddress' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_VenueAddress' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_VenueAddress' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_VenueAddress' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_VenueCity' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_VenueCity' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_VenueCity' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_VenueCity' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_VenueStateProvince' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_VenueStateProvince' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_VenueStateProvince' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_VenueStateProvince' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_VenueZip' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_VenueZip' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_VenueZip' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_VenueZip' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_VenueCountry' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_VenueCountry' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_VenueCountry' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_VenueCountry' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_OrganizerWebsite' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_OrganizerWebsite' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_OrganizerWebsite' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_OrganizerWebsite' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_OrganizerPhone' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_OrganizerPhone' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_OrganizerPhone' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_OrganizerPhone' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'rating' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'rating' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'rating' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'rating' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'srk_faq_items' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'srk_faq_items' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'srk_faq_items' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'srk_faq_items' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'faq_items' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'faq_items' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'faq_items' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'faq_items' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'srk_selected_schema_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'srk_selected_schema_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'srk_selected_schema_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'srk_selected_schema_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key LIKE %s", 'schema_field_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key LIKE %s", 'schema_field_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key LIKE %s", 'schema_field_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key LIKE %s", 'schema_field_%' ) );

