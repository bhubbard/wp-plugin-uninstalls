<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('wpdb_dest_bb_s3_bucket_host');
delete_site_option('wpdb_dest_bb_s3_bucket_host');
delete_option('wpdb_dest_bb_s3_bucket');
delete_site_option('wpdb_dest_bb_s3_bucket');
delete_option('wpdb_dest_bb_s3_bucket_key');
delete_site_option('wpdb_dest_bb_s3_bucket_key');
delete_option('wpdb_dest_bb_s3_bucket_secret');
delete_site_option('wpdb_dest_bb_s3_bucket_secret');
delete_option('wp_db_backup_destination_bb');
delete_site_option('wp_db_backup_destination_bb');
delete_option('wp_db_incremental_backup');
delete_site_option('wp_db_incremental_backup');
delete_option('wpdb_clouddrive_token');
delete_site_option('wpdb_clouddrive_token');
delete_option('wp_db_backup_destination_cd');
delete_site_option('wp_db_backup_destination_cd');
delete_option('wpdb_dropboxtoken');
delete_site_option('wpdb_dropboxtoken');
delete_option('wpdbbkp_backupcron_current');
delete_site_option('wpdbbkp_backupcron_current');
delete_option('wpdb_dropbbox_dir');
delete_site_option('wpdb_dropbbox_dir');
delete_option('wp_db_backup_destination_Email');
delete_site_option('wp_db_backup_destination_Email');
delete_option('wp_db_backup_email_id');
delete_site_option('wp_db_backup_email_id');
delete_option('wp_db_backup_email_attachment');
delete_site_option('wp_db_backup_email_attachment');
delete_option('wp_db_remove_local_backup');
delete_site_option('wp_db_remove_local_backup');
delete_option('wpdbbkp_unsubscribe_token');
delete_site_option('wpdbbkp_unsubscribe_token');
delete_option('snapshot_ftp_host');
delete_site_option('snapshot_ftp_host');
delete_option('snapshot_ftp_user');
delete_site_option('snapshot_ftp_user');
delete_option('snapshot_ftp_pass');
delete_site_option('snapshot_ftp_pass');
delete_option('snapshot_ftp_subdir');
delete_site_option('snapshot_ftp_subdir');
delete_option('wp_db_backup_destination_FTP');
delete_site_option('wp_db_backup_destination_FTP');
delete_option('backupbreeze_ftp_host');
delete_site_option('backupbreeze_ftp_host');
delete_option('backupbreeze_ftp_user');
delete_site_option('backupbreeze_ftp_user');
delete_option('backupbreeze_ftp_pass');
delete_site_option('backupbreeze_ftp_pass');
delete_option('backupbreeze_ftp_subdir');
delete_site_option('backupbreeze_ftp_subdir');
delete_option('backupbreeze_ftp_port');
delete_site_option('backupbreeze_ftp_port');
delete_option('wpdb_dest_generics3_endpoint');
delete_site_option('wpdb_dest_generics3_endpoint');
delete_option('wpdb_dest_generics3_bucket');
delete_site_option('wpdb_dest_generics3_bucket');
delete_option('wpdb_dest_generics3_bucket_key');
delete_site_option('wpdb_dest_generics3_bucket_key');
delete_option('wpdb_dest_generics3_bucket_secret');
delete_site_option('wpdb_dest_generics3_bucket_secret');
delete_option('wp_db_backup_destination_generics3');
delete_site_option('wp_db_backup_destination_generics3');
delete_option('wpdb_dest_google_authCode');
delete_site_option('wpdb_dest_google_authCode');
delete_option('wpdb_dest_google_client_key');
delete_site_option('wpdb_dest_google_client_key');
delete_option('wpdb_dest_google_secret_key');
delete_site_option('wpdb_dest_google_secret_key');
delete_option('wpdb_google_drive_token');
delete_site_option('wpdb_google_drive_token');
delete_option('wp_db_local_backup');
delete_site_option('wp_db_local_backup');
delete_option('wp_db_local_backup_path');
delete_site_option('wp_db_local_backup_path');
delete_option('wp_db_backup_destination_s3');
delete_site_option('wp_db_backup_destination_s3');
delete_option('wpdb_dest_amazon_s3_bucket');
delete_site_option('wpdb_dest_amazon_s3_bucket');
delete_option('wpdb_dest_amazon_s3_bucket_key');
delete_site_option('wpdb_dest_amazon_s3_bucket_key');
delete_option('wpdb_dest_amazon_s3_bucket_secret');
delete_site_option('wpdb_dest_amazon_s3_bucket_secret');
delete_option('wp_db_backup_destination_SFTP');
delete_site_option('wp_db_backup_destination_SFTP');
delete_option('wp_db_backup_sftp_details');
delete_site_option('wp_db_backup_sftp_details');
delete_option('wpdbbkp_dashboard_notify');
delete_site_option('wpdbbkp_dashboard_notify');
delete_option('wp_db_backup_backups');
delete_site_option('wp_db_backup_backups');
delete_option('wpdbbkp_activation_redirect');
delete_site_option('wpdbbkp_activation_redirect');
delete_option('wp_db_backup_search_text');
delete_site_option('wp_db_backup_search_text');
delete_option('wp_local_db_backup_count');
delete_site_option('wp_local_db_backup_count');
delete_option('wp_db_log');
delete_site_option('wp_db_log');
delete_option('wp_db_remove_on_uninstall');
delete_site_option('wp_db_remove_on_uninstall');
delete_option('wp_db_save_settings_in_backup');
delete_site_option('wp_db_save_settings_in_backup');
delete_option('wp_db_backup_enable_auto_upgrade');
delete_site_option('wp_db_backup_enable_auto_upgrade');
delete_option('wp_db_exclude_table');
delete_site_option('wp_db_exclude_table');
delete_option('wp_db_backup_options');
delete_site_option('wp_db_backup_options');
delete_option('bkpforwp_enable_anonymization');
delete_site_option('bkpforwp_enable_anonymization');
delete_option('bkpforwp_enable_backup_encryption');
delete_site_option('bkpforwp_enable_backup_encryption');
delete_option('bkpforwp_enable_exact_backup_time');
delete_site_option('bkpforwp_enable_exact_backup_time');
delete_option('bkpforwp_anonymization_type');
delete_site_option('bkpforwp_anonymization_type');
delete_option('bkpforwp_anonymization_pass');
delete_site_option('bkpforwp_anonymization_pass');
delete_option('bkpforwp_backup_encryption_pass');
delete_site_option('bkpforwp_backup_encryption_pass');
delete_option('wp_db_restore_limit');
delete_site_option('wp_db_restore_limit');
delete_option('wp_db_backup_replace_text');
delete_site_option('wp_db_backup_replace_text');
delete_option('bkpforwp_encryption_pass');
delete_site_option('bkpforwp_encryption_pass');
delete_option('wpdbbkp_export_notify');
delete_site_option('wpdbbkp_export_notify');
delete_option('wp_db_backup_backup_type');
delete_site_option('wp_db_backup_backup_type');
delete_option('wp_db_backup_exclude_dir');
delete_site_option('wp_db_backup_exclude_dir');
delete_option('wpdbbkp_backupcron_status');
delete_site_option('wpdbbkp_backupcron_status');
delete_option('wpdbbkp_total_chunk_cnt');
delete_site_option('wpdbbkp_total_chunk_cnt');
delete_option('wpdbbkp_current_chunk_args');
delete_site_option('wpdbbkp_current_chunk_args');
delete_option('wpdbbkp_last_update');
delete_site_option('wpdbbkp_last_update');
delete_option('wpdbbkp_api_token');
delete_site_option('wpdbbkp_api_token');
delete_option('wpdbbkp_backupcron_step');
delete_site_option('wpdbbkp_backupcron_step');
delete_option('wpdbbkp_backupcron_progress');
delete_site_option('wpdbbkp_backupcron_progress');
delete_option('wpdbbkp_force_stop');
delete_site_option('wpdbbkp_force_stop');
delete_option('wpdbbkp_current_chunk_cnt');
delete_site_option('wpdbbkp_current_chunk_cnt');
delete_option('wp_db_last_backup_timestamp');
delete_site_option('wp_db_last_backup_timestamp');
delete_option('wp_all_backup_exclude_dir');
delete_site_option('wp_all_backup_exclude_dir');
delete_option('wp_db_backup_backups_dir');
delete_site_option('wp_db_backup_backups_dir');
delete_option('bb_last_backup_timestamp');
delete_site_option('bb_last_backup_timestamp');

// Delete Transients
delete_transient('b2_authorization_token');
delete_site_transient('b2_authorization_token');
delete_transient('b2_api_url');
delete_site_transient('b2_api_url');
delete_transient('wpdbbkp_db_cron_event_check');
delete_site_transient('wpdbbkp_db_cron_event_check');
delete_transient('wpdbbkp_backup_status');
delete_site_transient('wpdbbkp_backup_status');
delete_transient('wpdbbkp_track_progress');
delete_site_transient('wpdbbkp_track_progress');

// Clear Cron Jobs
wp_clear_scheduled_hook('wpdbbkp_db_backup_event');
wp_clear_scheduled_hook('wpdbkup_event_fullbackup');
wp_clear_scheduled_hook('wpdbbkp_cron_backup_hook_db');
wp_clear_scheduled_hook('backup_files_cron_new');
wp_clear_scheduled_hook('wpdbbkp_backup_files_cron');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'wpdbbkp_cloudbackup_notice_dismissed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'wpdbbkp_cloudbackup_notice_dismissed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'wpdbbkp_cloudbackup_notice_dismissed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'wpdbbkp_cloudbackup_notice_dismissed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'dismissed_wp_pointers' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'dismissed_wp_pointers' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'dismissed_wp_pointers' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'dismissed_wp_pointers' ) );

