#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'wpdb_dest_bb_s3_bucket_host'
wp option delete 'wpdb_dest_bb_s3_bucket'
wp option delete 'wpdb_dest_bb_s3_bucket_key'
wp option delete 'wpdb_dest_bb_s3_bucket_secret'
wp option delete 'wp_db_backup_destination_bb'
wp option delete 'wp_db_incremental_backup'
wp option delete 'wpdb_clouddrive_token'
wp option delete 'wp_db_backup_destination_cd'
wp option delete 'wpdb_dropboxtoken'
wp option delete 'wpdbbkp_backupcron_current'
wp option delete 'wpdb_dropbbox_dir'
wp option delete 'wp_db_backup_destination_Email'
wp option delete 'wp_db_backup_email_id'
wp option delete 'wp_db_backup_email_attachment'
wp option delete 'wp_db_remove_local_backup'
wp option delete 'wpdbbkp_unsubscribe_token'
wp option delete 'snapshot_ftp_host'
wp option delete 'snapshot_ftp_user'
wp option delete 'snapshot_ftp_pass'
wp option delete 'snapshot_ftp_subdir'
wp option delete 'wp_db_backup_destination_FTP'
wp option delete 'backupbreeze_ftp_host'
wp option delete 'backupbreeze_ftp_user'
wp option delete 'backupbreeze_ftp_pass'
wp option delete 'backupbreeze_ftp_subdir'
wp option delete 'backupbreeze_ftp_port'
wp option delete 'wpdb_dest_generics3_endpoint'
wp option delete 'wpdb_dest_generics3_bucket'
wp option delete 'wpdb_dest_generics3_bucket_key'
wp option delete 'wpdb_dest_generics3_bucket_secret'
wp option delete 'wp_db_backup_destination_generics3'
wp option delete 'wpdb_dest_google_authCode'
wp option delete 'wpdb_dest_google_client_key'
wp option delete 'wpdb_dest_google_secret_key'
wp option delete 'wpdb_google_drive_token'
wp option delete 'wp_db_local_backup'
wp option delete 'wp_db_local_backup_path'
wp option delete 'wp_db_backup_destination_s3'
wp option delete 'wpdb_dest_amazon_s3_bucket'
wp option delete 'wpdb_dest_amazon_s3_bucket_key'
wp option delete 'wpdb_dest_amazon_s3_bucket_secret'
wp option delete 'wp_db_backup_destination_SFTP'
wp option delete 'wp_db_backup_sftp_details'
wp option delete 'wpdbbkp_dashboard_notify'
wp option delete 'wp_db_backup_backups'
wp option delete 'wpdbbkp_activation_redirect'
wp option delete 'wp_db_backup_search_text'
wp option delete 'wp_local_db_backup_count'
wp option delete 'wp_db_log'
wp option delete 'wp_db_remove_on_uninstall'
wp option delete 'wp_db_save_settings_in_backup'
wp option delete 'wp_db_backup_enable_auto_upgrade'
wp option delete 'wp_db_exclude_table'
wp option delete 'wp_db_backup_options'
wp option delete 'bkpforwp_enable_anonymization'
wp option delete 'bkpforwp_enable_backup_encryption'
wp option delete 'bkpforwp_enable_exact_backup_time'
wp option delete 'bkpforwp_anonymization_type'
wp option delete 'bkpforwp_anonymization_pass'
wp option delete 'bkpforwp_backup_encryption_pass'
wp option delete 'wp_db_restore_limit'
wp option delete 'wp_db_backup_replace_text'
wp option delete 'bkpforwp_encryption_pass'
wp option delete 'wpdbbkp_export_notify'
wp option delete 'wp_db_backup_backup_type'
wp option delete 'wp_db_backup_exclude_dir'
wp option delete 'wpdbbkp_backupcron_status'
wp option delete 'wpdbbkp_total_chunk_cnt'
wp option delete 'wpdbbkp_current_chunk_args'
wp option delete 'wpdbbkp_last_update'
wp option delete 'wpdbbkp_api_token'
wp option delete 'wpdbbkp_backupcron_step'
wp option delete 'wpdbbkp_backupcron_progress'
wp option delete 'wpdbbkp_force_stop'
wp option delete 'wpdbbkp_current_chunk_cnt'
wp option delete 'wp_db_last_backup_timestamp'
wp option delete 'wp_all_backup_exclude_dir'
wp option delete 'wp_db_backup_backups_dir'
wp option delete 'bb_last_backup_timestamp'

# Delete Transients
wp transient delete 'b2_authorization_token'
wp transient delete 'b2_api_url'
wp transient delete 'wpdbbkp_db_cron_event_check'
wp transient delete 'wpdbbkp_backup_status'
wp transient delete 'wpdbbkp_track_progress'

# Clear Cron Jobs
wp cron event delete 'wpdbbkp_db_backup_event'
wp cron event delete 'wpdbkup_event_fullbackup'
wp cron event delete 'wpdbbkp_cron_backup_hook_db'
wp cron event delete 'backup_files_cron_new'
wp cron event delete 'wpdbbkp_backup_files_cron'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'wpdbbkp_cloudbackup_notice_dismissed'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'wpdbbkp_cloudbackup_notice_dismissed'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'wpdbbkp_cloudbackup_notice_dismissed'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'wpdbbkp_cloudbackup_notice_dismissed'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'dismissed_wp_pointers'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'dismissed_wp_pointers'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'dismissed_wp_pointers'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'dismissed_wp_pointers'"
