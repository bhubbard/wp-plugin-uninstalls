#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'krea3_citykomi_client_settings'
wp option delete 'classic-editor-replace'
wp option delete 'classic-editor-allow-users'

# Delete Transients
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_krea3_citykomi_messages_%' OR option_name LIKE '_site_transient_krea3_citykomi_messages_%'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient__krea3citykomi_msg_%' OR option_name LIKE '_site_transient__krea3citykomi_msg_%'"
wp transient delete 'krea3_citykomi_canaux'
wp transient delete '_krea3citykomi_messages_display'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_start_at'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_start_at'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_start_at'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_start_at'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_send_at'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_send_at'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_send_at'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_send_at'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_end_at'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_end_at'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_end_at'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_end_at'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_document'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_document'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_document'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_document'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_show_en_at'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_show_en_at'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_show_en_at'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_show_en_at'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_date_publication'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_date_publication'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_date_publication'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_date_publication'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_masquer_date_fin'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_masquer_date_fin'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_masquer_date_fin'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_masquer_date_fin'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_id_channel'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_id_channel'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_id_channel'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_id_channel'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_expiration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_expiration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_expiration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_expiration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_response'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_response'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_response'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_response'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_id_message'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_id_message'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_id_message'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_id_message'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_start_at_utc'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_start_at_utc'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_start_at_utc'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_start_at_utc'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_end_at_utc'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_end_at_utc'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_end_at_utc'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_end_at_utc'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_send_at_utc'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_send_at_utc'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_send_at_utc'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_send_at_utc'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'citykomi_wp_document'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'citykomi_wp_document'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'citykomi_wp_document'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'citykomi_wp_document'"
