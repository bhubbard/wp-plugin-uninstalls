<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('gh_force_to_setup');
delete_site_option('gh_force_to_setup');
delete_option('disallowed_keys');
delete_site_option('disallowed_keys');
delete_option('gh_telemetry_email');
delete_site_option('gh_telemetry_email');
delete_option('gh_master_license');
delete_site_option('gh_master_license');
delete_option('gh_support_license');
delete_site_option('gh_support_license');
delete_option('gh_support_user_login');
delete_site_option('gh_support_user_login');
delete_option('gh_ticket_defaults');
delete_site_option('gh_ticket_defaults');
delete_option('gh_custom_reports');
delete_site_option('gh_custom_reports');
delete_option('gh_master_license_access');
delete_site_option('gh_master_license_access');
delete_option('gh_custom_profile_fields');
delete_site_option('gh_custom_profile_fields');
delete_option('gh_custom_preference_fields');
delete_site_option('gh_custom_preference_fields');
delete_option('gh_email_log_retention');
delete_site_option('gh_email_log_retention');
delete_option('gh_page_visits_log_retention');
delete_site_option('gh_page_visits_log_retention');
delete_option('wp_cron_last_ping');
delete_site_option('wp_cron_last_ping');
delete_option('gh_cron_last_ping');
delete_site_option('gh_cron_last_ping');
delete_option('gh_disable_wp_cron');
delete_site_option('gh_disable_wp_cron');
delete_option('gh_custom_email_footer_text');
delete_site_option('gh_custom_email_footer_text');
delete_option('gh_task_outcomes');
delete_site_option('gh_task_outcomes');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_db_version' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('gh_custom_tabs');
delete_site_option('gh_custom_tabs');
delete_option('gh_custom_tab_sections');
delete_site_option('gh_custom_tab_sections');
delete_option('gh_custom_tab_section_fields');
delete_site_option('gh_custom_tab_section_fields');
delete_option('gh_contact_custom_properties');
delete_site_option('gh_contact_custom_properties');
delete_option('gh_bounce_inbox');
delete_site_option('gh_bounce_inbox');
delete_option('gh_bounce_inbox_password');
delete_site_option('gh_bounce_inbox_password');
delete_option('gh_bounce_inbox_host');
delete_site_option('gh_bounce_inbox_host');
delete_option('gh_bounce_inbox_port');
delete_site_option('gh_bounce_inbox_port');
delete_option('gh_unsubscribe_email');
delete_site_option('gh_unsubscribe_email');
delete_option('gh_failed_event_notification_last_sent');
delete_site_option('gh_failed_event_notification_last_sent');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_email_service' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('gh_extensions');
delete_site_option('gh_extensions');
delete_option('gh_recaptcha_version');
delete_site_option('gh_recaptcha_version');
delete_option('gh_recaptcha_site_key');
delete_site_option('gh_recaptcha_site_key');
delete_option('gh_recaptcha_v3_score_threshold');
delete_site_option('gh_recaptcha_v3_score_threshold');
delete_option('gh_terms');
delete_site_option('gh_terms');
delete_option('gh_recaptcha_secret_key');
delete_site_option('gh_recaptcha_secret_key');
delete_option('gh_turnstile_site_key');
delete_site_option('gh_turnstile_site_key');
delete_option('gh_turnstile_secret_key');
delete_site_option('gh_turnstile_secret_key');
delete_option('gh_override_from_name');
delete_site_option('gh_override_from_name');
delete_option('gh_override_from_email');
delete_site_option('gh_override_from_email');
delete_option('gh_managed_page_name_override');
delete_site_option('gh_managed_page_name_override');
delete_option('gh_default_country_code');
delete_site_option('gh_default_country_code');
delete_option('gh_primary_user');
delete_site_option('gh_primary_user');
delete_option('get_default_email_width');
delete_site_option('get_default_email_width');
delete_option('gh_owners');
delete_site_option('gh_owners');
delete_option('active_sitewide_plugins');
delete_site_option('active_sitewide_plugins');
delete_option('gh_url_tracking_exclusions');
delete_site_option('gh_url_tracking_exclusions');
delete_option('gh_business_name');
delete_site_option('gh_business_name');
delete_option('gh_phone');
delete_site_option('gh_phone');
delete_option('gh_privacy_policy');
delete_site_option('gh_privacy_policy');
delete_option('gh_email_editor_block_defaults');
delete_site_option('gh_email_editor_block_defaults');
delete_option('gh_email_editor_color_palette');
delete_site_option('gh_email_editor_color_palette');
delete_option('gh_email_editor_global_fonts');
delete_site_option('gh_email_editor_global_fonts');
delete_option('gh_email_editor_global_social_accounts');
delete_site_option('gh_email_editor_global_social_accounts');
delete_option('gh_consent_cookie_name');
delete_site_option('gh_consent_cookie_name');
delete_option('gh_consent_cookie_value');
delete_site_option('gh_consent_cookie_value');
delete_option('gh_default_contact_tab');
delete_site_option('gh_default_contact_tab');
delete_option('gh_imap_inbox_password');
delete_site_option('gh_imap_inbox_password');
delete_option('gh_imap_inbox_address');
delete_site_option('gh_imap_inbox_address');
delete_option('gh_imap_inbox_host');
delete_site_option('gh_imap_inbox_host');
delete_option('gh_imap_inbox_port');
delete_site_option('gh_imap_inbox_port');
delete_option('gh_use_advanced_email_editor');
delete_site_option('gh_use_advanced_email_editor');
delete_option('gh_enable_tag_mapping');
delete_site_option('gh_enable_tag_mapping');
delete_option('gh_disable_unsubscribe_header');
delete_site_option('gh_disable_unsubscribe_header');
delete_option('gh_purge_page_visits');
delete_site_option('gh_purge_page_visits');
delete_option('gh_queue_times_executed');
delete_site_option('gh_queue_times_executed');
delete_option('gh_average_execution_time');
delete_site_option('gh_average_execution_time');
delete_option('gh_queue_last_execution_time');
delete_site_option('gh_queue_last_execution_time');
delete_option('gh_ignore_event_errors');
delete_site_option('gh_ignore_event_errors');
delete_option('gh_event_failure_notification_email');
delete_site_option('gh_event_failure_notification_email');
delete_option('gh_auto_login_fallback_page');
delete_site_option('gh_auto_login_fallback_page');
delete_option('gh_global_db_enabled');
delete_site_option('gh_global_db_enabled');
delete_option('gh_confirmed_tag');
delete_site_option('gh_confirmed_tag');
delete_option('gh_unconfirmed_tag');
delete_site_option('gh_unconfirmed_tag');
delete_option('gh_unsubscribed_tag');
delete_site_option('gh_unsubscribed_tag');
delete_option('gh_spammed_tag');
delete_site_option('gh_spammed_tag');
delete_option('gh_bounced_tag');
delete_site_option('gh_bounced_tag');
delete_option('gh_complained_tag');
delete_site_option('gh_complained_tag');
delete_option('gh_weekly_tag');
delete_site_option('gh_weekly_tag');
delete_option('gh_monthly_tag');
delete_site_option('gh_monthly_tag');
delete_option('gh_marketable_tag');
delete_site_option('gh_marketable_tag');
delete_option('gh_non_marketable_tag');
delete_site_option('gh_non_marketable_tag');
delete_option('gh_opted_in_stats_collection');
delete_site_option('gh_opted_in_stats_collection');
delete_option('gh_safe_mode_last_used');
delete_site_option('gh_safe_mode_last_used');
delete_option('gh_open_tracking_delay');
delete_site_option('gh_open_tracking_delay');
delete_option('gh_click_tracking_delay');
delete_site_option('gh_click_tracking_delay');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_dates' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('gh_secret_key');
delete_site_option('gh_secret_key');
delete_option('gh_secret_iv');
delete_site_option('gh_secret_iv');
delete_option('gh_safe_mode_enabled');
delete_site_option('gh_safe_mode_enabled');
delete_option('gh_safe_mode_restore_plugins');
delete_site_option('gh_safe_mode_restore_plugins');
delete_option('gh_affiliate_id');
delete_site_option('gh_affiliate_id');
delete_option('gh_email_footer_alignment');
delete_site_option('gh_email_footer_alignment');
delete_option('gh_business_phone');
delete_site_option('gh_business_phone');

// Delete Transients
delete_transient('gh_last_action');
delete_site_transient('gh_last_action');
delete_transient('groundhogg_last_action');
delete_site_transient('groundhogg_last_action');
delete_transient('gh_get_broadcast_config');
delete_site_transient('gh_get_broadcast_config');
delete_transient('gh_step_id');
delete_site_transient('gh_step_id');
delete_transient('gh_current_broadcast_id');
delete_site_transient('gh_current_broadcast_id');
delete_transient('gh_create_user_job_config');
delete_site_transient('gh_create_user_job_config');
delete_transient('gh_send_account_email');
delete_site_transient('gh_send_account_email');
delete_transient('gh_bulk_edit_fields');
delete_site_transient('gh_bulk_edit_fields');
delete_transient('gh_bulk_edit_query');
delete_site_transient('gh_bulk_edit_query');
delete_transient('gh_export_headers');
delete_site_transient('gh_export_headers');
delete_transient('gh_export_query');
delete_site_transient('gh_export_query');
delete_transient('gh_export_header_type');
delete_site_transient('gh_export_header_type');
delete_transient('gh_export_file');
delete_site_transient('gh_export_file');
delete_transient('gh_import_file_path');
delete_site_transient('gh_import_file_path');
delete_transient('gh_import_map');
delete_site_transient('gh_import_map');
delete_transient('gh_import_tags');
delete_site_transient('gh_import_tags');
delete_transient('gh_import_compliance');
delete_site_transient('gh_import_compliance');
delete_transient('update_plugins');
delete_site_transient('update_plugins');
delete_transient('groundhogg_review_request_dismissed');
delete_site_transient('groundhogg_review_request_dismissed');
delete_transient('gh_notification_ids');
delete_site_transient('gh_notification_ids');
delete_transient('site_country_code');
delete_site_transient('site_country_code');

// Clear Cron Jobs
wp_clear_scheduled_hook('groundhogg/cleanup');
wp_clear_scheduled_hook('groundhogg/daily');
wp_clear_scheduled_hook('groundhogg/sending_service/verify_domain');
wp_clear_scheduled_hook('groundhogg/purge_email_logs');
wp_clear_scheduled_hook('groundhogg/purge_page_visits');
wp_clear_scheduled_hook('groundhogg/aws/remove_old_logs');
wp_clear_scheduled_hook('groundhogg/birthday');
wp_clear_scheduled_hook('groundhogg/telemetry');
wp_clear_scheduled_hook('groundhogg/check_bounces');
wp_clear_scheduled_hook('groundhogg/purge_expired_permissions_keys');
wp_clear_scheduled_hook('gh_purge_old_email_logs');
wp_clear_scheduled_hook('gh_purge_page_visits');
wp_clear_scheduled_hook('gh_do_stats_collection');
wp_clear_scheduled_hook('gh_purge_expired_permissions_keys');
wp_clear_scheduled_hook('gh_check_bounces');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'groundhogg_info_card_order' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'groundhogg_info_card_order' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'groundhogg_info_card_order' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'groundhogg_info_card_order' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'gh_funnel_editor_full_screen' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'gh_funnel_editor_full_screen' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'gh_funnel_editor_full_screen' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'gh_funnel_editor_full_screen' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'locale' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'locale' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'locale' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'locale' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'gh_weekly_overview' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'gh_weekly_overview' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'gh_weekly_overview' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'gh_weekly_overview' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'gh_broadcast_results' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'gh_broadcast_results' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'gh_broadcast_results' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'gh_broadcast_results' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'gh_free_extension_discount' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'gh_free_extension_discount' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'gh_free_extension_discount' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'gh_free_extension_discount' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'wpgh_user_public_key' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'wpgh_user_public_key' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'wpgh_user_public_key' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'wpgh_user_public_key' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'wpgh_user_secret_key' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'wpgh_user_secret_key' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'wpgh_user_secret_key' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'wpgh_user_secret_key' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'signature' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'signature' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'signature' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'signature' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'gh_default_contact_tab' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'gh_default_contact_tab' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'gh_default_contact_tab' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'gh_default_contact_tab' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'gh_test_emails' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'gh_test_emails' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'gh_test_emails' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'gh_test_emails' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_wp_attachment_image_alt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'preferred_test_email' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'preferred_test_email' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'preferred_test_email' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'preferred_test_email' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'groundhogg_notices' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'groundhogg_notices' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'groundhogg_notices' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'groundhogg_notices' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'dismissed_wp_pointers' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'dismissed_wp_pointers' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'dismissed_wp_pointers' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'dismissed_wp_pointers' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'gh_safe_mode_enabled' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'gh_safe_mode_enabled' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'gh_safe_mode_enabled' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'gh_safe_mode_enabled' ) );

