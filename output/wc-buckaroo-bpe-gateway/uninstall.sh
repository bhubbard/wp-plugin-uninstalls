#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'woocommerce_buckaroo_creditcard_settings'
wp option delete 'woocommerce_buckaroo_mastersettings_settings'
wp option delete 'woocommerce_force_ssl_checkout'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_settings'"
wp option delete 'woocommerce_buckaroo_applepay_settings'
wp option delete 'woocommerce_default_country'
wp option delete 'woocommerce_currency'
wp option delete 'woocommerce_buckaroo_paypal_settings'
wp option delete 'woocommerce_shipping_tax_class'

# Delete Transients
wp transient delete 'buckaroo_creditcard_updated'
wp transient delete 'buckaroo_credicard_updated'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%buckarooAdminNotice' OR option_name LIKE '_site_transient_%buckarooAdminNotice'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%buckaroo_require_woocommerce' OR option_name LIKE '_site_transient_%buckaroo_require_woocommerce'"
wp transient delete 'buckaroo_plugin_updated'

# Clear Cron Jobs
wp cron event delete 'buckaroo_clean_logger_storage'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'shipping_country'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'shipping_country'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'shipping_country'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'shipping_country'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wc_order_selected_payment_method'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wc_order_selected_payment_method'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wc_order_selected_payment_method'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wc_order_selected_payment_method'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wc_order_payment_issuer'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wc_order_payment_issuer'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wc_order_payment_issuer'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wc_order_payment_issuer'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wc_order_captures'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wc_order_captures'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wc_order_captures'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wc_order_captures'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wc_order_authorized'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wc_order_authorized'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wc_order_authorized'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wc_order_authorized'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_payload_birthday'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_payload_birthday'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_payload_birthday'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_payload_birthday'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_payment_method'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_payment_method'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_payment_method'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_payment_method'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_payment_method_title'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_payment_method_title'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_payment_method_title'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_payment_method_title'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_payment_method_transaction'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_payment_method_transaction'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_payment_method_transaction'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_payment_method_transaction'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_payload_encrypted_card_data'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_payload_encrypted_card_data'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_payload_encrypted_card_data'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_payload_encrypted_card_data'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_idin'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_idin'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_idin'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_idin'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_idin_bin'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_idin_bin'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_idin_bin'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_idin_bin'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_is_reserved'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_is_reserved'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_is_reserved'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_is_reserved'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_buckaroo_klarnakp_reservation_number'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_buckaroo_klarnakp_reservation_number'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_buckaroo_klarnakp_reservation_number'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_buckaroo_klarnakp_reservation_number'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_paymentReference'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_paymentReference'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_paymentReference'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_paymentReference'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_IBAN'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_IBAN'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_IBAN'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_IBAN'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_BIC'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_BIC'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_BIC'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_BIC'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_accountHolderName'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_accountHolderName'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_accountHolderName'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_accountHolderName'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_bankAccount'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_bankAccount'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_bankAccount'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_bankAccount'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_accountHolderCity'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_accountHolderCity'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_accountHolderCity'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_accountHolderCity'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_accountHolderCountry'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_accountHolderCountry'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_accountHolderCountry'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_accountHolderCountry'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wc_order_is_captured'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wc_order_is_captured'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wc_order_is_captured'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wc_order_is_captured'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_buckaroo_order_in_test_mode'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_buckaroo_order_in_test_mode'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_buckaroo_order_in_test_mode'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_buckaroo_order_in_test_mode'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_captures_refunded'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_captures_refunded'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_captures_refunded'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_captures_refunded'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wc_order_amount_captured'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wc_order_amount_captured'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wc_order_amount_captured'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wc_order_amount_captured'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '_capturebuckaroo%'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '_capturebuckaroo%'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '_capturebuckaroo%'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '_capturebuckaroo%'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_pushallowed'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_pushallowed'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_pushallowed'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_pushallowed'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_capture'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_capture'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_capture'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_capture'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '_refundbuckaroo%'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '_refundbuckaroo%'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '_refundbuckaroo%'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '_refundbuckaroo%'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'buckaroo_settlement'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'buckaroo_settlement'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'buckaroo_settlement'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'buckaroo_settlement'"
