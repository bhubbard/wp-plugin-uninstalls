#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_options'"
wp option delete 'fs_mls_premium'
wp option delete 'melapress_login_security_freemius_state'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_activation'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_reset_timestamp'"
wp option delete 'mls_migration_status'
wp option delete 'mls_200_migration_complete'
wp option delete 'mls_migration_required'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_inactive_users'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_update_notice_needed'"
wp option delete 'ppm_migration_required'
wp option delete 'ppmwp_setting'
wp option delete 'ppmwp_options'
wp option delete 'mls_migration_started'
wp option delete 'mls_setting'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_setting'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_redirect_to_settings'"

# Delete Transients
wp transient delete 'fs_mls_premium'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%_process_lock' OR option_name LIKE '_site_transient_%_process_lock'"

# Clear Cron Jobs
wp cron event delete 'mls_send_summary_email'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_recently_unlocked_reason'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_recently_unlocked_reason'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_recently_unlocked_reason'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_recently_unlocked_reason'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_user_has_manually_reset'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_user_has_manually_reset'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_user_has_manually_reset'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_user_has_manually_reset'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_inactive_set_time'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_inactive_set_time'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_inactive_set_time'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_inactive_set_time'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_recently_unlocked_time'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_recently_unlocked_time'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_recently_unlocked_time'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_recently_unlocked_time'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_recently_unlocked'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_recently_unlocked'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_recently_unlocked'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_recently_unlocked'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_pw_expires_soon_notice_dismissed'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_pw_expires_soon_notice_dismissed'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_pw_expires_soon_notice_dismissed'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_pw_expires_soon_notice_dismissed'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_pw_expires_soon'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_pw_expires_soon'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_pw_expires_soon'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_pw_expires_soon'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_last_activity'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_last_activity'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_last_activity'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_last_activity'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_blocked_since'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_blocked_since'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_blocked_since'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_blocked_since'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'dismissed_wp_pointers'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'dismissed_wp_pointers'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'dismissed_wp_pointers'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'dismissed_wp_pointers'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_security_prompt_responses'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_security_prompt_responses'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_security_prompt_responses'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_security_prompt_responses'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_reset_pw_on_login'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_reset_pw_on_login'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_reset_pw_on_login'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_reset_pw_on_login'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%is_blocked_user'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%is_blocked_user'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%is_blocked_user'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%is_blocked_user'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_login_ips'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_login_ips'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_login_ips'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_login_ips'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user_expires_on'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user_expires_on'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user_expires_on'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user_expires_on'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_login_count'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_login_count'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_login_count'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_login_count'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user_expires_on_date'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user_expires_on_date'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user_expires_on_date'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user_expires_on_date'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user_expired'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user_expired'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user_expired'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user_expired'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user_max_login_limit'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user_max_login_limit'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user_max_login_limit'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user_max_login_limit'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_last_login'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_last_login'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_last_login'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_last_login'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user_created_on'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user_created_on'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user_created_on'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user_created_on'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user_skip_2fa'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user_skip_2fa'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user_skip_2fa'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user_skip_2fa'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user_redirect_to'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user_redirect_to'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user_redirect_to'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user_redirect_to'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'locale'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'locale'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'locale'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'locale'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user_token'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user_token'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user_token'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user_token'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'wp_2fa_enforcement_state'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'wp_2fa_enforcement_state'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'wp_2fa_enforcement_state'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'wp_2fa_enforcement_state'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'show_welcome_panel'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'show_welcome_panel'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'show_welcome_panel'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'show_welcome_panel'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mls_temp_user_updated'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mls_temp_user_updated'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mls_temp_user_updated'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mls_temp_user_updated'"
