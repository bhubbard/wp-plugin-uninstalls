<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('wc_blacklist_ip_enabled');
delete_site_option('wc_blacklist_ip_enabled');
delete_option('wc_blacklist_form_blocking_enabled');
delete_site_option('wc_blacklist_form_blocking_enabled');
delete_option('wc_blacklist_sum_block_email');
delete_site_option('wc_blacklist_sum_block_email');
delete_option('wc_blacklist_sum_block_total');
delete_site_option('wc_blacklist_sum_block_total');
delete_option('wc_blacklist_domain_form');
delete_site_option('wc_blacklist_domain_form');
delete_option('wc_blacklist_sum_block_domain');
delete_site_option('wc_blacklist_sum_block_domain');
delete_option('wc_blacklist_sum_block_phone');
delete_site_option('wc_blacklist_sum_block_phone');
delete_option('wc_blacklist_block_ip_form');
delete_site_option('wc_blacklist_block_ip_form');
delete_option('wc_blacklist_sum_block_ip');
delete_site_option('wc_blacklist_sum_block_ip');
delete_option('wc_blacklist_block_proxy_vpn_form');
delete_site_option('wc_blacklist_block_proxy_vpn_form');
delete_option('wc_blacklist_email_form_block');
delete_site_option('wc_blacklist_email_form_block');
delete_option('wc_blacklist_form_notice');
delete_site_option('wc_blacklist_form_notice');
delete_option('wc_blacklist_vpn_proxy_form_notice');
delete_site_option('wc_blacklist_vpn_proxy_form_notice');
delete_option('wc_blacklist_domain_enabled');
delete_site_option('wc_blacklist_domain_enabled');
delete_option('wc_blacklist_domain_action');
delete_site_option('wc_blacklist_domain_action');
delete_option('wc_blacklist_domain_top_level');
delete_site_option('wc_blacklist_domain_top_level');
delete_option('wc_blacklist_checkout_notice');
delete_site_option('wc_blacklist_checkout_notice');
delete_option('wc_blacklist_domain_registration');
delete_site_option('wc_blacklist_domain_registration');
delete_option('wc_blacklist_domain_comment');
delete_site_option('wc_blacklist_domain_comment');
delete_option('wc_blacklist_comment_notice');
delete_site_option('wc_blacklist_comment_notice');
delete_option('wc_blacklist_ip_action');
delete_site_option('wc_blacklist_ip_action');
delete_option('wc_blacklist_block_ip_registration');
delete_site_option('wc_blacklist_block_ip_registration');
delete_option('wc_blacklist_block_ip_comment');
delete_site_option('wc_blacklist_block_ip_comment');
delete_option('wc_advanced_accounts_premium_license_status');
delete_site_option('wc_advanced_accounts_premium_license_status');
delete_option('wc_blacklist_enable_user_blocking');
delete_site_option('wc_blacklist_enable_user_blocking');
delete_option('wc_blacklist_blocked_user_notice');
delete_site_option('wc_blacklist_blocked_user_notice');
delete_option('wc_blacklist_action');
delete_site_option('wc_blacklist_action');
delete_option('wc_blacklist_block_user_registration');
delete_site_option('wc_blacklist_block_user_registration');
delete_option('yoaa_wc_enable_phone_number_account');
delete_site_option('yoaa_wc_enable_phone_number_account');
delete_option('wc_blacklist_order_delay');
delete_site_option('wc_blacklist_order_delay');
delete_option('wc_blacklist_comment_blocking_enabled');
delete_site_option('wc_blacklist_comment_blocking_enabled');
delete_option('wc_blacklist_customer_name_blocking_enabled');
delete_site_option('wc_blacklist_customer_name_blocking_enabled');
delete_option('wc_blacklist_sum_block_name');
delete_site_option('wc_blacklist_sum_block_name');
delete_option('wc_blacklist_enable_customer_address_blocking');
delete_site_option('wc_blacklist_enable_customer_address_blocking');
delete_option('wc_blacklist_sum_block_address');
delete_site_option('wc_blacklist_sum_block_address');
delete_option('wc_blacklist_enable_shipping_address_blocking');
delete_site_option('wc_blacklist_enable_shipping_address_blocking');
delete_option('wc_blacklist_registration_notice');
delete_site_option('wc_blacklist_registration_notice');
delete_option('wc_blacklist_email_notification');
delete_site_option('wc_blacklist_email_notification');
delete_option('wc_blacklist_sender_name');
delete_site_option('wc_blacklist_sender_name');
delete_option('wc_blacklist_sender_address');
delete_site_option('wc_blacklist_sender_address');
delete_option('wc_blacklist_email_recipient');
delete_site_option('wc_blacklist_email_recipient');
delete_option('wc_blacklist_email_footer_text');
delete_site_option('wc_blacklist_email_footer_text');
delete_option('wc_blacklist_email_blocking_notification');
delete_site_option('wc_blacklist_email_blocking_notification');
delete_option('wc_blacklist_email_register_suspect');
delete_site_option('wc_blacklist_email_register_suspect');
delete_option('wc_blacklist_email_register_block');
delete_site_option('wc_blacklist_email_register_block');
delete_option('wc_blacklist_email_comment_suspect');
delete_site_option('wc_blacklist_email_comment_suspect');
delete_option('wc_blacklist_email_comment_block');
delete_site_option('wc_blacklist_email_comment_block');
delete_option('wc_blacklist_email_verification');
delete_site_option('wc_blacklist_email_verification');
delete_option('wc_blacklist_email_verification_enabled');
delete_site_option('wc_blacklist_email_verification_enabled');
delete_option('wc_blacklist_email_verification_action');
delete_site_option('wc_blacklist_email_verification_action');
delete_option('wc_blacklist_phone_verification');
delete_site_option('wc_blacklist_phone_verification');
delete_option('wc_blacklist_phone_verification_enabled');
delete_site_option('wc_blacklist_phone_verification_enabled');
delete_option('wc_blacklist_phone_verification_action');
delete_site_option('wc_blacklist_phone_verification_action');
delete_option('yoohw_sms_service');
delete_site_option('yoohw_sms_service');
delete_option('yoohw_phone_verification_sms_key');
delete_site_option('yoohw_phone_verification_sms_key');
delete_option('wc_blacklist_phone_verification_failed_email');
delete_site_option('wc_blacklist_phone_verification_failed_email');
delete_option('wc_blacklist_additional_emails');
delete_site_option('wc_blacklist_additional_emails');
delete_option('wc_blacklist_enable_global_blacklist');
delete_site_option('wc_blacklist_enable_global_blacklist');
delete_option('yogb_bm_api_key');
delete_site_option('yogb_bm_api_key');
delete_option('yogb_bm_api_secret');
delete_site_option('yogb_bm_api_secret');
delete_option('yogb_bm_reporter_id');
delete_site_option('yogb_bm_reporter_id');
delete_option('wc_blacklist_global_blacklist_decision_mode');
delete_site_option('wc_blacklist_global_blacklist_decision_mode');
delete_option('wc_blacklist_settings_permission');
delete_site_option('wc_blacklist_settings_permission');
delete_option('wc_blacklist_dashboard_permission');
delete_site_option('wc_blacklist_dashboard_permission');
delete_option('wc_blacklist_connection_mode');
delete_site_option('wc_blacklist_connection_mode');
delete_option('wc_blacklist_notifications_permission');
delete_site_option('wc_blacklist_notifications_permission');
delete_option('yoohw_settings_disable_menu');
delete_site_option('yoohw_settings_disable_menu');
delete_option('wc_blacklist_email_subject');
delete_site_option('wc_blacklist_email_subject');
delete_option('wc_blacklist_email_message');
delete_site_option('wc_blacklist_email_message');
delete_option('wc_blacklist_email_form_suspect');
delete_site_option('wc_blacklist_email_form_suspect');
delete_option('wc_blacklist_vpn_proxy_checkout_notice');
delete_site_option('wc_blacklist_vpn_proxy_checkout_notice');
delete_option('wc_blacklist_payment_method_notice');
delete_site_option('wc_blacklist_payment_method_notice');
delete_option('wc_blacklist_vpn_proxy_registration_notice');
delete_site_option('wc_blacklist_vpn_proxy_registration_notice');
delete_option('wc_blacklist_email_notice');
delete_site_option('wc_blacklist_email_notice');
delete_option('wc_blacklist_phone_notice');
delete_site_option('wc_blacklist_phone_notice');
delete_option('wc_blacklist_access_blocked_ip');
delete_site_option('wc_blacklist_access_blocked_ip');
delete_option('wc_blacklist_access_blocked_ip_country');
delete_site_option('wc_blacklist_access_blocked_ip_country');
delete_option('wc_blacklist_access_blocked_browser');
delete_site_option('wc_blacklist_access_blocked_browser');
delete_option('wc_blacklist_manager_premium_license_status');
delete_site_option('wc_blacklist_manager_premium_license_status');
delete_option('blacklist_manager_premium_for_forms_license_status');
delete_site_option('blacklist_manager_premium_for_forms_license_status');
delete_option('woocommerce_allowed_countries');
delete_site_option('woocommerce_allowed_countries');
delete_option('woocommerce_specific_allowed_countries');
delete_site_option('woocommerce_specific_allowed_countries');
delete_option('wc_blacklist_email_verification_real_time_validate');
delete_site_option('wc_blacklist_email_verification_real_time_validate');
delete_option('wc_blacklist_email_verification_disposable');
delete_site_option('wc_blacklist_email_verification_disposable');
delete_option('wc_blacklist_manager_premium_enable_numcheckr');
delete_site_option('wc_blacklist_manager_premium_enable_numcheckr');
delete_option('wc_blacklist_phone_verification_real_time_validate');
delete_site_option('wc_blacklist_phone_verification_real_time_validate');
delete_option('wc_blacklist_name_verification_auto_capitalization');
delete_site_option('wc_blacklist_name_verification_auto_capitalization');
delete_option('wc_blacklist_name_verification_real_time_validate');
delete_site_option('wc_blacklist_name_verification_real_time_validate');
delete_option('wc_blacklist_phone_verification_country_code_disabled');
delete_site_option('wc_blacklist_phone_verification_country_code_disabled');
delete_option('wc_blacklist_whitelist_merged_success');
delete_site_option('wc_blacklist_whitelist_merged_success');
delete_option('wc_blacklist_sum_name');
delete_site_option('wc_blacklist_sum_name');
delete_option('wc_blacklist_sum_phone');
delete_site_option('wc_blacklist_sum_phone');
delete_option('wc_blacklist_sum_email');
delete_site_option('wc_blacklist_sum_email');
delete_option('wc_blacklist_sum_ip');
delete_site_option('wc_blacklist_sum_ip');
delete_option('wc_blacklist_sum_address');
delete_site_option('wc_blacklist_sum_address');
delete_option('wc_blacklist_sum_domain');
delete_site_option('wc_blacklist_sum_domain');
delete_option('wc_blacklist_sum_total');
delete_site_option('wc_blacklist_sum_total');
delete_option('yogb_bm_tier');
delete_site_option('yogb_bm_tier');
delete_option('yoohw_phone_verification_sms_quota');
delete_site_option('yoohw_phone_verification_sms_quota');
delete_option('wc_blacklist_manager_premium_zerobounce_api_key');
delete_site_option('wc_blacklist_manager_premium_zerobounce_api_key');
delete_option('wc_blacklist_manager_premium_bigdatacloud_api_key');
delete_site_option('wc_blacklist_manager_premium_bigdatacloud_api_key');
delete_option('wc_blacklist_manager_premium_numcheckr_api_key');
delete_site_option('wc_blacklist_manager_premium_numcheckr_api_key');
delete_option('wc_blacklist_manager_premium_license_key');
delete_site_option('wc_blacklist_manager_premium_license_key');
delete_option('wc_blacklist_manager_premium_license_expired');
delete_site_option('wc_blacklist_manager_premium_license_expired');
delete_option('yoohw_settings_logger');
delete_site_option('yoohw_settings_logger');
delete_option('woocommerce_new_order_recipient');
delete_site_option('woocommerce_new_order_recipient');
delete_option('woocommerce_default_country');
delete_site_option('woocommerce_default_country');
delete_option('wc_blacklist_manager_version');
delete_site_option('wc_blacklist_manager_version');
delete_option('yogb_bm_reg_cooldown_until');
delete_site_option('yogb_bm_reg_cooldown_until');
delete_option('yogb_bm_reg_attempts');
delete_site_option('yogb_bm_reg_attempts');
delete_option('yogb_bm_reg_backoff');
delete_site_option('yogb_bm_reg_backoff');
delete_option('yogb_bm_default_ttl_days');
delete_site_option('yogb_bm_default_ttl_days');
delete_option('woocommerce_all_except_countries');
delete_site_option('woocommerce_all_except_countries');
delete_option('wc_blacklist_manager_first_install_date');
delete_site_option('wc_blacklist_manager_first_install_date');
delete_option('wc_blacklist_backfill_done');
delete_site_option('wc_blacklist_backfill_done');

// Delete Transients
delete_transient('yoohw_sms_verification_failed');
delete_site_transient('yoohw_sms_verification_failed');
delete_transient('yogb_bm_reg_lock');
delete_site_transient('yogb_bm_reg_lock');
global $wpdb;
$transients = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s OR option_name LIKE %s", '_transient_yogb_bm_payload_%', '_site_transient_yogb_bm_payload_%' ) );
foreach ( $transients as $transient ) {
	delete_option( $transient );
}

// Clear Cron Jobs
wp_clear_scheduled_hook('wc_blacklist_delayed_order_cancel');
wp_clear_scheduled_hook('wc_blacklist_manager_cleanup_verification_code');
wp_clear_scheduled_hook('wc_blacklist_connection_send_to_subsite');
wp_clear_scheduled_hook('wc_blacklist_connection_update_to_subsite');
wp_clear_scheduled_hook('wc_blacklist_connection_update_to_hostsite');
wp_clear_scheduled_hook('wc_blacklist_connection_remove_to_subsite');
wp_clear_scheduled_hook('wc_blacklist_connection_send_to_hostsite');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'user_blocked' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'user_blocked' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'user_blocked' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'user_blocked' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'email_verification' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'email_verification' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'email_verification' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'email_verification' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_email_verified' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_email_verified' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_email_verified' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_email_verified' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_phone_verified' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_phone_verified' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_phone_verified' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_phone_verified' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'phone_verification' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'phone_verification' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'phone_verification' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'phone_verification' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_customer_ip_address' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_customer_ip_address' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_customer_ip_address' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_customer_ip_address' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'wc_blacklist_manager_activation_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'wc_blacklist_manager_activation_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'wc_blacklist_manager_activation_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'wc_blacklist_manager_activation_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'wc_blacklist_manager_never_show_again' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'wc_blacklist_manager_never_show_again' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'wc_blacklist_manager_never_show_again' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'wc_blacklist_manager_never_show_again' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'wc_blacklist_manager_first_time_notice_dismissed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'wc_blacklist_manager_first_time_notice_dismissed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'wc_blacklist_manager_first_time_notice_dismissed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'wc_blacklist_manager_first_time_notice_dismissed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'blacklist_manager_premium_ads_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'blacklist_manager_premium_ads_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'blacklist_manager_premium_ads_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'blacklist_manager_premium_ads_time' ) );

