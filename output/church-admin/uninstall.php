<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('church_admin_people_type');
delete_site_option('church_admin_people_type');
delete_option('church_admin_levels');
delete_site_option('church_admin_levels');
delete_option('church_admin_debug_mode');
delete_site_option('church_admin_debug_mode');
delete_option('church_admin_new_licence');
delete_site_option('church_admin_new_licence');
delete_option('church_admin_bulk_email_method');
delete_site_option('church_admin_bulk_email_method');
delete_option('church_admin_admin_approval_required');
delete_site_option('church_admin_admin_approval_required');
delete_option('church_admin_new_entry_admin_email');
delete_site_option('church_admin_new_entry_admin_email');
delete_option('church_admin_default_from_email');
delete_site_option('church_admin_default_from_email');
delete_option('church_admin_licence_checked');
delete_site_option('church_admin_licence_checked');
delete_option('church_admin_version');
delete_site_option('church_admin_version');
delete_option('church-admin-directory-output');
delete_site_option('church-admin-directory-output');
delete_option('church_admin_plugin_error');
delete_site_option('church_admin_plugin_error');
delete_option('church_admin_google_api_key');
delete_site_option('church_admin_google_api_key');
delete_option('church_admin_app_new_licence');
delete_site_option('church_admin_app_new_licence');
delete_option('church_admin_calendar_width');
delete_site_option('church_admin_calendar_width');
delete_option('church-admin-restricted-access');
delete_site_option('church-admin-restricted-access');
delete_option('church_admin_happy_birthday_arguments');
delete_site_option('church_admin_happy_birthday_arguments');
delete_option('cron');
delete_site_option('cron');
delete_option('church_admin_bulk_email');
delete_site_option('church_admin_bulk_email');
delete_option('church_admin_default_from_name');
delete_site_option('church_admin_default_from_name');
delete_option('church_admin_no_push');
delete_site_option('church_admin_no_push');
delete_option('church-admin-private-prayer-requests');
delete_site_option('church-admin-private-prayer-requests');
delete_option('church_admin_mailersend_api_key');
delete_site_option('church_admin_mailersend_api_key');
delete_option('church-admin-no-prayer');
delete_site_option('church-admin-no-prayer');
delete_option('church_admin_app_gutenberg');
delete_site_option('church_admin_app_gutenberg');
delete_option('church-admin-no-bible-readings');
delete_site_option('church-admin-no-bible-readings');
delete_option('church-admin-acts-of-courage');
delete_site_option('church-admin-acts-of-courage');
delete_option('church_admin_bible_version');
delete_site_option('church_admin_bible_version');
delete_option('church_admin_kiosk_app_form');
delete_site_option('church_admin_kiosk_app_form');
delete_option('church_admin_app_address_cache');
delete_site_option('church_admin_app_address_cache');
delete_option('church_admin_app_admin_address_cache');
delete_site_option('church_admin_app_admin_address_cache');
delete_option('dismissed-small-churches-offer-dismissed');
delete_site_option('dismissed-small-churches-offer-dismissed');
delete_option('dismissed-church-admin-free-version');
delete_site_option('dismissed-church-admin-free-version');
delete_option('dismissed-church-admin-roles-permissions');
delete_site_option('dismissed-church-admin-roles-permissions');
delete_option('dismissed-church-admin-please-review');
delete_site_option('dismissed-church-admin-please-review');
delete_option('dismissed-church-admin-email-settings');
delete_site_option('dismissed-church-admin-email-settings');
delete_option('dismissed-church-admin-set-sermon-page');
delete_site_option('dismissed-church-admin-set-sermon-page');
delete_option('dismissed-church-admin-bible-version');
delete_site_option('dismissed-church-admin-bible-version');
delete_option('dismissed-church-admin-app');
delete_site_option('dismissed-church-admin-app');
delete_option('dismissed-church-admin-gdpr');
delete_site_option('dismissed-church-admin-gdpr');
delete_option('church-admin-favourites');
delete_site_option('church-admin-favourites');
delete_option('church-admin-favourites-v2');
delete_site_option('church-admin-favourites-v2');
delete_option('church_admin_app_new_menu');
delete_site_option('church_admin_app_new_menu');
delete_option('church_admin_app_logo');
delete_site_option('church_admin_app_logo');
delete_option('prayer-request-moderation');
delete_site_option('prayer-request-moderation');
delete_option('church_admin_prayer_request_receive_push_to_admin');
delete_site_option('church_admin_prayer_request_receive_push_to_admin');
delete_option('church_admin_login_redirect');
delete_site_option('church_admin_login_redirect');
delete_option('church_admin_sermon_page');
delete_site_option('church_admin_sermon_page');
delete_option('church-admin-sermon-page');
delete_site_option('church-admin-sermon-page');
delete_option('church_admin_followup_email_template');
delete_site_option('church_admin_followup_email_template');
delete_option('church_admin_happy_birthday_template');
delete_site_option('church_admin_happy_birthday_template');
delete_option('church_admin_global_birthday_template');
delete_site_option('church_admin_global_birthday_template');
delete_option('church_admin_happy_anniversary_template');
delete_site_option('church_admin_happy_anniversary_template');
delete_option('church_admin_global_anniversary_template');
delete_site_option('church_admin_global_anniversary_template');
delete_option('church_admin_global_both_template');
delete_site_option('church_admin_global_both_template');
delete_option('church_admin_custom_fields_automations');
delete_site_option('church_admin_custom_fields_automations');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", 'church_admin_transient_custom_id%' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('church_admin_use_titles');
delete_site_option('church_admin_use_titles');
delete_option('church_admin_pagination_limit');
delete_site_option('church_admin_pagination_limit');
delete_option('ca_podcast_settings');
delete_site_option('ca_podcast_settings');
delete_option('church_admin_podcast_settings');
delete_site_option('church_admin_podcast_settings');
delete_option('church_admin_modules');
delete_site_option('church_admin_modules');
delete_option('church_admin_new_app_licence');
delete_site_option('church_admin_new_app_licence');
delete_option('church_admin_global_birthday_arguments');
delete_site_option('church_admin_global_birthday_arguments');
delete_option('church_admin_happy_anniversary_arguments');
delete_site_option('church_admin_happy_anniversary_arguments');
delete_option('church_admin_global_anniversary_arguments');
delete_site_option('church_admin_global_anniversary_arguments');
delete_option('church_admin_global_both_arguments');
delete_site_option('church_admin_global_both_arguments');
delete_option('blog_name');
delete_site_option('blog_name');
delete_option('church_admin_gender');
delete_site_option('church_admin_gender');
delete_option('addressUpdated');
delete_site_option('addressUpdated');
delete_option('church_admin_marital_status');
delete_site_option('church_admin_marital_status');
delete_option('church_admin_what_three_words');
delete_site_option('church_admin_what_three_words');
delete_option('church_admin_what_three_words_language');
delete_site_option('church_admin_what_three_words_language');
delete_option('church_admin_show_wedding_anniversary');
delete_site_option('church_admin_show_wedding_anniversary');
delete_option('church_admin_titles');
delete_site_option('church_admin_titles');
delete_option('church_admin_use_middle_name');
delete_site_option('church_admin_use_middle_name');
delete_option('church_admin_use_nickname');
delete_site_option('church_admin_use_nickname');
delete_option('church_admin_use_prefix');
delete_site_option('church_admin_use_prefix');
delete_option('church_admin_gdpr');
delete_site_option('church_admin_gdpr');
delete_option('church_admin_register');
delete_site_option('church_admin_register');
delete_option('church_admin_confirm_email_template');
delete_site_option('church_admin_confirm_email_template');
delete_option('church_admin_pdf_size');
delete_site_option('church_admin_pdf_size');
delete_option('church_admin_modified_app_content');
delete_site_option('church_admin_modified_app_content');
delete_option('church_admin_sms_provider');
delete_site_option('church_admin_sms_provider');
delete_option('church_admin_transient_wedding_anniversary_update');
delete_site_option('church_admin_transient_wedding_anniversary_update');
delete_option('church_admin_transient_date_of_birth_update');
delete_site_option('church_admin_transient_date_of_birth_update');
delete_option('church_admin_page_limit');
delete_site_option('church_admin_page_limit');
delete_option('church_admin_feedburner');
delete_site_option('church_admin_feedburner');
delete_option('church_admin_twitter');
delete_site_option('church_admin_twitter');
delete_option('church_admin_facebook');
delete_site_option('church_admin_facebook');
delete_option('church_admin_email_image');
delete_site_option('church_admin_email_image');
delete_option('church_admin_payment_gateway');
delete_site_option('church_admin_payment_gateway');
delete_option('church_admin_member_type_id_for_registrations');
delete_site_option('church_admin_member_type_id_for_registrations');
delete_option('church_admin_smtp_settings');
delete_site_option('church_admin_smtp_settings');
delete_option('church_admin_user_permissions');
delete_site_option('church_admin_user_permissions');
delete_option('church_admin_trial');
delete_site_option('church_admin_trial');
delete_option('church_admin_app_id');
delete_site_option('church_admin_app_id');
delete_option('church_admin_sms_iso');
delete_site_option('church_admin_sms_iso');
delete_option('church_admin_use_title');
delete_site_option('church_admin_use_title');
delete_option('church_admin_username_style');
delete_site_option('church_admin_username_style');
delete_option('church_admin_user_created_email');
delete_site_option('church_admin_user_created_email');
delete_option('church_admin_user_created_email_subject');
delete_site_option('church_admin_user_created_email_subject');
delete_option('church_admin_custom_wedding_anniversary');
delete_site_option('church_admin_custom_wedding_anniversary');
delete_option('church_admin_cron');
delete_site_option('church_admin_cron');
delete_option('church_admin_custom_fields');
delete_site_option('church_admin_custom_fields');
delete_option('church_Admin_levels');
delete_site_option('church_Admin_levels');
delete_option('church_admin_label');
delete_site_option('church_admin_label');
delete_option('ca_podcast_file_template');
delete_site_option('ca_podcast_file_template');
delete_option('ca_podcast_series_template');
delete_site_option('ca_podcast_series_template');
delete_option('ca_podcast_speaker_template');
delete_site_option('ca_podcast_speaker_template');
delete_option('church-admin-socials');
delete_site_option('church-admin-socials');
delete_option('church_admin_prayer_login');
delete_site_option('church_admin_prayer_login');
delete_option('church-admin-marital_status');
delete_site_option('church-admin-marital_status');
delete_option('church-admin-marital-status');
delete_site_option('church-admin-marital-status');
delete_option('church_admin_gdpr_email');
delete_site_option('church_admin_gdpr_email');
delete_option('church_admin_transactional_email_method');
delete_site_option('church_admin_transactional_email_method');
delete_option('church_admin_email_method');
delete_site_option('church_admin_email_method');
delete_option('church_admin_mailchimp');
delete_site_option('church_admin_mailchimp');
delete_option('church_admin_roles');
delete_site_option('church_admin_roles');
delete_option('church_admin_departments');
delete_site_option('church_admin_departments');
delete_option('church_admin_services');
delete_site_option('church_admin_services');
delete_option('church_admin_pdf_title');
delete_site_option('church_admin_pdf_title');
delete_option('church_admin_cron_path');
delete_site_option('church_admin_cron_path');
delete_option('church_admin_latest_sermons_widget');
delete_site_option('church_admin_latest_sermons_widget');
delete_option('church_admin_mailchimp_settings');
delete_site_option('church_admin_mailchimp_settings');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%user_roles' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('church_admin_register_page');
delete_site_option('church_admin_register_page');
delete_option('church_admin_prayer_request_message');
delete_site_option('church_admin_prayer_request_message');
delete_option('church-admin-which-filters');
delete_site_option('church-admin-which-filters');

// Clear Cron Jobs
wp_clear_scheduled_hook('church_admin_happy_birthday_email');
wp_clear_scheduled_hook('church_admin_global_birthday_email');
wp_clear_scheduled_hook('church_admin_happy_anniversary_email');
wp_clear_scheduled_hook('church_admin_global_anniversary_email');
wp_clear_scheduled_hook('church_admin_global_birthday_and_anniversary_email');
wp_clear_scheduled_hook('church_admin_followup_email');
wp_clear_scheduled_hook('church_admin_custom_fields_automations');
wp_clear_scheduled_hook('church_admin_bulk_email');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'Email Sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'Email Sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'Email Sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'Email Sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'bible-passage' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'bible-passage' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'bible-passage' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'bible-passage' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'description' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'description' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'description' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'description' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'display_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'display_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'display_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'display_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_wp_attached_file' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_wp_attached_file' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_wp_attached_file' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_wp_attached_file' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'asp_sermon_vimeo' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'asp_sermon_vimeo' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'asp_sermon_vimeo' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'asp_sermon_vimeo' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'asp_sermon_youtube' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'asp_sermon_youtube' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'asp_sermon_youtube' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'asp_sermon_youtube' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'asp_sermon_mp4' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'asp_sermon_mp4' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'asp_sermon_mp4' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'asp_sermon_mp4' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'asp_sermon_bible_passage' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'asp_sermon_bible_passage' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'asp_sermon_bible_passage' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'asp_sermon_bible_passage' ) );

