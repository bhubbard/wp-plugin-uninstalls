<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('npmp_enabled_features');
delete_site_option('npmp_enabled_features');
delete_option('npmp_donations_migrated_to_cpt');
delete_site_option('npmp_donations_migrated_to_cpt');
delete_option('npmp_newsletter_can_spam_footer');
delete_site_option('npmp_newsletter_can_spam_footer');
delete_option('npmp_newsletter_rate_limit');
delete_site_option('npmp_newsletter_rate_limit');
delete_option('npmp_email_settings');
delete_site_option('npmp_email_settings');
delete_option('npmp_email_method');
delete_site_option('npmp_email_method');
delete_option('npmp_email_from_email');
delete_site_option('npmp_email_from_email');
delete_option('npmp_email_from_name');
delete_site_option('npmp_email_from_name');
delete_option('npmp_smtp_host');
delete_site_option('npmp_smtp_host');
delete_option('npmp_smtp_port');
delete_site_option('npmp_smtp_port');
delete_option('npmp_smtp_encryption');
delete_site_option('npmp_smtp_encryption');
delete_option('npmp_smtp_auth');
delete_site_option('npmp_smtp_auth');
delete_option('npmp_smtp_username');
delete_site_option('npmp_smtp_username');
delete_option('npmp_smtp_password');
delete_site_option('npmp_smtp_password');
delete_option('npmp_email_last_result');
delete_site_option('npmp_email_last_result');
delete_option('npmp_newsletter_track_opens');
delete_site_option('npmp_newsletter_track_opens');
delete_option('npmp_newsletter_track_clicks');
delete_site_option('npmp_newsletter_track_clicks');
delete_option('npmp_membership_levels');
delete_site_option('npmp_membership_levels');
delete_option('npmp_calendar_page_id');
delete_site_option('npmp_calendar_page_id');
delete_option('npmp_captcha_provider');
delete_site_option('npmp_captcha_provider');
delete_option('npmp_newsletter_post_types_migrated');
delete_site_option('npmp_newsletter_post_types_migrated');
delete_option('npmp_email_delivery_settings');
delete_site_option('npmp_email_delivery_settings');
delete_option('npmp_smtp_debug_log');
delete_site_option('npmp_smtp_debug_log');
delete_option('npmp_aws_ses_access_key');
delete_site_option('npmp_aws_ses_access_key');
delete_option('npmp_aws_ses_secret_key');
delete_site_option('npmp_aws_ses_secret_key');
delete_option('npmp_brevo_api_key');
delete_site_option('npmp_brevo_api_key');
delete_option('npmp_sendgrid_api_key');
delete_site_option('npmp_sendgrid_api_key');
delete_option('npmp_mailgun_api_key');
delete_site_option('npmp_mailgun_api_key');
delete_option('npmp_mailgun_domain');
delete_site_option('npmp_mailgun_domain');
delete_option('npmp_postmark_api_key');
delete_site_option('npmp_postmark_api_key');
delete_option('npmp_sparkpost_api_key');
delete_site_option('npmp_sparkpost_api_key');
delete_option('npmp_email_last_error');
delete_site_option('npmp_email_last_error');
delete_option('npmp_default_membership_level');
delete_site_option('npmp_default_membership_level');
delete_option('npmp_turnstile_enabled');
delete_site_option('npmp_turnstile_enabled');
delete_option('npmp_turnstile_site_key');
delete_site_option('npmp_turnstile_site_key');
delete_option('npmp_turnstile_secret_key');
delete_site_option('npmp_turnstile_secret_key');
delete_option('npmp_recaptcha_site_key');
delete_site_option('npmp_recaptcha_site_key');
delete_option('npmp_recaptcha_secret_key');
delete_site_option('npmp_recaptcha_secret_key');
delete_option('npmp_members_migrated_to_cpt');
delete_site_option('npmp_members_migrated_to_cpt');
delete_option('npmp_membership_form_settings');
delete_site_option('npmp_membership_form_settings');
delete_option('npmp_donation_form_intro');
delete_site_option('npmp_donation_form_intro');
delete_option('npmp_donation_page_id');
delete_site_option('npmp_donation_page_id');
delete_option('npmp_enable_thank_you_email');
delete_site_option('npmp_enable_thank_you_email');
delete_option('npmp_thank_you_subject');
delete_site_option('npmp_thank_you_subject');
delete_option('npmp_thank_you_message');
delete_site_option('npmp_thank_you_message');
delete_option('npmp_donation_form_title');
delete_site_option('npmp_donation_form_title');
delete_option('npmp_donation_amount_label');
delete_site_option('npmp_donation_amount_label');
delete_option('npmp_donation_email_label');
delete_site_option('npmp_donation_email_label');
delete_option('npmp_donation_button_label');
delete_site_option('npmp_donation_button_label');
delete_option('npmp_enabled_payment_gateways');
delete_site_option('npmp_enabled_payment_gateways');
delete_option('npmp_paypal_email');
delete_site_option('npmp_paypal_email');
delete_option('npmp_venmo_handle');
delete_site_option('npmp_venmo_handle');
delete_option('npmp_paypal_mode');
delete_site_option('npmp_paypal_mode');
delete_option('npmp_paypal_live_client_id');
delete_site_option('npmp_paypal_live_client_id');
delete_option('npmp_paypal_live_secret');
delete_site_option('npmp_paypal_live_secret');
delete_option('npmp_paypal_sandbox_client_id');
delete_site_option('npmp_paypal_sandbox_client_id');
delete_option('npmp_paypal_sandbox_secret');
delete_site_option('npmp_paypal_sandbox_secret');
delete_option('npmp_stripe_mode');
delete_site_option('npmp_stripe_mode');
delete_option('npmp_stripe_live_publishable_key');
delete_site_option('npmp_stripe_live_publishable_key');
delete_option('npmp_stripe_live_secret_key');
delete_site_option('npmp_stripe_live_secret_key');
delete_option('npmp_stripe_test_publishable_key');
delete_site_option('npmp_stripe_test_publishable_key');
delete_option('npmp_stripe_test_secret_key');
delete_site_option('npmp_stripe_test_secret_key');
delete_option('npmp_enable_one_time');
delete_site_option('npmp_enable_one_time');
delete_option('npmp_paypal_enable_weekly');
delete_site_option('npmp_paypal_enable_weekly');
delete_option('npmp_paypal_enable_monthly');
delete_site_option('npmp_paypal_enable_monthly');
delete_option('npmp_paypal_enable_quarterly');
delete_site_option('npmp_paypal_enable_quarterly');
delete_option('npmp_paypal_enable_annual');
delete_site_option('npmp_paypal_enable_annual');
delete_option('npmp_stripe_enable_weekly');
delete_site_option('npmp_stripe_enable_weekly');
delete_option('npmp_stripe_enable_monthly');
delete_site_option('npmp_stripe_enable_monthly');
delete_option('npmp_stripe_enable_quarterly');
delete_site_option('npmp_stripe_enable_quarterly');
delete_option('npmp_stripe_enable_annual');
delete_site_option('npmp_stripe_enable_annual');
delete_option('npmp_payment_gateway');
delete_site_option('npmp_payment_gateway');
delete_option('npmp_enable_paypal');
delete_site_option('npmp_enable_paypal');
delete_option('npmp_paypal_method');
delete_site_option('npmp_paypal_method');
delete_option('npmp_paypal_minimum');
delete_site_option('npmp_paypal_minimum');
delete_option('npmp_setup_completed');
delete_site_option('npmp_setup_completed');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%weekly' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%monthly' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%quarterly' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%annual' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('npmp_enable_monthly');
delete_site_option('npmp_enable_monthly');
delete_option('npmp_enable_annual');
delete_site_option('npmp_enable_annual');
delete_option('npmp_paypal_client_id');
delete_site_option('npmp_paypal_client_id');
delete_option('npmp_paypal_secret');
delete_site_option('npmp_paypal_secret');

// Delete Transients
delete_transient('npmp_activation_redirect');
delete_site_transient('npmp_activation_redirect');

// Clear Cron Jobs
wp_clear_scheduled_hook('npmp_process_queued_newsletters');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_newsletter_levels' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_newsletter_levels' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_newsletter_levels' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_newsletter_levels' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_newsletter_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_newsletter_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_newsletter_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_newsletter_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_newsletter_queued_at' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_newsletter_queued_at' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_newsletter_queued_at' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_newsletter_queued_at' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_newsletter_recipient_total' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_newsletter_recipient_total' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_newsletter_recipient_total' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_newsletter_recipient_total' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_newsletter_audience_label' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_newsletter_audience_label' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_newsletter_audience_label' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_newsletter_audience_label' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_newsletter_template' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_newsletter_template' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_newsletter_template' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_newsletter_template' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_newsletter_preheader' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_newsletter_preheader' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_newsletter_preheader' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_newsletter_preheader' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_template_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_template_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_template_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_template_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_is_default_template' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_is_default_template' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_is_default_template' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_is_default_template' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_event_location' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_event_location' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_event_location' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_event_location' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_event_start' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_event_start' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_event_start' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_event_start' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_event_end' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_event_end' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_event_end' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_event_end' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_event_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_event_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_event_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_event_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_npmp_event_date' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_npmp_event_date' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_npmp_event_date' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_npmp_event_date' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'npmp_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'npmp_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'npmp_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'npmp_status' ) );

