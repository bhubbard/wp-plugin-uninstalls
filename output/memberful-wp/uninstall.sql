-- WordPress Plugin Uninstall SQL Script

-- Delete Options & Transients
DELETE FROM wp_options WHERE option_name IN ('memberful_wp_activation_redirect', 'memberful_extend_auth_cookie_expiration', 'memberful_acl', 'memberful_posts_available_to_any_registered_user', 'memberful_posts_available_to_anybody_subscribed_to_a_plan', 'memberful_terms_available_to_any_registered_user', 'memberful_terms_available_to_anybody_subscribed_to_a_plan', 'memberful_term_acl', 'memberful_db_version', 'memberful_use_global_marketing', 'memberful_use_global_snippets', 'memberful_default_marketing_content', 'memberful_global_marketing_content', 'memberful_global_marketing_override', 'memberful_embed_enabled', 'memberful_hide_admin_toolbar', 'memberful_block_dashboard_access', 'memberful_filter_account_menu_items', 'memberful_auto_sync_display_names', 'memberful_show_protected_content_in_search', 'memberful_products', 'memberful_subscriptions', 'memberful_feeds', 'memberful_client_id', 'memberful_client_secret', 'memberful_api_key', 'memberful_site', 'memberful_webhook_secret', 'memberful_custom_domain', 'memberful_role_active_customer', 'memberful_role_inactive_customer', 'memberful_plan_role_mappings', 'memberful_add_block_tags_to_rss_feed', 'memberful_error_log', 'memberful_bbpress_restricted_registered_users', 'memberful_bbpress_restricted_subscribed_users', 'memberful_bbpress_protect_forums', 'memberful_bbpress_required_subscription_plans', 'memberful_bbpress_required_downloads', 'memberful_bbpress_send_unauthorized_users_to_homepage', 'memberful_bbpress_send_unauthorized_users_to_url', 'memberful_private_user_feed_plan', 'memberful_use_per_plan_roles');
DELETE FROM wp_options WHERE option_name LIKE '%s';

-- Delete Metadata
DELETE FROM wp_postmeta WHERE meta_key IN ('memberful_available_to_any_registered_user', 'memberful_available_to_anybody_subscribed_to_a_plan', 'memberful_acl', 'course_id', '_lesson_course', 'memberful_private_user_feed_token');
DELETE FROM wp_usermeta WHERE meta_key IN ('memberful_available_to_any_registered_user', 'memberful_available_to_anybody_subscribed_to_a_plan', 'memberful_acl', 'course_id', '_lesson_course', 'memberful_private_user_feed_token');
DELETE FROM wp_termmeta WHERE meta_key IN ('memberful_available_to_any_registered_user', 'memberful_available_to_anybody_subscribed_to_a_plan', 'memberful_acl', 'course_id', '_lesson_course', 'memberful_private_user_feed_token');
DELETE FROM wp_commentmeta WHERE meta_key IN ('memberful_available_to_any_registered_user', 'memberful_available_to_anybody_subscribed_to_a_plan', 'memberful_acl', 'course_id', '_lesson_course', 'memberful_private_user_feed_token');

