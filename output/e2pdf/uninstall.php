<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('e2pdf_version');
delete_site_option('e2pdf_version');
delete_option('e2pdf_adobesign_client_id');
delete_site_option('e2pdf_adobesign_client_id');
delete_option('e2pdf_adobesign_client_secret');
delete_site_option('e2pdf_adobesign_client_secret');
delete_option('e2pdf_adobesign_region');
delete_site_option('e2pdf_adobesign_region');
delete_option('e2pdf_adobesign_code');
delete_site_option('e2pdf_adobesign_code');
delete_option('e2pdf_adobesign_api_access_point');
delete_site_option('e2pdf_adobesign_api_access_point');
delete_option('e2pdf_adobesign_web_access_point');
delete_site_option('e2pdf_adobesign_web_access_point');
delete_option('e2pdf_adobesign_refresh_token');
delete_site_option('e2pdf_adobesign_refresh_token');
delete_option('e2pdf_gdrive_client_id');
delete_site_option('e2pdf_gdrive_client_id');
delete_option('e2pdf_gdrive_client_secret');
delete_site_option('e2pdf_gdrive_client_secret');
delete_option('e2pdf_debug');
delete_site_option('e2pdf_debug');
delete_option('e2pdf_recovery_mode_email');
delete_site_option('e2pdf_recovery_mode_email');
delete_option('e2pdf_memory_time');
delete_site_option('e2pdf_memory_time');
delete_option('e2pdf_dev_update');
delete_site_option('e2pdf_dev_update');
delete_option('e2pdf_api');
delete_site_option('e2pdf_api');
delete_option('e2pdf_cached_fonts');
delete_site_option('e2pdf_cached_fonts');
delete_option('e2pdf_user_email');
delete_site_option('e2pdf_user_email');
delete_option('e2pdf_cache');
delete_site_option('e2pdf_cache');
delete_option('e2pdf_cache_fonts');
delete_site_option('e2pdf_cache_fonts');
delete_option('e2pdf_cache_pdfs');
delete_site_option('e2pdf_cache_pdfs');
delete_option('recovery_mode_email_last_sent');
delete_site_option('recovery_mode_email_last_sent');
delete_option('e2pdf_disabled_extensions');
delete_site_option('e2pdf_disabled_extensions');
delete_option('e2pdf_api_protocol');
delete_site_option('e2pdf_api_protocol');
delete_option('e2pdf_email');
delete_site_option('e2pdf_email');
delete_option('e2pdf_templates_screen_per_page');
delete_site_option('e2pdf_templates_screen_per_page');
delete_option('e2pdf_hide_warnings');
delete_site_option('e2pdf_hide_warnings');
delete_option('e2pdf_bulks_screen_per_page');
delete_site_option('e2pdf_bulks_screen_per_page');
delete_option('e2pdf_bulk_export_interval');
delete_site_option('e2pdf_bulk_export_interval');
delete_option('e2pdf_download_inline_chrome_ios_fix');
delete_site_option('e2pdf_download_inline_chrome_ios_fix');
delete_option('e2pdf_download_inline_fallback_viewer');
delete_site_option('e2pdf_download_inline_fallback_viewer');
delete_option('e2pdf_zapier_api_key');
delete_site_option('e2pdf_zapier_api_key');
delete_option('e2pdf_adobe_api_key');
delete_site_option('e2pdf_adobe_api_key');
delete_option('e2pdf_gdrive_api_key');
delete_site_option('e2pdf_gdrive_api_key');
delete_option('e2pdf_formidable_disable_filter');
delete_site_option('e2pdf_formidable_disable_filter');
delete_option('e2pdf_formidable_use_keys');
delete_site_option('e2pdf_formidable_use_keys');
delete_option('woocommerce_custom_orders_table_enabled');
delete_site_option('woocommerce_custom_orders_table_enabled');
delete_option('woocommerce_custom_orders_table_data_sync_enabled');
delete_site_option('woocommerce_custom_orders_table_data_sync_enabled');
delete_option('e2pdf_wc_cart_template_id');
delete_site_option('e2pdf_wc_cart_template_id');
delete_option('e2pdf_wc_cart_template_id_priority');
delete_site_option('e2pdf_wc_cart_template_id_priority');
delete_option('e2pdf_wc_checkout_template_id');
delete_site_option('e2pdf_wc_checkout_template_id');
delete_option('e2pdf_wc_checkout_template_id_hook');
delete_site_option('e2pdf_wc_checkout_template_id_hook');
delete_option('e2pdf_wc_checkout_template_id_priority');
delete_site_option('e2pdf_wc_checkout_template_id_priority');
delete_option('e2pdf_wc_order_details_template_id');
delete_site_option('e2pdf_wc_order_details_template_id');
delete_option('e2pdf_wc_order_details_template_id_hook');
delete_site_option('e2pdf_wc_order_details_template_id_hook');
delete_option('e2pdf_wc_order_details_template_id_priority');
delete_site_option('e2pdf_wc_order_details_template_id_priority');
delete_option('e2pdf_wc_admin_order_actions_template_id');
delete_site_option('e2pdf_wc_admin_order_actions_template_id');
delete_option('e2pdf_wc_admin_order_actions_template_id_hook');
delete_site_option('e2pdf_wc_admin_order_actions_template_id_hook');
delete_option('e2pdf_wc_admin_order_actions_template_id_priority');
delete_site_option('e2pdf_wc_admin_order_actions_template_id_priority');
delete_option('e2pdf_wc_admin_order_details_template_id');
delete_site_option('e2pdf_wc_admin_order_details_template_id');
delete_option('e2pdf_wc_my_orders_actions_template_id');
delete_site_option('e2pdf_wc_my_orders_actions_template_id');
delete_option('wc_downloads_approved_directories_mode');
delete_site_option('wc_downloads_approved_directories_mode');
delete_option('e2pdf_wc_order_details_template_id_status');
delete_site_option('e2pdf_wc_order_details_template_id_status');
delete_option('e2pdf_wc_admin_order_actions_template_id_status');
delete_site_option('e2pdf_wc_admin_order_actions_template_id_status');
delete_option('e2pdf_wc_admin_order_details_template_id_status');
delete_site_option('e2pdf_wc_admin_order_details_template_id_status');
delete_option('e2pdf_wc_my_orders_actions_template_id_status');
delete_site_option('e2pdf_wc_my_orders_actions_template_id_status');
delete_option('e2pdf_wc_my_orders_actions_template_id_priority');
delete_site_option('e2pdf_wc_my_orders_actions_template_id_priority');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_status' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('e2pdf_wpcf7_storing_engine');
delete_site_option('e2pdf_wpcf7_storing_engine');
delete_option('wpforms_settings');
delete_site_option('wpforms_settings');
delete_option('e2pdf_images_remote_request');
delete_site_option('e2pdf_images_remote_request');
delete_option('e2pdf_images_timeout');
delete_site_option('e2pdf_images_timeout');
delete_option('siteground_optimizer_enable_memcached');
delete_site_option('siteground_optimizer_enable_memcached');
delete_option('e2pdf_cache_pdfs_ttl');
delete_site_option('e2pdf_cache_pdfs_ttl');
delete_option('e2pdf_cache_tmp_ttl');
delete_site_option('e2pdf_cache_tmp_ttl');
delete_option('e2pdf_font_processor');
delete_site_option('e2pdf_font_processor');
delete_option('active_sitewide_plugins');
delete_site_option('active_sitewide_plugins');
delete_option('ms_files_rewriting');
delete_site_option('ms_files_rewriting');
delete_option('e2pdf_url_format');
delete_site_option('e2pdf_url_format');
delete_option('e2pdf_mod_rewrite');
delete_site_option('e2pdf_mod_rewrite');
delete_option('e2pdf_mod_rewrite_url');
delete_site_option('e2pdf_mod_rewrite_url');
delete_option('icl_sitepress_settings');
delete_site_option('icl_sitepress_settings');
delete_option('polylang');
delete_site_option('polylang');
delete_option('e2pdf_pdf_translation');
delete_site_option('e2pdf_pdf_translation');
delete_option('trp_settings');
delete_site_option('trp_settings');
delete_option('e2pdf_adobe_api_version');
delete_site_option('e2pdf_adobe_api_version');
delete_option('e2pdf_connection_timeout');
delete_site_option('e2pdf_connection_timeout');
delete_option('e2pdf_request_timeout');
delete_site_option('e2pdf_request_timeout');
delete_option('e2pdf_processor');
delete_site_option('e2pdf_processor');
delete_option('e2pdf_license');
delete_site_option('e2pdf_license');
delete_option('e2pdf_nonce_key');
delete_site_option('e2pdf_nonce_key');
delete_option('e2pdf_gdrive_refresh_token');
delete_site_option('e2pdf_gdrive_refresh_token');
delete_option('rewrite_rules');
delete_site_option('rewrite_rules');
delete_option('e2pdf_undo_limit');
delete_site_option('e2pdf_undo_limit');
delete_option('e2pdf_download_loader');
delete_site_option('e2pdf_download_loader');
delete_option('e2pdf_translatepress_translation');
delete_site_option('e2pdf_translatepress_translation');
delete_option('e2pdf_pdf_translation_check');
delete_site_option('e2pdf_pdf_translation_check');
delete_option('e2pdf_wc_invoice_template_id');
delete_site_option('e2pdf_wc_invoice_template_id');
delete_option('e2pdf_wc_invoice_statuses');
delete_site_option('e2pdf_wc_invoice_statuses');
delete_option('e2pdf_wc_checkout_template_id_order');
delete_site_option('e2pdf_wc_checkout_template_id_order');
delete_option('e2pdf_wc_cart_template_id_order');
delete_site_option('e2pdf_wc_cart_template_id_order');
delete_option('e2pdf_developer');
delete_site_option('e2pdf_developer');
delete_option('e2pdf_developer_ips');
delete_site_option('e2pdf_developer_ips');
delete_option('e2pdf_hash_timeout');
delete_site_option('e2pdf_hash_timeout');
delete_option('e2pdf_new_edit_layout');
delete_site_option('e2pdf_new_edit_layout');
delete_option('e2pdf_revisions_limit');
delete_site_option('e2pdf_revisions_limit');
delete_option('e2pdf_adobesign_scope_user_read');
delete_site_option('e2pdf_adobesign_scope_user_read');
delete_option('e2pdf_adobesign_scope_user_write');
delete_site_option('e2pdf_adobesign_scope_user_write');
delete_option('e2pdf_adobesign_scope_user_login');
delete_site_option('e2pdf_adobesign_scope_user_login');
delete_option('e2pdf_adobesign_scope_agreement_read');
delete_site_option('e2pdf_adobesign_scope_agreement_read');
delete_option('e2pdf_adobesign_scope_agreement_write');
delete_site_option('e2pdf_adobesign_scope_agreement_write');
delete_option('e2pdf_adobesign_scope_agreement_send');
delete_site_option('e2pdf_adobesign_scope_agreement_send');
delete_option('e2pdf_adobesign_scope_widget_read');
delete_site_option('e2pdf_adobesign_scope_widget_read');
delete_option('e2pdf_adobesign_scope_widget_write');
delete_site_option('e2pdf_adobesign_scope_widget_write');
delete_option('e2pdf_adobesign_scope_library_read');
delete_site_option('e2pdf_adobesign_scope_library_read');
delete_option('e2pdf_adobesign_scope_library_write');
delete_site_option('e2pdf_adobesign_scope_library_write');
delete_option('e2pdf_adobesign_scope_workflow_read');
delete_site_option('e2pdf_adobesign_scope_workflow_read');
delete_option('e2pdf_adobesign_scope_workflow_write');
delete_site_option('e2pdf_adobesign_scope_workflow_write');
delete_option('e2pdf_adobesign_scope_webhook_read');
delete_site_option('e2pdf_adobesign_scope_webhook_read');
delete_option('e2pdf_adobesign_scope_webhook_write');
delete_site_option('e2pdf_adobesign_scope_webhook_write');
delete_option('e2pdf_adobesign_scope_webhook_retention');
delete_site_option('e2pdf_adobesign_scope_webhook_retention');
delete_option('woocommerce_enable_shipping_calc');
delete_site_option('woocommerce_enable_shipping_calc');
delete_option('woocommerce_tax_total_display');
delete_site_option('woocommerce_tax_total_display');

// Delete Transients
delete_transient('e2pdf_adobesign_access_token');
delete_site_transient('e2pdf_adobesign_access_token');
delete_transient('e2pdf_activation_key');
delete_site_transient('e2pdf_activation_key');
delete_transient('update_plugins');
delete_site_transient('update_plugins');
delete_transient('e2pdf_bulk_export');
delete_site_transient('e2pdf_bulk_export');
global $wpdb;
$transients = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s OR option_name LIKE %s", '_transient_e2pdf_%', '_site_transient_e2pdf_%' ) );
foreach ( $transients as $transient ) {
	delete_option( $transient );
}
global $wpdb;
$transients = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s OR option_name LIKE %s", '_transient_e2pdf_hash_%', '_site_transient_e2pdf_hash_%' ) );
foreach ( $transients as $transient ) {
	delete_option( $transient );
}
delete_transient('e2pdf_adobesign_refresh_token');
delete_site_transient('e2pdf_adobesign_refresh_token');
delete_transient('e2pdf_gdrive_access_token');
delete_site_transient('e2pdf_gdrive_access_token');
delete_transient('e2pdf_notifications');
delete_site_transient('e2pdf_notifications');

// Clear Cron Jobs
wp_clear_scheduled_hook('e2pdf_cache_pdfs_cron');
wp_clear_scheduled_hook('e2pdf_bulk_export_cron');
wp_clear_scheduled_hook('e2pdf_cronjob');
wp_clear_scheduled_hook('e2pdf_cache_tmp_cron');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'metform_entries__form_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'metform_entries__form_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'metform_entries__form_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'metform_entries__form_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'metform_entries__form_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'metform_entries__form_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'metform_entries__form_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'metform_entries__form_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'metform_entries__file_upload_new' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'metform_entries__file_upload_new' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'metform_entries__file_upload_new' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'metform_entries__file_upload_new' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'metform_entries__user_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'metform_entries__user_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'metform_entries__user_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'metform_entries__user_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'metform_entries__payment_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'metform_entries__payment_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'metform_entries__payment_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'metform_entries__payment_status' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'metform_form__entry_browser_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'metform_form__entry_browser_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'metform_form__entry_browser_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'metform_form__entry_browser_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_ywgc_order_item_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_ywgc_order_item_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_ywgc_order_item_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_ywgc_order_item_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_et_pb_use_builder' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_et_pb_use_builder' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_et_pb_use_builder' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_et_pb_use_builder' ) );

