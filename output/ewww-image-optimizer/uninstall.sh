#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'ewww_image_optimizer_webp_clean_position'
wp option delete 'ewww_image_optimizer_bulk_restore_position'
wp option delete 'ewww_image_optimizer_delete_originals_resume'
wp option delete 'ewww_image_optimizer_aux_folders_completed'
wp option delete 'ewwwio_stop_scheduled_scan'
wp option delete 'ewww_image_optimizer_aux_resume'
wp option delete 'ewww_image_optimizer_scan_args'
wp option delete 'symposium_img_path'
wp option delete 'ewww_image_optimizer_bulk_resume'
wp option delete 'ewww_image_optimizer_pause_queues'
wp option delete 'ewww_image_optimizer_pause_image_queue'
wp option delete 'ewww_image_optimizer_bulk_ngg_resume'
wp option delete 'ewww_image_optimizer_bulk_ngg_attachments'
wp option delete 'ewww_image_optimizer_bulk_flag_resume'
wp option delete 'ewww_image_optimizer_bulk_flag_attachments'
wp option delete 'ewww_image_optimizer_debug'
wp option delete 'ewww_image_optimizer_test_mode'
wp option delete 'ewww_image_optimizer_webp_enabled'
wp option delete 'ewww_image_optimizer_exactdn'
wp option delete 'ewww_image_optimizer_scanning_attachments'
wp option delete 'ewww_image_optimizer_bulk_attachments'
wp option delete 'ewww_image_optimizer_relative_migration_status'
wp option delete 'ewww_image_optimizer_relative_migration_offset'
wp option delete 'ewww_image_optimizer_metadata_remove'
wp option delete 'ewww_image_optimizer_jpg_level'
wp option delete 'ewww_image_optimizer_png_level'
wp option delete 'ewww_image_optimizer_gif_level'
wp option delete 'ewww_image_optimizer_pdf_level'
wp option delete 'ewww_image_optimizer_svg_level'
wp option delete 'ewww_image_optimizer_webp_level'
wp option delete 'ewww_image_optimizer_webp_conversion_method'
wp option delete 'ewww_image_optimizer_backup_files'
wp option delete 'ewww_image_optimizer_sharpen'
wp option delete 'ewww_image_optimizer_jpg_quality'
wp option delete 'ewww_image_optimizer_webp_quality'
wp option delete 'ewww_image_optimizer_avif_quality'
wp option delete 'ewww_image_optimizer_auto'
wp option delete 'ewww_image_optimizer_include_media_paths'
wp option delete 'ewww_image_optimizer_include_originals'
wp option delete 'ewww_image_optimizer_aux_paths'
wp option delete 'ewww_image_optimizer_exclude_paths'
wp option delete 'ewww_image_optimizer_allow_tracking'
wp option delete 'ewww_image_optimizer_enable_help'
wp option delete 'exactdn_all_the_things'
wp option delete 'exactdn_hidpi'
wp option delete 'exactdn_exclude'
wp option delete 'ewww_image_optimizer_add_missing_dims'
wp option delete 'ewww_image_optimizer_lazy_load'
wp option delete 'ewww_image_optimizer_ll_autoscale'
wp option delete 'ewww_image_optimizer_ll_abovethefold'
wp option delete 'ewww_image_optimizer_use_lqip'
wp option delete 'ewww_image_optimizer_use_dcip'
wp option delete 'ewww_image_optimizer_ll_external_bg'
wp option delete 'ewww_image_optimizer_ll_all_things'
wp option delete 'ewww_image_optimizer_ll_exclude'
wp option delete 'ewww_image_optimizer_resize_detection'
wp option delete 'ewww_image_optimizer_maxmediawidth'
wp option delete 'ewww_image_optimizer_maxmediaheight'
wp option delete 'ewww_image_optimizer_resize_existing'
wp option delete 'ewww_image_optimizer_resize_other_existing'
wp option delete 'ewww_image_optimizer_preserve_originals'
wp option delete 'ewww_image_optimizer_disable_resizes'
wp option delete 'ewww_image_optimizer_disable_resizes_opt'
wp option delete 'ewww_image_optimizer_disable_convert_links'
wp option delete 'ewww_image_optimizer_delete_originals'
wp option delete 'ewww_image_optimizer_jpg_to_png'
wp option delete 'ewww_image_optimizer_png_to_jpg'
wp option delete 'ewww_image_optimizer_gif_to_png'
wp option delete 'ewww_image_optimizer_bmp_convert'
wp option delete 'ewww_image_optimizer_jpg_background'
wp option delete 'ewww_image_optimizer_webp'
wp option delete 'ewww_image_optimizer_webp_force'
wp option delete 'ewww_image_optimizer_webp_naming_mode'
wp option delete 'ewww_image_optimizer_webp_paths'
wp option delete 'ewww_image_optimizer_webp_for_cdn'
wp option delete 'ewww_image_optimizer_picture_webp'
wp option delete 'ewww_image_optimizer_webp_rewrite_exclude'
wp option delete 'ewww_image_optimizer_allow_multisite_override'
wp option delete 'ewww_image_optimizer_tracking_notice'
wp option delete 'rocket_lazyload_options'
wp option delete 'wp_rocket_settings'
wp option delete 'autoptimize_imgopt_settings'
wp option delete 'siteground_optimizer_lazyload_images'
wp option delete 'cache_enabler'
wp option delete 'ewww_image_optimizer_disable_pngout'
wp option delete 'ewww_image_optimizer_disable_svgcleaner'
wp option delete 'ewww_image_optimizer_optipng_level'
wp option delete 'ewww_image_optimizer_pngout_level'
wp option delete 'ewww_image_optimizer_version'
wp option delete 'ewww_image_optimizer_exactdn_verify_method'
wp option delete 'exactdn_never_been_active'
wp option delete 'ewww_image_optimizer_flag_attachments'
wp option delete 'ewww_image_optimizer_ngg_attachments'
wp option delete 'ewww_image_optimizer_local_mode'
wp option delete 'ewww_image_optimizer_ludicrous_mode'
wp option delete 'ewww_image_optimizer_review_time'
wp option delete 'ewww_image_optimizer_wizard_complete'
wp option delete 'ewww_image_optimizer_wc_regen'
wp option delete 'ewww_image_optimizer_disable_jpegtran'
wp option delete 'ewww_image_optimizer_cloud_jpg'
wp option delete 'ewww_image_optimizer_jpg_lossy'
wp option delete 'ewww_image_optimizer_lossy_fast'
wp option delete 'ewww_image_optimizer_cloud_png'
wp option delete 'ewww_image_optimizer_png_lossy'
wp option delete 'ewww_image_optimizer_cloud_png_compress'
wp option delete 'ewww_image_optimizer_disable_gifsicle'
wp option delete 'ewww_image_optimizer_cloud_gif'
wp option delete 'ewww_image_optimizer_cloud_pdf'
wp option delete 'ewww_image_optimizer_pdf_lossy'
wp option delete 'ewww_image_optimizer_skip_check'
wp option delete 'ewww_image_optimizer_disable_optipng'
wp option delete 'ewww_image_optimizer_interval'
wp option delete 'ewww_image_optimizer_jpegtran_path'
wp option delete 'ewww_image_optimizer_optipng_path'
wp option delete 'ewww_image_optimizer_gifsicle_path'
wp option delete 'ewww_image_optimizer_import_status'
wp option delete 'ewww_image_optimizer_bulk_image_count'
wp option delete 'ewww_image_optimizer_maxwidth'
wp option delete 'ewww_image_optimizer_maxheight'
wp option delete 'ewww_image_optimizer_exactdn_failures'
wp option delete 'ewww_image_optimizer_exactdn_suspended'
wp option delete 'ewww_image_optimizer_aux_attachments'
wp option delete 'ewww_image_optimizer_defer_attachments'
wp option delete 'ewww_image_optimizer_maxotherwidth'
wp option delete 'ewww_image_optimizer_maxotherheight'
wp option delete 'exactdn_sub_folder'
wp option delete 'ewww_image_optimizer_cloud_key_invalid'
wp option delete 'azure_storage_use_for_default_upload'
wp option delete 'ewww_image_optimizer_lr_sync'
wp option delete 'ewww_image_optimizer_exactdn_checkin'
wp option delete 'ewww_image_optimizer_exactdn_domain'
wp option delete 'ewww_image_optimizer_exactdn_local_domain'
wp option delete 'ewww_image_optimizer_exactdn_plan_id'
wp option delete 'ewww_image_optimizer_exactdn_verified'
wp option delete 'ewww_image_optimizer_goal_save_space'
wp option delete 'ewww_image_optimizer_goal_site_speed'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_size_w'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_size_h'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_crop'"
wp option delete 'easyio_exactdn'
wp option delete 'easyio_lazy_load'
wp option delete 'ewww_image_optimizer_exactdn_validation'
wp option delete 'ewww_image_optimizer_webp_images'
wp option delete 'ewww_image_optimizer_webp_skipped'
wp option delete 'ewww_image_optimizer_cloud_key'

# Delete Transients
wp transient delete 'ewwwio_images_table_count'
wp transient delete 'ewww_image_optimizer_aux_iterator'
wp transient delete 'ewww_image_optimizer_skip_aux'
wp transient delete 'ewww_image_optimizer_aux_lock'
wp transient delete 'ewww_image_optimizer_force_reopt'
wp transient delete 'ewww_image_optimizer_smart_reopt'
wp transient delete 'ewww_image_optimizer_scan_aux'
wp transient delete 'ewww_image_optimizer_cloud_status'
wp transient delete 'ewww_image_optimizer_low_memory_mode'
wp transient delete 'ewww_image_optimizer_no_scheduled_optimization'
wp transient delete 'ewww_image_optimizer_failed_file'
wp transient delete 'ewww_image_optimizer_bulk_current_image'
wp transient delete 'ewww_image_optimizer_bulk_counter_measures'
wp transient delete 'ewww_image_optimizer_620_upgrade_needed'
wp transient delete 'ewww_image_optimizer_images_reoptimized'
wp transient delete 'ewww_image_optimizer_savings'
wp transient delete 'ewww_image_optimizer_rebuilding_attachment'

# Clear Cron Jobs
wp cron event delete 'ewww_image_optimizer_relative_migration'
wp cron event delete 'wp_ewwwio_test_optimize_cron'
wp cron event delete 'ewww_image_optimizer_auto'
wp cron event delete 'ewww_image_optimizer_defer'
wp cron event delete 'easyio_verification_checkin'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'ml-slider_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'ml-slider_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'ml-slider_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'ml-slider_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wp_attachment_backup_sizes'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wp_attachment_backup_sizes'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wp_attachment_backup_sizes'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wp_attachment_backup_sizes'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wp_attachment_metadata'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wp_attachment_metadata'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wp_attachment_metadata'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wp_attachment_metadata'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wp_attached_file'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wp_attached_file'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wp_attached_file'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wp_attached_file'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'wpml_media_processed'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'wpml_media_processed'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'wpml_media_processed'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'wpml_media_processed'"
