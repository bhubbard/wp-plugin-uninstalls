<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('ewww_image_optimizer_webp_clean_position');
delete_site_option('ewww_image_optimizer_webp_clean_position');
delete_option('ewww_image_optimizer_bulk_restore_position');
delete_site_option('ewww_image_optimizer_bulk_restore_position');
delete_option('ewww_image_optimizer_delete_originals_resume');
delete_site_option('ewww_image_optimizer_delete_originals_resume');
delete_option('ewww_image_optimizer_aux_folders_completed');
delete_site_option('ewww_image_optimizer_aux_folders_completed');
delete_option('ewwwio_stop_scheduled_scan');
delete_site_option('ewwwio_stop_scheduled_scan');
delete_option('ewww_image_optimizer_aux_resume');
delete_site_option('ewww_image_optimizer_aux_resume');
delete_option('ewww_image_optimizer_scan_args');
delete_site_option('ewww_image_optimizer_scan_args');
delete_option('symposium_img_path');
delete_site_option('symposium_img_path');
delete_option('ewww_image_optimizer_bulk_resume');
delete_site_option('ewww_image_optimizer_bulk_resume');
delete_option('ewww_image_optimizer_pause_queues');
delete_site_option('ewww_image_optimizer_pause_queues');
delete_option('ewww_image_optimizer_pause_image_queue');
delete_site_option('ewww_image_optimizer_pause_image_queue');
delete_option('ewww_image_optimizer_bulk_ngg_resume');
delete_site_option('ewww_image_optimizer_bulk_ngg_resume');
delete_option('ewww_image_optimizer_bulk_ngg_attachments');
delete_site_option('ewww_image_optimizer_bulk_ngg_attachments');
delete_option('ewww_image_optimizer_bulk_flag_resume');
delete_site_option('ewww_image_optimizer_bulk_flag_resume');
delete_option('ewww_image_optimizer_bulk_flag_attachments');
delete_site_option('ewww_image_optimizer_bulk_flag_attachments');
delete_option('ewww_image_optimizer_debug');
delete_site_option('ewww_image_optimizer_debug');
delete_option('ewww_image_optimizer_test_mode');
delete_site_option('ewww_image_optimizer_test_mode');
delete_option('ewww_image_optimizer_webp_enabled');
delete_site_option('ewww_image_optimizer_webp_enabled');
delete_option('ewww_image_optimizer_exactdn');
delete_site_option('ewww_image_optimizer_exactdn');
delete_option('ewww_image_optimizer_scanning_attachments');
delete_site_option('ewww_image_optimizer_scanning_attachments');
delete_option('ewww_image_optimizer_bulk_attachments');
delete_site_option('ewww_image_optimizer_bulk_attachments');
delete_option('ewww_image_optimizer_relative_migration_status');
delete_site_option('ewww_image_optimizer_relative_migration_status');
delete_option('ewww_image_optimizer_relative_migration_offset');
delete_site_option('ewww_image_optimizer_relative_migration_offset');
delete_option('ewww_image_optimizer_metadata_remove');
delete_site_option('ewww_image_optimizer_metadata_remove');
delete_option('ewww_image_optimizer_jpg_level');
delete_site_option('ewww_image_optimizer_jpg_level');
delete_option('ewww_image_optimizer_png_level');
delete_site_option('ewww_image_optimizer_png_level');
delete_option('ewww_image_optimizer_gif_level');
delete_site_option('ewww_image_optimizer_gif_level');
delete_option('ewww_image_optimizer_pdf_level');
delete_site_option('ewww_image_optimizer_pdf_level');
delete_option('ewww_image_optimizer_svg_level');
delete_site_option('ewww_image_optimizer_svg_level');
delete_option('ewww_image_optimizer_webp_level');
delete_site_option('ewww_image_optimizer_webp_level');
delete_option('ewww_image_optimizer_webp_conversion_method');
delete_site_option('ewww_image_optimizer_webp_conversion_method');
delete_option('ewww_image_optimizer_backup_files');
delete_site_option('ewww_image_optimizer_backup_files');
delete_option('ewww_image_optimizer_sharpen');
delete_site_option('ewww_image_optimizer_sharpen');
delete_option('ewww_image_optimizer_jpg_quality');
delete_site_option('ewww_image_optimizer_jpg_quality');
delete_option('ewww_image_optimizer_webp_quality');
delete_site_option('ewww_image_optimizer_webp_quality');
delete_option('ewww_image_optimizer_avif_quality');
delete_site_option('ewww_image_optimizer_avif_quality');
delete_option('ewww_image_optimizer_auto');
delete_site_option('ewww_image_optimizer_auto');
delete_option('ewww_image_optimizer_include_media_paths');
delete_site_option('ewww_image_optimizer_include_media_paths');
delete_option('ewww_image_optimizer_include_originals');
delete_site_option('ewww_image_optimizer_include_originals');
delete_option('ewww_image_optimizer_aux_paths');
delete_site_option('ewww_image_optimizer_aux_paths');
delete_option('ewww_image_optimizer_exclude_paths');
delete_site_option('ewww_image_optimizer_exclude_paths');
delete_option('ewww_image_optimizer_allow_tracking');
delete_site_option('ewww_image_optimizer_allow_tracking');
delete_option('ewww_image_optimizer_enable_help');
delete_site_option('ewww_image_optimizer_enable_help');
delete_option('exactdn_all_the_things');
delete_site_option('exactdn_all_the_things');
delete_option('exactdn_hidpi');
delete_site_option('exactdn_hidpi');
delete_option('exactdn_exclude');
delete_site_option('exactdn_exclude');
delete_option('ewww_image_optimizer_add_missing_dims');
delete_site_option('ewww_image_optimizer_add_missing_dims');
delete_option('ewww_image_optimizer_lazy_load');
delete_site_option('ewww_image_optimizer_lazy_load');
delete_option('ewww_image_optimizer_ll_autoscale');
delete_site_option('ewww_image_optimizer_ll_autoscale');
delete_option('ewww_image_optimizer_ll_abovethefold');
delete_site_option('ewww_image_optimizer_ll_abovethefold');
delete_option('ewww_image_optimizer_use_lqip');
delete_site_option('ewww_image_optimizer_use_lqip');
delete_option('ewww_image_optimizer_use_dcip');
delete_site_option('ewww_image_optimizer_use_dcip');
delete_option('ewww_image_optimizer_ll_external_bg');
delete_site_option('ewww_image_optimizer_ll_external_bg');
delete_option('ewww_image_optimizer_ll_all_things');
delete_site_option('ewww_image_optimizer_ll_all_things');
delete_option('ewww_image_optimizer_ll_exclude');
delete_site_option('ewww_image_optimizer_ll_exclude');
delete_option('ewww_image_optimizer_resize_detection');
delete_site_option('ewww_image_optimizer_resize_detection');
delete_option('ewww_image_optimizer_maxmediawidth');
delete_site_option('ewww_image_optimizer_maxmediawidth');
delete_option('ewww_image_optimizer_maxmediaheight');
delete_site_option('ewww_image_optimizer_maxmediaheight');
delete_option('ewww_image_optimizer_resize_existing');
delete_site_option('ewww_image_optimizer_resize_existing');
delete_option('ewww_image_optimizer_resize_other_existing');
delete_site_option('ewww_image_optimizer_resize_other_existing');
delete_option('ewww_image_optimizer_preserve_originals');
delete_site_option('ewww_image_optimizer_preserve_originals');
delete_option('ewww_image_optimizer_disable_resizes');
delete_site_option('ewww_image_optimizer_disable_resizes');
delete_option('ewww_image_optimizer_disable_resizes_opt');
delete_site_option('ewww_image_optimizer_disable_resizes_opt');
delete_option('ewww_image_optimizer_disable_convert_links');
delete_site_option('ewww_image_optimizer_disable_convert_links');
delete_option('ewww_image_optimizer_delete_originals');
delete_site_option('ewww_image_optimizer_delete_originals');
delete_option('ewww_image_optimizer_jpg_to_png');
delete_site_option('ewww_image_optimizer_jpg_to_png');
delete_option('ewww_image_optimizer_png_to_jpg');
delete_site_option('ewww_image_optimizer_png_to_jpg');
delete_option('ewww_image_optimizer_gif_to_png');
delete_site_option('ewww_image_optimizer_gif_to_png');
delete_option('ewww_image_optimizer_bmp_convert');
delete_site_option('ewww_image_optimizer_bmp_convert');
delete_option('ewww_image_optimizer_jpg_background');
delete_site_option('ewww_image_optimizer_jpg_background');
delete_option('ewww_image_optimizer_webp');
delete_site_option('ewww_image_optimizer_webp');
delete_option('ewww_image_optimizer_webp_force');
delete_site_option('ewww_image_optimizer_webp_force');
delete_option('ewww_image_optimizer_webp_naming_mode');
delete_site_option('ewww_image_optimizer_webp_naming_mode');
delete_option('ewww_image_optimizer_webp_paths');
delete_site_option('ewww_image_optimizer_webp_paths');
delete_option('ewww_image_optimizer_webp_for_cdn');
delete_site_option('ewww_image_optimizer_webp_for_cdn');
delete_option('ewww_image_optimizer_picture_webp');
delete_site_option('ewww_image_optimizer_picture_webp');
delete_option('ewww_image_optimizer_webp_rewrite_exclude');
delete_site_option('ewww_image_optimizer_webp_rewrite_exclude');
delete_option('ewww_image_optimizer_allow_multisite_override');
delete_site_option('ewww_image_optimizer_allow_multisite_override');
delete_option('ewww_image_optimizer_tracking_notice');
delete_site_option('ewww_image_optimizer_tracking_notice');
delete_option('rocket_lazyload_options');
delete_site_option('rocket_lazyload_options');
delete_option('wp_rocket_settings');
delete_site_option('wp_rocket_settings');
delete_option('autoptimize_imgopt_settings');
delete_site_option('autoptimize_imgopt_settings');
delete_option('siteground_optimizer_lazyload_images');
delete_site_option('siteground_optimizer_lazyload_images');
delete_option('cache_enabler');
delete_site_option('cache_enabler');
delete_option('ewww_image_optimizer_disable_pngout');
delete_site_option('ewww_image_optimizer_disable_pngout');
delete_option('ewww_image_optimizer_disable_svgcleaner');
delete_site_option('ewww_image_optimizer_disable_svgcleaner');
delete_option('ewww_image_optimizer_optipng_level');
delete_site_option('ewww_image_optimizer_optipng_level');
delete_option('ewww_image_optimizer_pngout_level');
delete_site_option('ewww_image_optimizer_pngout_level');
delete_option('ewww_image_optimizer_version');
delete_site_option('ewww_image_optimizer_version');
delete_option('ewww_image_optimizer_exactdn_verify_method');
delete_site_option('ewww_image_optimizer_exactdn_verify_method');
delete_option('exactdn_never_been_active');
delete_site_option('exactdn_never_been_active');
delete_option('ewww_image_optimizer_flag_attachments');
delete_site_option('ewww_image_optimizer_flag_attachments');
delete_option('ewww_image_optimizer_ngg_attachments');
delete_site_option('ewww_image_optimizer_ngg_attachments');
delete_option('ewww_image_optimizer_local_mode');
delete_site_option('ewww_image_optimizer_local_mode');
delete_option('ewww_image_optimizer_ludicrous_mode');
delete_site_option('ewww_image_optimizer_ludicrous_mode');
delete_option('ewww_image_optimizer_review_time');
delete_site_option('ewww_image_optimizer_review_time');
delete_option('ewww_image_optimizer_wizard_complete');
delete_site_option('ewww_image_optimizer_wizard_complete');
delete_option('ewww_image_optimizer_wc_regen');
delete_site_option('ewww_image_optimizer_wc_regen');
delete_option('ewww_image_optimizer_disable_jpegtran');
delete_site_option('ewww_image_optimizer_disable_jpegtran');
delete_option('ewww_image_optimizer_cloud_jpg');
delete_site_option('ewww_image_optimizer_cloud_jpg');
delete_option('ewww_image_optimizer_jpg_lossy');
delete_site_option('ewww_image_optimizer_jpg_lossy');
delete_option('ewww_image_optimizer_lossy_fast');
delete_site_option('ewww_image_optimizer_lossy_fast');
delete_option('ewww_image_optimizer_cloud_png');
delete_site_option('ewww_image_optimizer_cloud_png');
delete_option('ewww_image_optimizer_png_lossy');
delete_site_option('ewww_image_optimizer_png_lossy');
delete_option('ewww_image_optimizer_cloud_png_compress');
delete_site_option('ewww_image_optimizer_cloud_png_compress');
delete_option('ewww_image_optimizer_disable_gifsicle');
delete_site_option('ewww_image_optimizer_disable_gifsicle');
delete_option('ewww_image_optimizer_cloud_gif');
delete_site_option('ewww_image_optimizer_cloud_gif');
delete_option('ewww_image_optimizer_cloud_pdf');
delete_site_option('ewww_image_optimizer_cloud_pdf');
delete_option('ewww_image_optimizer_pdf_lossy');
delete_site_option('ewww_image_optimizer_pdf_lossy');
delete_option('ewww_image_optimizer_skip_check');
delete_site_option('ewww_image_optimizer_skip_check');
delete_option('ewww_image_optimizer_disable_optipng');
delete_site_option('ewww_image_optimizer_disable_optipng');
delete_option('ewww_image_optimizer_interval');
delete_site_option('ewww_image_optimizer_interval');
delete_option('ewww_image_optimizer_jpegtran_path');
delete_site_option('ewww_image_optimizer_jpegtran_path');
delete_option('ewww_image_optimizer_optipng_path');
delete_site_option('ewww_image_optimizer_optipng_path');
delete_option('ewww_image_optimizer_gifsicle_path');
delete_site_option('ewww_image_optimizer_gifsicle_path');
delete_option('ewww_image_optimizer_import_status');
delete_site_option('ewww_image_optimizer_import_status');
delete_option('ewww_image_optimizer_bulk_image_count');
delete_site_option('ewww_image_optimizer_bulk_image_count');
delete_option('ewww_image_optimizer_maxwidth');
delete_site_option('ewww_image_optimizer_maxwidth');
delete_option('ewww_image_optimizer_maxheight');
delete_site_option('ewww_image_optimizer_maxheight');
delete_option('ewww_image_optimizer_exactdn_failures');
delete_site_option('ewww_image_optimizer_exactdn_failures');
delete_option('ewww_image_optimizer_exactdn_suspended');
delete_site_option('ewww_image_optimizer_exactdn_suspended');
delete_option('ewww_image_optimizer_aux_attachments');
delete_site_option('ewww_image_optimizer_aux_attachments');
delete_option('ewww_image_optimizer_defer_attachments');
delete_site_option('ewww_image_optimizer_defer_attachments');
delete_option('ewww_image_optimizer_maxotherwidth');
delete_site_option('ewww_image_optimizer_maxotherwidth');
delete_option('ewww_image_optimizer_maxotherheight');
delete_site_option('ewww_image_optimizer_maxotherheight');
delete_option('exactdn_sub_folder');
delete_site_option('exactdn_sub_folder');
delete_option('ewww_image_optimizer_cloud_key_invalid');
delete_site_option('ewww_image_optimizer_cloud_key_invalid');
delete_option('azure_storage_use_for_default_upload');
delete_site_option('azure_storage_use_for_default_upload');
delete_option('ewww_image_optimizer_lr_sync');
delete_site_option('ewww_image_optimizer_lr_sync');
delete_option('ewww_image_optimizer_exactdn_checkin');
delete_site_option('ewww_image_optimizer_exactdn_checkin');
delete_option('ewww_image_optimizer_exactdn_domain');
delete_site_option('ewww_image_optimizer_exactdn_domain');
delete_option('ewww_image_optimizer_exactdn_local_domain');
delete_site_option('ewww_image_optimizer_exactdn_local_domain');
delete_option('ewww_image_optimizer_exactdn_plan_id');
delete_site_option('ewww_image_optimizer_exactdn_plan_id');
delete_option('ewww_image_optimizer_exactdn_verified');
delete_site_option('ewww_image_optimizer_exactdn_verified');
delete_option('ewww_image_optimizer_goal_save_space');
delete_site_option('ewww_image_optimizer_goal_save_space');
delete_option('ewww_image_optimizer_goal_site_speed');
delete_site_option('ewww_image_optimizer_goal_site_speed');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_size_w' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_size_h' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_crop' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('easyio_exactdn');
delete_site_option('easyio_exactdn');
delete_option('easyio_lazy_load');
delete_site_option('easyio_lazy_load');
delete_option('ewww_image_optimizer_exactdn_validation');
delete_site_option('ewww_image_optimizer_exactdn_validation');
delete_option('ewww_image_optimizer_webp_images');
delete_site_option('ewww_image_optimizer_webp_images');
delete_option('ewww_image_optimizer_webp_skipped');
delete_site_option('ewww_image_optimizer_webp_skipped');
delete_option('ewww_image_optimizer_cloud_key');
delete_site_option('ewww_image_optimizer_cloud_key');

// Delete Transients
delete_transient('ewwwio_images_table_count');
delete_site_transient('ewwwio_images_table_count');
delete_transient('ewww_image_optimizer_aux_iterator');
delete_site_transient('ewww_image_optimizer_aux_iterator');
delete_transient('ewww_image_optimizer_skip_aux');
delete_site_transient('ewww_image_optimizer_skip_aux');
delete_transient('ewww_image_optimizer_aux_lock');
delete_site_transient('ewww_image_optimizer_aux_lock');
delete_transient('ewww_image_optimizer_force_reopt');
delete_site_transient('ewww_image_optimizer_force_reopt');
delete_transient('ewww_image_optimizer_smart_reopt');
delete_site_transient('ewww_image_optimizer_smart_reopt');
delete_transient('ewww_image_optimizer_scan_aux');
delete_site_transient('ewww_image_optimizer_scan_aux');
delete_transient('ewww_image_optimizer_cloud_status');
delete_site_transient('ewww_image_optimizer_cloud_status');
delete_transient('ewww_image_optimizer_low_memory_mode');
delete_site_transient('ewww_image_optimizer_low_memory_mode');
delete_transient('ewww_image_optimizer_no_scheduled_optimization');
delete_site_transient('ewww_image_optimizer_no_scheduled_optimization');
delete_transient('ewww_image_optimizer_failed_file');
delete_site_transient('ewww_image_optimizer_failed_file');
delete_transient('ewww_image_optimizer_bulk_current_image');
delete_site_transient('ewww_image_optimizer_bulk_current_image');
delete_transient('ewww_image_optimizer_bulk_counter_measures');
delete_site_transient('ewww_image_optimizer_bulk_counter_measures');
delete_transient('ewww_image_optimizer_620_upgrade_needed');
delete_site_transient('ewww_image_optimizer_620_upgrade_needed');
delete_transient('ewww_image_optimizer_images_reoptimized');
delete_site_transient('ewww_image_optimizer_images_reoptimized');
delete_transient('ewww_image_optimizer_savings');
delete_site_transient('ewww_image_optimizer_savings');
delete_transient('ewww_image_optimizer_rebuilding_attachment');
delete_site_transient('ewww_image_optimizer_rebuilding_attachment');

// Clear Cron Jobs
wp_clear_scheduled_hook('ewww_image_optimizer_relative_migration');
wp_clear_scheduled_hook('wp_ewwwio_test_optimize_cron');
wp_clear_scheduled_hook('ewww_image_optimizer_auto');
wp_clear_scheduled_hook('ewww_image_optimizer_defer');
wp_clear_scheduled_hook('easyio_verification_checkin');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'ml-slider_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'ml-slider_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'ml-slider_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'ml-slider_type' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_wp_attachment_backup_sizes' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_wp_attachment_backup_sizes' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_wp_attachment_backup_sizes' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_wp_attachment_backup_sizes' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_wp_attachment_metadata' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_wp_attachment_metadata' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_wp_attachment_metadata' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_wp_attachment_metadata' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_wp_attached_file' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_wp_attached_file' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_wp_attached_file' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_wp_attached_file' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'wpml_media_processed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'wpml_media_processed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'wpml_media_processed' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'wpml_media_processed' ) );

