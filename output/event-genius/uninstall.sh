#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'evge_settings'
wp option delete 'evge_default_form_settings'
wp option delete 'evge_gateways'
wp option delete 'evge_event_settings'
wp option delete 'evge_registration_settings'
wp option delete 'evge_all_fields'
wp option delete 'evge_form'
wp option delete 'evge_states'
wp option delete 'evge_next_event'
wp option delete 'evge_total_registrations'

# Delete Transients
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_evge_calendar_preview_%' OR option_name LIKE '_site_transient_evge_calendar_preview_%'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%_delay' OR option_name LIKE '_site_transient_%_delay'"
wp transient delete 'evge_rating_delay'
wp transient delete 'evge_recurrence_debug_mode'
wp transient delete 'evge_series_queue_lock'
wp transient delete 'evge_frontend_dynamic_notices'

# Clear Cron Jobs
wp cron event delete 'evge_process_series_queue'
wp cron event delete 'evge_cleanup_expired_registrations'
wp cron event delete 'evge_cleanup_old_events'
wp cron event delete 'evge_check_abandoned_payments'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_recurrence_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_recurrence_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_recurrence_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_recurrence_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_recurrence_end_date'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_recurrence_end_date'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_recurrence_end_date'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_recurrence_end_date'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_is_recurrence'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_is_recurrence'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_is_recurrence'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_is_recurrence'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_timezone'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_timezone'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_timezone'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_timezone'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_start_date'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_start_date'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_start_date'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_start_date'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_end_date'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_end_date'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_end_date'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_end_date'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_order'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_order'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_order'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_order'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_all_day'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_all_day'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_all_day'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_all_day'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_series_added_via_setting'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_series_added_via_setting'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_series_added_via_setting'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_series_added_via_setting'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_series_created'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_series_created'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_series_created'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_series_created'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_summary'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_summary'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_summary'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_summary'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_email'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_email'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_email'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_email'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_phone'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_phone'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_phone'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_phone'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_website'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_website'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_website'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_website'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_facebook'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_facebook'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_facebook'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_facebook'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_twitter'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_twitter'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_twitter'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_twitter'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_instagram'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_instagram'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_instagram'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_instagram'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_linkedin'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_linkedin'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_linkedin'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_linkedin'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_youtube'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_youtube'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_youtube'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_youtube'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_start_date_utc'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_start_date_utc'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_start_date_utc'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_start_date_utc'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_end_date_utc'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_end_date_utc'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_end_date_utc'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_end_date_utc'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_currency_symbol'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_currency_symbol'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_currency_symbol'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_currency_symbol'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_cost_amount'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_cost_amount'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_cost_amount'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_cost_amount'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_cost_display'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_cost_display'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_cost_display'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_cost_display'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_open_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_open_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_open_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_open_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_relative_open_offset'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_relative_open_offset'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_relative_open_offset'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_relative_open_offset'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_relative_open_offset_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_relative_open_offset_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_relative_open_offset_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_relative_open_offset_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_close_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_close_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_close_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_close_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_relative_close_offset'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_relative_close_offset'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_relative_close_offset'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_relative_close_offset'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_relative_close_offset_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_relative_close_offset_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_relative_close_offset_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_relative_close_offset_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_open_date'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_open_date'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_open_date'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_open_date'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_open_date_utc'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_open_date_utc'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_open_date_utc'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_open_date_utc'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_close_date'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_close_date'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_close_date'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_close_date'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_close_utc'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_close_utc'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_close_utc'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_close_utc'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_allow_registration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_allow_registration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_allow_registration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_allow_registration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_unlimited_capacity'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_unlimited_capacity'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_unlimited_capacity'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_unlimited_capacity'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_capacity'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_capacity'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_capacity'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_capacity'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_capacity_per_registration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_capacity_per_registration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_capacity_per_registration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_capacity_per_registration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_show_attendee_list'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_show_attendee_list'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_show_attendee_list'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_show_attendee_list'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_who_can_see_attendee_list'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_who_can_see_attendee_list'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_who_can_see_attendee_list'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_who_can_see_attendee_list'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_venue'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_venue'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_venue'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_venue'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_venue_order'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_venue_order'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_venue_order'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_venue_order'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_organizer'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_organizer'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_organizer'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_organizer'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_organizer_order'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_organizer_order'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_organizer_order'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_organizer_order'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_address_1'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_address_1'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_address_1'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_address_1'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_address_2'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_address_2'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_address_2'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_address_2'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_city'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_city'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_city'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_city'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_state'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_state'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_state'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_state'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_postal_code'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_postal_code'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_postal_code'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_postal_code'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_country'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_country'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_country'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_country'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_map_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_map_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_map_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_map_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_all_events_view'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_all_events_view'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_all_events_view'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_all_events_view'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_calendar_settings'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_calendar_settings'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_calendar_settings'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_calendar_settings'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'allowed_registration_users'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'allowed_registration_users'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'allowed_registration_users'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'allowed_registration_users'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_series_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_series_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_series_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_series_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'template_event_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'template_event_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'template_event_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'template_event_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'evge_category_color'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'evge_category_color'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'evge_category_color'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'evge_category_color'"
