<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('crmerpbs_notice');
delete_site_option('crmerpbs_notice');
delete_option('crmerpbs_enableOffers');
delete_site_option('crmerpbs_enableOffers');
delete_option('crmerpbs_enableProducts');
delete_site_option('crmerpbs_enableProducts');
delete_option('crmerpbs_enableAppointments');
delete_site_option('crmerpbs_enableAppointments');
delete_option('crmerpbs_enableEmails');
delete_site_option('crmerpbs_enableEmails');
delete_option('crmerpbs_enableActions');
delete_site_option('crmerpbs_enableActions');
delete_option('crmerpbs_enableTickets');
delete_site_option('crmerpbs_enableTickets');
delete_option('crmerpbs_userSegment');
delete_site_option('crmerpbs_userSegment');
delete_option('crmerpbs_userDiscount');
delete_site_option('crmerpbs_userDiscount');
delete_option('crmerpbs_accessRole');
delete_site_option('crmerpbs_accessRole');
delete_option('crmerpbs_deleteSettings');
delete_site_option('crmerpbs_deleteSettings');
delete_option('crmerpbs_deleteTables');
delete_site_option('crmerpbs_deleteTables');
delete_option('crmerpbs_currencySymbol');
delete_site_option('crmerpbs_currencySymbol');
delete_option('crmerpbs_paymentMethod');
delete_site_option('crmerpbs_paymentMethod');
delete_option('crmerpbs_onlySelectDocuments');
delete_site_option('crmerpbs_onlySelectDocuments');
delete_option('crmerpbs_companyName');
delete_site_option('crmerpbs_companyName');
delete_option('crmerpbs_companyImage');
delete_site_option('crmerpbs_companyImage');
delete_option('crmerpbs_companyVat');
delete_site_option('crmerpbs_companyVat');
delete_option('crmerpbs_companyPhone');
delete_site_option('crmerpbs_companyPhone');
delete_option('crmerpbs_companyMobile');
delete_site_option('crmerpbs_companyMobile');
delete_option('crmerpbs_companyAddress');
delete_site_option('crmerpbs_companyAddress');
delete_option('crmerpbs_defaultVat');
delete_site_option('crmerpbs_defaultVat');
delete_option('crmerpbs_enableStock');
delete_site_option('crmerpbs_enableStock');
delete_option('userToAdd');
delete_site_option('userToAdd');
delete_option('crmerpbs_headingsBackground');
delete_site_option('crmerpbs_headingsBackground');
delete_option('crmerpbs_headingsColor');
delete_site_option('crmerpbs_headingsColor');
delete_option('crmerpbs_generalColor');
delete_site_option('crmerpbs_generalColor');
delete_option('crmerpbs_thankyouColor');
delete_site_option('crmerpbs_thankyouColor');
delete_option('crmerpbsdeleteSettings');
delete_site_option('crmerpbsdeleteSettings');
delete_option('crmerpbsaccessRole');
delete_site_option('crmerpbsaccessRole');
delete_option('crm_documents_table_db_version');
delete_site_option('crm_documents_table_db_version');
delete_option('crmerpbs_documents_table_db_version');
delete_site_option('crmerpbs_documents_table_db_version');
delete_option('crmerpbs_invoiceNotes');
delete_site_option('crmerpbs_invoiceNotes');
delete_option('crmerpbs_invoiceThankyou');
delete_site_option('crmerpbs_invoiceThankyou');
delete_option('crmerpbs_invoiceStart');
delete_site_option('crmerpbs_invoiceStart');
delete_option('crmerpbs_invoiceTransPrefix');
delete_site_option('crmerpbs_invoiceTransPrefix');
delete_option('crmerpbs_activateReceipts');
delete_site_option('crmerpbs_activateReceipts');
delete_option('crmerpbscurrencySymbol');
delete_site_option('crmerpbscurrencySymbol');
delete_option('crmerpbs_transactions_table_db_version');
delete_site_option('crmerpbs_transactions_table_db_version');
delete_option('crmerpbsdefaultVat');
delete_site_option('crmerpbsdefaultVat');
delete_option('crmerpbs_fromName');
delete_site_option('crmerpbs_fromName');
delete_option('crmerpbs_fromEmail');
delete_site_option('crmerpbs_fromEmail');

// Delete Transients
delete_transient('crmerpbs_notification');
delete_site_transient('crmerpbs_notification');
global $wpdb;
$transients = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s OR option_name LIKE %s", '_transient_%_notification', '_site_transient_%_notification' ) );
foreach ( $transients as $transient ) {
	delete_option( $transient );
}
delete_transient('crm-erp-business-solution');
delete_site_transient('crm-erp-business-solution');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'crmerpbs_dateto' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'crmerpbs_dateto' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'crmerpbs_dateto' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'crmerpbs_dateto' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'crmerpbs_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'crmerpbs_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'crmerpbs_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'crmerpbs_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'crmerpbs_user' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'crmerpbs_user' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'crmerpbs_user' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'crmerpbs_user' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'crmerpbs_sku' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'crmerpbs_sku' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'crmerpbs_sku' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'crmerpbs_sku' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'crmerpbs_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'crmerpbs_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'crmerpbs_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'crmerpbs_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'crmerpbs_quantity' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'crmerpbs_quantity' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'crmerpbs_quantity' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'crmerpbs_quantity' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'user_segment' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'user_segment' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'user_segment' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'user_segment' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'billing_city' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'billing_city' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'billing_city' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'billing_city' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'billing_country' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'billing_country' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'billing_country' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'billing_country' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'vat' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'vat' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'vat' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'vat' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'facebook' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'facebook' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'facebook' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'facebook' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'instagram' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'instagram' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'instagram' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'instagram' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'billing_address_1' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'billing_address_1' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'billing_address_1' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'billing_address_1' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'billing_phone' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'billing_phone' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'billing_phone' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'billing_phone' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'billing_postcode' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'billing_postcode' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'billing_postcode' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'billing_postcode' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'discount' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'discount' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'discount' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'discount' ) );

