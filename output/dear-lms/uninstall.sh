#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'dearlms_rewrite_version'
wp option delete 'dearlms_flush_rewrite_rules'
wp option delete 'dearlms_enable_progress'
wp option delete 'dearlms_url_structure'
wp option delete 'dearlms_primary_color'
wp option delete 'dearlms_secondary_color'
wp option delete 'dearlms_text_color'
wp option delete 'dearlms_activated'
wp option delete 'dearlms_version'

# Delete Transients
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_dearlms_new_lesson_course_id_%' OR option_name LIKE '_site_transient_dearlms_new_lesson_course_id_%'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_dearlms_new_topic_lesson_id_%' OR option_name LIKE '_site_transient_dearlms_new_topic_lesson_id_%'"

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_lesson_course_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_lesson_course_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_lesson_course_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_lesson_course_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_topic_lesson_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_topic_lesson_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_topic_lesson_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_topic_lesson_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_lesson_course'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_lesson_course'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_lesson_course'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_lesson_course'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_course_level'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_course_level'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_course_level'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_course_level'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_course_duration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_course_duration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_course_duration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_course_duration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_course_price'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_course_price'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_course_price'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_course_price'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_students_enrolled'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_students_enrolled'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_students_enrolled'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_students_enrolled'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_topic_content_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_topic_content_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_topic_content_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_topic_content_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_topic_duration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_topic_duration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_topic_duration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_topic_duration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_lesson_duration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_lesson_duration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_lesson_duration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_lesson_duration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_lesson_video_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_lesson_video_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_lesson_video_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_lesson_video_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_lesson_resources'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_lesson_resources'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_lesson_resources'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_lesson_resources'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_topic_lesson'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_topic_lesson'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_topic_lesson'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_topic_lesson'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_lesson_order'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_lesson_order'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_lesson_order'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_lesson_order'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_topic_order'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_topic_order'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_topic_order'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_topic_order'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_topic_is_introduction'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_topic_is_introduction'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_topic_is_introduction'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_topic_is_introduction'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_topic_video_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_topic_video_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_topic_video_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_topic_video_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_is_introduction_topic'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_is_introduction_topic'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_is_introduction_topic'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_is_introduction_topic'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_lesson_introduction_topic'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_lesson_introduction_topic'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_lesson_introduction_topic'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_lesson_introduction_topic'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_course_students'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_course_students'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_course_students'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_course_students'"
