#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'suredash_onboarding_completed'
wp option delete 'suredash_onboarding_skipped'
wp option delete 'suredash_saved_version'
wp option delete 'suredash_usage_optin'
wp option delete '$suredash_usage_optin'
wp option delete 'allowed_astra_notices'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_usage_optin'"
wp option delete 'bsf_usage_last_displayed_time'
wp option delete 'bsf_usage_migrated'
wp option delete 'bsf_analytics_last_displayed_time'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_analytics_optin'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_analytics_installed_time'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_usage_installed_time'"
wp option delete 'suredash_emails_triggers_data'
wp option delete 'rewrite_rules'
wp option delete '__suredash_do_redirect'

# Delete Transients
wp transient delete 'st-redirect-after-activation'
wp transient delete 'action_scheduler_last_pastdue_actions_check'
wp transient delete 'action_scheduler_admin_notice'
wp transient delete 'as_comment_count'
wp transient delete 'bsf_analytics_track'
wp transient delete 'bsf_usage_track'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wp_page_template'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wp_page_template'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wp_page_template'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wp_page_template'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_thumbnail_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_thumbnail_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_thumbnail_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_thumbnail_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_banner_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_banner_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_banner_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_banner_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'wp_post'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'wp_post'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'wp_post'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'wp_post'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'belong_to_course'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'belong_to_course'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'belong_to_course'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'belong_to_course'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'group_tax_position'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'group_tax_position'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'group_tax_position'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'group_tax_position'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_link_order'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_link_order'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_link_order'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_link_order'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'content_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'content_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'content_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'content_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'space_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'space_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'space_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'space_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'lesson_duration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'lesson_duration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'lesson_duration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'lesson_duration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'resource_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'resource_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'resource_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'resource_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'attachment_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'attachment_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'attachment_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'attachment_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'attachment_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'attachment_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'attachment_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'attachment_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'external_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'external_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'external_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'external_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'event_date'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'event_date'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'event_date'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'event_date'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'event_start_time'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'event_start_time'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'event_start_time'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'event_start_time'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'event_duration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'event_duration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'event_duration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'event_duration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'event_timezone'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'event_timezone'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'event_timezone'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'event_timezone'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'rsvp_link'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'rsvp_link'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'rsvp_link'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'rsvp_link'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'event_joining_link'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'event_joining_link'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'event_joining_link'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'event_joining_link'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'recorded_video_link'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'recorded_video_link'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'recorded_video_link'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'recorded_video_link'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'visibility_scope'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'visibility_scope'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'visibility_scope'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'visibility_scope'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'custom_post_cover_image'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'custom_post_cover_image'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'custom_post_cover_image'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'custom_post_cover_image'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'custom_post_embed_media'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'custom_post_embed_media'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'custom_post_embed_media'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'custom_post_embed_media'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'portal_comment_likes'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'portal_comment_likes'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'portal_comment_likes'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'portal_comment_likes'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'suredash_comment_edited'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'suredash_comment_edited'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'suredash_comment_edited'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'suredash_comment_edited'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'suredash_post_edited'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'suredash_post_edited'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'suredash_post_edited'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'suredash_post_edited'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'suredash-subscribed'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'suredash-subscribed'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'suredash-subscribed'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'suredash-subscribed'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'space_description'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'space_description'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'space_description'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'space_description'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'integration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'integration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'integration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'integration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'feed_group_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'feed_group_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'feed_group_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'feed_group_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'event_ids'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'event_ids'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'event_ids'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'event_ids'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'resource_ids'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'resource_ids'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'resource_ids'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'resource_ids'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'pp_course_section_loop'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'pp_course_section_loop'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'pp_course_section_loop'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'pp_course_section_loop'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'collection_spaces'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'collection_spaces'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'collection_spaces'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'collection_spaces'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'portal_post_likes'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'portal_post_likes'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'portal_post_likes'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'portal_post_likes'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'first_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'first_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'first_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'first_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'last_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'last_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'last_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'last_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'hidden_space'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'hidden_space'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'hidden_space'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'hidden_space'"
