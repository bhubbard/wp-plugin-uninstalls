#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'wahrb_settings_general'
wp option delete 'wahrb_settings_booking'
wp option delete 'wahrb_settings_payment'
wp option delete 'wahrb_settings_notifications'
wp option delete 'wahrb_settings_cancellation'
wp option delete 'wahrb_db_version'
wp option delete 'wahrb_flush_rewrite_rules'
wp option delete 'wahrb_settings_vendor_permissions'
wp option delete 'wahrb_settings_service_types'
wp option delete 'wahrb_deposit_product_id'
wp option delete 'wahrb_security_product_id'
wp option delete 'wahrb_balance_product_id'
wp option delete 'wahrb_activated_at'
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'wahrb_color_%'"
wp option delete 'wahrb_settings_emails'
wp option delete 'dokan_payment'
wp option delete 'woocommerce_dokan_stripe_connect_settings'
wp option delete 'wahrb_admin_settings'
wp option delete 'wahrb_preserve_data_on_uninstall'

# Clear Cron Jobs
wp cron event delete 'wahrb_daily_cron_event'
wp cron event delete 'wahrb_cleanup_expired_holds'
wp cron event delete 'wahrb_process_balance_orders'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_total_units'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_total_units'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_total_units'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_total_units'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_business_hours_start'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_business_hours_start'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_business_hours_start'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_business_hours_start'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_business_hours_end'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_business_hours_end'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_business_hours_end'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_business_hours_end'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_slot_duration_minutes'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_slot_duration_minutes'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_slot_duration_minutes'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_slot_duration_minutes'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_service_duration_minutes'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_service_duration_minutes'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_service_duration_minutes'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_service_duration_minutes'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_capacity_per_slot'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_capacity_per_slot'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_capacity_per_slot'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_capacity_per_slot'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_price_per_day'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_price_per_day'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_price_per_day'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_price_per_day'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_booking_mode'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_booking_mode'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_booking_mode'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_booking_mode'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_deposit_enabled'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_deposit_enabled'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_deposit_enabled'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_deposit_enabled'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_security_deposit_enabled'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_security_deposit_enabled'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_security_deposit_enabled'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_security_deposit_enabled'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_recurring_days'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_recurring_days'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_recurring_days'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_recurring_days'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_recurring_hours'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_recurring_hours'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_recurring_hours'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_recurring_hours'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_min_duration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_min_duration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_min_duration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_min_duration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_max_duration'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_max_duration'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_max_duration'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_max_duration'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_min_booking_window'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_min_booking_window'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_min_booking_window'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_min_booking_window'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_max_booking_window'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_max_booking_window'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_max_booking_window'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_max_booking_window'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_buffer_before'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_buffer_before'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_buffer_before'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_buffer_before'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_buffer_after'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_buffer_after'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_buffer_after'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_buffer_after'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_base_price'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_base_price'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_base_price'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_base_price'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_price_unit'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_price_unit'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_price_unit'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_price_unit'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_deposit_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_deposit_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_deposit_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_deposit_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_deposit_value'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_deposit_value'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_deposit_value'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_deposit_value'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_deposit_refundable'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_deposit_refundable'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_deposit_refundable'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_deposit_refundable'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_security_deposit'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_security_deposit'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_security_deposit'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_security_deposit'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_security_mode'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_security_mode'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_security_mode'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_security_mode'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_balance_enabled'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_balance_enabled'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_balance_enabled'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_balance_enabled'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_balance_due_days'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_balance_due_days'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_balance_due_days'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_balance_due_days'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_balance_allow_cod'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_balance_allow_cod'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_balance_allow_cod'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_balance_allow_cod'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_cancellation_policy'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_cancellation_policy'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_cancellation_policy'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_cancellation_policy'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_rental_enabled'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_rental_enabled'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_rental_enabled'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_rental_enabled'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_platform_category'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_platform_category'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_platform_category'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_platform_category'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_manage_stock'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_manage_stock'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_manage_stock'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_manage_stock'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_stock'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_stock'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_stock'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_stock'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_stock_status'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_stock_status'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_stock_status'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_stock_status'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_rental_description'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_rental_description'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_rental_description'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_rental_description'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_price'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_price'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_price'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_price'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_regular_price'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_regular_price'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_regular_price'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_regular_price'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_quick_rules'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_quick_rules'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_quick_rules'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_quick_rules'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_custom_rules'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_custom_rules'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_custom_rules'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_custom_rules'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_cancel_policy_days'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_cancel_policy_days'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_cancel_policy_days'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_cancel_policy_days'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_cancel_policy_refund'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_cancel_policy_refund'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_cancel_policy_refund'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_cancel_policy_refund'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_terms_accepted'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_terms_accepted'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_terms_accepted'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_terms_accepted'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_terms_content'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_terms_content'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_terms_content'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_terms_content'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_terms_file_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_terms_file_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_terms_file_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_terms_file_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_min_duration_hours'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_min_duration_hours'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_min_duration_hours'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_min_duration_hours'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_max_duration_hours'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_max_duration_hours'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_max_duration_hours'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_max_duration_hours'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_business_hours'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_business_hours'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_business_hours'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_business_hours'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_vendor_settings'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_vendor_settings'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_vendor_settings'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_vendor_settings'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wahrb_tax_rate'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wahrb_tax_rate'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wahrb_tax_rate'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wahrb_tax_rate'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '_wahrb_color_%'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '_wahrb_color_%'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '_wahrb_color_%'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '_wahrb_color_%'"
