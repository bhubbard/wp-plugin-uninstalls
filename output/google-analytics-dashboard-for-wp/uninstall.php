<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('exactmetrics_current_version');
delete_site_option('exactmetrics_current_version');
delete_option('exactmetrics_notices');
delete_site_option('exactmetrics_notices');
delete_option('exactmetrics_wpconsent_notice_dismissed');
delete_site_option('exactmetrics_wpconsent_notice_dismissed');
delete_option('exactmetrics_dismiss_seoboost_cta');
delete_site_option('exactmetrics_dismiss_seoboost_cta');
delete_option('exactmetrics_dismiss_aiseo_cta');
delete_site_option('exactmetrics_dismiss_aiseo_cta');
delete_option('fkwcs_wp_stripe');
delete_site_option('fkwcs_wp_stripe');
delete_option('fkwcs_con_status');
delete_site_option('fkwcs_con_status');
delete_option('exactmetrics_network_tt');
delete_site_option('exactmetrics_network_tt');
delete_option('exactmetrics_site_tt');
delete_site_option('exactmetrics_site_tt');
delete_option('bad_behavior_settings');
delete_site_option('bad_behavior_settings');
delete_option('exactmetrics_site_profile');
delete_site_option('exactmetrics_site_profile');
delete_option('exactmetrics_over_time');
delete_site_option('exactmetrics_over_time');
delete_option('exactmetrics_usage_tracking_config');
delete_site_option('exactmetrics_usage_tracking_config');
delete_option('exactmetrics_setup_checklist');
delete_site_option('exactmetrics_setup_checklist');
delete_option('exactmetrics_last_plugin_error');
delete_site_option('exactmetrics_last_plugin_error');
delete_option('exactmetrics_usage_tracking_last_checkin');
delete_site_option('exactmetrics_usage_tracking_last_checkin');
delete_option('exactmetrics_tracking_notice');
delete_site_option('exactmetrics_tracking_notice');
delete_option('exactmetrics_notification_upgrade_to_pro_five_hundred_session_last_added');
delete_site_option('exactmetrics_notification_upgrade_to_pro_five_hundred_session_last_added');
delete_option('exactmetrics_product_feed_upgrade_notification');
delete_site_option('exactmetrics_product_feed_upgrade_notification');
delete_option('exactmetrics_review');
delete_site_option('exactmetrics_review');
delete_option('userfeedback_onboarding_complete');
delete_site_option('userfeedback_onboarding_complete');
delete_option('exactmetrics_last_visited_report_name');
delete_site_option('exactmetrics_last_visited_report_name');
delete_option('exactmetrics_last_visited_report_date');
delete_site_option('exactmetrics_last_visited_report_date');
delete_option('exactmetrics_sitenotes_installed');
delete_site_option('exactmetrics_sitenotes_installed');
delete_option('exactmetrics_db_version');
delete_site_option('exactmetrics_db_version');
delete_option('exactmetrics_version_upgraded_from');
delete_site_option('exactmetrics_version_upgraded_from');
delete_option('exactmetrics_email_summaries_infoblocks_sent');
delete_site_option('exactmetrics_email_summaries_infoblocks_sent');
delete_option('exactmetrics_float_bar_hidden');
delete_site_option('exactmetrics_float_bar_hidden');
delete_option('exactmetrics_frontend_tracking_notice_viewed');
delete_site_option('exactmetrics_frontend_tracking_notice_viewed');
delete_option('exactmetrics_admin_menu_tooltip');
delete_site_option('exactmetrics_admin_menu_tooltip');
delete_option('exactmetrics_network_profile');
delete_site_option('exactmetrics_network_profile');
delete_option('exactmetrics_connect');
delete_site_option('exactmetrics_connect');
delete_option('exactmetrics_connect_token');
delete_site_option('exactmetrics_connect_token');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_version' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('exactmetrics_schema_version_history');
delete_site_option('exactmetrics_schema_version_history');
delete_option('exactmetrics_migration_log');
delete_site_option('exactmetrics_migration_log');
delete_option('exactmetrics_cache_cleanup_total');
delete_site_option('exactmetrics_cache_cleanup_total');
delete_option('exactmetrics_cache_cleanup_processed');
delete_site_option('exactmetrics_cache_cleanup_processed');
delete_option('exactmetrics_cache_cleanup_status');
delete_site_option('exactmetrics_cache_cleanup_status');
delete_option('ta_link_prefix');
delete_site_option('ta_link_prefix');
delete_option('ta_link_prefix_custom');
delete_site_option('ta_link_prefix_custom');
delete_option('cron');
delete_site_option('cron');
delete_option('exactmetrics_report_data_yearinreview');
delete_site_option('exactmetrics_report_data_yearinreview');
delete_option('exactmetrics_shareasale_id');
delete_site_option('exactmetrics_shareasale_id');
delete_option('exactmetrics_shareasale_redirect_url');
delete_site_option('exactmetrics_shareasale_redirect_url');
delete_option('prli_onboard');
delete_site_option('prli_onboard');
delete_option('exactmetrics_backup_prli_onboard_value');
delete_site_option('exactmetrics_backup_prli_onboard_value');
delete_option('wpforms_activation_redirect');
delete_site_option('wpforms_activation_redirect');
delete_option('aioseo_activation_redirect');
delete_site_option('aioseo_activation_redirect');
delete_option('exactmetrics_skip_wizard');
delete_site_option('exactmetrics_skip_wizard');
delete_option('seed_csp4_settings_content');
delete_site_option('seed_csp4_settings_content');
delete_option('wpmm_settings');
delete_site_option('wpmm_settings');
delete_option('wp_maintenance_active');
delete_site_option('wp_maintenance_active');
delete_option('acx_csma_activation_status');
delete_site_option('acx_csma_activation_status');
delete_option('sahu_so_dashboard');
delete_site_option('sahu_so_dashboard');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%enable' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('niteoCS_status');
delete_site_option('niteoCS_status');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", 'exactmetrics_popular_posts_cache_%' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}

// Delete Transients
delete_transient('_exactmetrics_activation_redirect');
delete_site_transient('_exactmetrics_activation_redirect');
delete_transient('exactmetrics_ads_addon_installed_notice_dismissed');
delete_site_transient('exactmetrics_ads_addon_installed_notice_dismissed');
delete_transient('_userfeedback_activation_redirect');
delete_site_transient('_userfeedback_activation_redirect');
delete_transient('exactmetrics_onboarding_key');
delete_site_transient('exactmetrics_onboarding_key');
delete_transient('_exactmetrics_addons');
delete_site_transient('_exactmetrics_addons');
delete_transient('exactmetrics_addons');
delete_site_transient('exactmetrics_addons');
delete_transient('exactmetrics_popular_posts_ga_data');
delete_site_transient('exactmetrics_popular_posts_ga_data');
delete_transient('wpconsent_onboarding_redirect');
delete_site_transient('wpconsent_onboarding_redirect');
delete_transient('exactmetrics_google_ads_access_token_data');
delete_site_transient('exactmetrics_google_ads_access_token_data');
delete_transient('wpforms_activation_redirect');
delete_site_transient('wpforms_activation_redirect');
delete_transient('optin_monster_api_activation_redirect');
delete_site_transient('optin_monster_api_activation_redirect');
delete_transient('update_plugins');
delete_site_transient('update_plugins');

// Clear Cron Jobs
wp_clear_scheduled_hook('exactmetrics_usage_tracking_cron');
wp_clear_scheduled_hook('exactmetrics_email_summaries_cron');
wp_clear_scheduled_hook('exactmetrics_charitable_notice_cron');
wp_clear_scheduled_hook('exactmetrics_feature_feedback_clear_expired');
wp_clear_scheduled_hook('exactmetrics_feature_feedback_checkin');
wp_clear_scheduled_hook('exactmetrics_admin_notifications_update');
wp_clear_scheduled_hook('exactmetrics_sharedcount_bulk_grab');
wp_clear_scheduled_hook('exactmetrics_sharedcount_get_more_posts');
wp_clear_scheduled_hook('exactmetrics_cache_daily_cleanup');
wp_clear_scheduled_hook('exactmetrics_cleanup_old_cache_batch');
wp_clear_scheduled_hook('exactmetrics_email_summaries_weekly');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_exactmetrics_skip_tracking' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_exactmetrics_skip_tracking' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_exactmetrics_skip_tracking' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_exactmetrics_skip_tracking' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'exactmetrics_included_metrics' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'exactmetrics_included_metrics' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'exactmetrics_included_metrics' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'exactmetrics_included_metrics' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_exactmetrics_sharedcount_total' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_exactmetrics_sharedcount_total' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_exactmetrics_sharedcount_total' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_exactmetrics_sharedcount_total' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_exactmetrics_sharedcount_values' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_exactmetrics_sharedcount_values' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_exactmetrics_sharedcount_values' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_exactmetrics_sharedcount_values' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_ga4_annotation_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_ga4_annotation_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_ga4_annotation_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_ga4_annotation_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_active' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_exactmetrics_sitenote_active' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_active' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_active' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_note' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_exactmetrics_sitenote_note' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_note' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_note' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_category' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_exactmetrics_sitenote_category' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_category' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_category' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_exactmetrics_sitenote_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_exactmetrics_sitenote_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_category' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_category' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_category' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_category' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'medias' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'medias' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'medias' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'medias' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'important' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'important' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'important' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'important' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'background_color' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'background_color' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'background_color' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'background_color' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_yoast_gau_uuid' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_yoast_gau_uuid' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_yoast_gau_uuid' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_yoast_gau_uuid' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'mepr-address-zip' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'mepr-address-zip' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'mepr-address-zip' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'mepr-address-zip' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'mepr-address-city' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'mepr-address-city' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'mepr-address-city' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'mepr-address-city' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'mepr-address-state' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'mepr-address-state' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'mepr-address-state' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'mepr-address-state' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'mepr-address-country' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'mepr-address-country' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'mepr-address-country' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'mepr-address-country' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'exactmetrics_user_preferences' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'exactmetrics_user_preferences' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'exactmetrics_user_preferences' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'exactmetrics_user_preferences' ) );

