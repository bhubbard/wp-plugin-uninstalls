#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%first_install_complete'"
wp option delete 'woocommerce_enable_reviews'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%plugin_version'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%allow_anonymous'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%global_attributes'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%global_charstcs'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%default_stars'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%send_reminders'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%reminder_wait'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%preserve_on_delete'"
wp option delete 'current_theme'
wp option delete 'woocommerce_review_rating_verification_required'
wp option delete 'woocommerce_review_rating_verification_label'
wp option delete 'woocommerce_shop_page_id'
wp option delete 'woocommerce_email_footer_text'

# Delete Transients
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%update_transient' OR option_name LIKE '_site_transient_%update_transient'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%all_reviews' OR option_name LIKE '_site_transient_%all_reviews'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%admin_reviews' OR option_name LIKE '_site_transient_%admin_reviews'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%pending_reviews' OR option_name LIKE '_site_transient_%pending_reviews'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%verifed_reviews' OR option_name LIKE '_site_transient_%verifed_reviews'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%legacy_review_counts' OR option_name LIKE '_site_transient_%legacy_review_counts'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%all_attributes' OR option_name LIKE '_site_transient_%all_attributes'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_%all_charstcs' OR option_name LIKE '_site_transient_%all_charstcs'"

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%legacy_count'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%legacy_count'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%legacy_count'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%legacy_count'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wc_review_count'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wc_review_count'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wc_review_count'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wc_review_count'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%reminder_wait'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%reminder_wait'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%reminder_wait'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%reminder_wait'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%send_reminder'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%send_reminder'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%send_reminder'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%send_reminder'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%product_attributes'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%product_attributes'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%product_attributes'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%product_attributes'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%product_author_charstcs'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%product_author_charstcs'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%product_author_charstcs'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%product_author_charstcs'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%average_rating'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%average_rating'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%average_rating'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%average_rating'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_customer_user'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_customer_user'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_customer_user'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_customer_user'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_billing_email'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_billing_email'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_billing_email'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_billing_email'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_billing_first_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_billing_first_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_billing_first_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_billing_first_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_billing_last_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_billing_last_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_billing_last_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_billing_last_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%review_count'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%review_count'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%review_count'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%review_count'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'rating'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'rating'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'rating'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'rating'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'verified'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'verified'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'verified'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'verified'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%legacy_review_ids'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%legacy_review_ids'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%legacy_review_ids'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%legacy_review_ids'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%has_legacy_reviews'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%has_legacy_reviews'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%has_legacy_reviews'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%has_legacy_reviews'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%review_reminder_status'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%review_reminder_status'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%review_reminder_status'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%review_reminder_status'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%review_reminder_data'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%review_reminder_data'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%review_reminder_data'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%review_reminder_data'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wc_average_rating'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wc_average_rating'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wc_average_rating'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wc_average_rating'"
