<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('active_sitewide_plugins');
delete_site_option('active_sitewide_plugins');
delete_option('alg_wc_ev_version');
delete_site_option('alg_wc_ev_version');
delete_option('alg_wc_ev_clear_previous_messages');
delete_site_option('alg_wc_ev_clear_previous_messages');
delete_option('alg_wc_ev_block_nonpaying_users_activation_role');
delete_site_option('alg_wc_ev_block_nonpaying_users_activation_role');
delete_option('alg_wc_ev_expiration_time');
delete_site_option('alg_wc_ev_expiration_time');
delete_option('alg_wc_ev_expiration_time_unit');
delete_site_option('alg_wc_ev_expiration_time_unit');
delete_option('alg_wc_ev_session_start_params');
delete_site_option('alg_wc_ev_session_start_params');
delete_option('alg_wc_ev_bkg_process_send_email');
delete_site_option('alg_wc_ev_bkg_process_send_email');
delete_option('alg_wc_ev_bkg_process_email_to');
delete_site_option('alg_wc_ev_bkg_process_email_to');
delete_option('alg_wc_ev_encoding_method');
delete_site_option('alg_wc_ev_encoding_method');
delete_option('alg_wc_ev_required_user_meta');
delete_site_option('alg_wc_ev_required_user_meta');
delete_option('alg_wc_ev_admin_column');
delete_site_option('alg_wc_ev_admin_column');
delete_option('alg_wc_ev_admin_manual');
delete_site_option('alg_wc_ev_admin_manual');
delete_option('alg_wc_ev_admin_users_filter');
delete_site_option('alg_wc_ev_admin_users_filter');
delete_option('alg_wc_ev_verify_already_registered');
delete_site_option('alg_wc_ev_verify_already_registered');
delete_option('alg_wc_ev_skip_user_roles');
delete_site_option('alg_wc_ev_skip_user_roles');
delete_option('alg_wc_ev_bkg_process_min_amount');
delete_site_option('alg_wc_ev_bkg_process_min_amount');
delete_option('alg_wc_ev_admin_bulk_user_actions_resend');
delete_site_option('alg_wc_ev_admin_bulk_user_actions_resend');
delete_option('alg_wc_ev_admin_bulk_verify_users');
delete_site_option('alg_wc_ev_admin_bulk_verify_users');
delete_option('alg_wc_ev_admin_bulk_unverify_users');
delete_site_option('alg_wc_ev_admin_bulk_unverify_users');
delete_option('alg_wc_ev_admin_allowed_user_roles');
delete_site_option('alg_wc_ev_admin_allowed_user_roles');
delete_option('alg_wc_ev_admin_column_position');
delete_site_option('alg_wc_ev_admin_column_position');
delete_option('alg_wc_ev_hashids_salt');
delete_site_option('alg_wc_ev_hashids_salt');
delete_option('alg_wc_ev_redirect_to_my_account_on_success');
delete_site_option('alg_wc_ev_redirect_to_my_account_on_success');
delete_option('alg_wc_ev_blocked_pages');
delete_site_option('alg_wc_ev_blocked_pages');
delete_option('alg_wc_ev_block_content_redirect');
delete_site_option('alg_wc_ev_block_content_redirect');
delete_option('alg_wc_ev_verification_info_widget');
delete_site_option('alg_wc_ev_verification_info_widget');
delete_option('alg_wc_ev_verification_info_my_account');
delete_site_option('alg_wc_ev_verification_info_my_account');
delete_option('alg_wc_ev_verification_info_customization');
delete_site_option('alg_wc_ev_verification_info_customization');
delete_option('alg_wc_ev_redirect_on_failure');
delete_site_option('alg_wc_ev_redirect_on_failure');
delete_option('alg_wc_ev_redirect_on_failure_url');
delete_site_option('alg_wc_ev_redirect_on_failure_url');
delete_option('alg_wc_ev_login_automatically_on_activation');
delete_site_option('alg_wc_ev_login_automatically_on_activation');
delete_option('alg_wc_ev_redirect_on_success_url');
delete_site_option('alg_wc_ev_redirect_on_success_url');
delete_option('alg_wc_ev_sc_custom_msg');
delete_site_option('alg_wc_ev_sc_custom_msg');
delete_option('alg_wc_ev_hashids_alphabet');
delete_site_option('alg_wc_ev_hashids_alphabet');
delete_option('alg_wc_ev_send_as_separate_email');
delete_site_option('alg_wc_ev_send_as_separate_email');
delete_option('alg_wc_ev_new_user_action');
delete_site_option('alg_wc_ev_new_user_action');
delete_option('alg_wc_ev_delay_wc_email');
delete_site_option('alg_wc_ev_delay_wc_email');
delete_option('alg_wc_ev_wc_email_template');
delete_site_option('alg_wc_ev_wc_email_template');
delete_option('alg_wc_ev_email_template');
delete_site_option('alg_wc_ev_email_template');
delete_option('alg_wc_ev_enable_confirmation_email');
delete_site_option('alg_wc_ev_enable_confirmation_email');
delete_option('alg_wc_ev_send_confirmation_email_to_manually_verified_users');
delete_site_option('alg_wc_ev_send_confirmation_email_to_manually_verified_users');
delete_option('alg_wc_ev_confirmation_email_delay');
delete_site_option('alg_wc_ev_confirmation_email_delay');
delete_option('alg_wc_ev_confirmation_email_delay_value');
delete_site_option('alg_wc_ev_confirmation_email_delay_value');
delete_option('alg_wc_ev_confirmation_email_delay_time_unit');
delete_site_option('alg_wc_ev_confirmation_email_delay_time_unit');
delete_option('alg_wc_ev_sc_email_content_placeholder');
delete_site_option('alg_wc_ev_sc_email_content_placeholder');
delete_option('alg_wc_ev_delay_activation_email');
delete_site_option('alg_wc_ev_delay_activation_email');
delete_option('alg_wc_ev_send_delayed_email_users');
delete_site_option('alg_wc_ev_send_delayed_email_users');
delete_option('alg_wc_ev_fine_tune_activation_email_placement');
delete_site_option('alg_wc_ev_fine_tune_activation_email_placement');
delete_option('woocommerce_registration_generate_password');
delete_site_option('woocommerce_registration_generate_password');
delete_option('alg_wc_ev_mail_function');
delete_site_option('alg_wc_ev_mail_function');
delete_option('alg_wc_ev_wc_email_from');
delete_site_option('alg_wc_ev_wc_email_from');
delete_option('alg_wc_ev_verify_guest_email');
delete_site_option('alg_wc_ev_verify_guest_email');
delete_option('alg_wc_ev_verify_guest_send_link_text');
delete_site_option('alg_wc_ev_verify_guest_send_link_text');
delete_option('alg_wc_ev_verify_guest_verification_message');
delete_site_option('alg_wc_ev_verify_guest_verification_message');
delete_option('alg_wc_ev_verify_guest_resent_text');
delete_site_option('alg_wc_ev_verify_guest_resent_text');
delete_option('alg_wc_ev_verify_guest_already_verification_message');
delete_site_option('alg_wc_ev_verify_guest_already_verification_message');
delete_option('alg_wc_ev_guest_invalid_token_message');
delete_site_option('alg_wc_ev_guest_invalid_token_message');
delete_option('alg_wc_ev_nonce_verify_guest_email');
delete_site_option('alg_wc_ev_nonce_verify_guest_email');
delete_option('alg_wc_ev_prevent_login_after_register');
delete_site_option('alg_wc_ev_prevent_login_after_register');
delete_option('alg_wc_ev_prevent_login_after_checkout');
delete_site_option('alg_wc_ev_prevent_login_after_checkout');
delete_option('alg_wc_ev_prevent_login_after_checkout_action');
delete_site_option('alg_wc_ev_prevent_login_after_checkout_action');
delete_option('alg_wc_ev_prevent_login_after_checkout_notice');
delete_site_option('alg_wc_ev_prevent_login_after_checkout_notice');
delete_option('alg_wc_ev_prevent_login_myaccount');
delete_site_option('alg_wc_ev_prevent_login_myaccount');
delete_option('alg_wc_ev_prevent_login_always');
delete_site_option('alg_wc_ev_prevent_login_always');
delete_option('alg_wc_ev_block_unverified_login');
delete_site_option('alg_wc_ev_block_unverified_login');
delete_option('alg_wc_ev_one_time_activation_link');
delete_site_option('alg_wc_ev_one_time_activation_link');
delete_option('alg_wc_ev_prevent_login_after_register_session_redirect');
delete_site_option('alg_wc_ev_prevent_login_after_register_session_redirect');
delete_option('alg_wc_ev_prevent_login_after_register_redirect');
delete_site_option('alg_wc_ev_prevent_login_after_register_redirect');
delete_option('alg_wc_ev_prevent_login_after_register_method');
delete_site_option('alg_wc_ev_prevent_login_after_register_method');
delete_option('alg_wc_ev_auth_filter');
delete_site_option('alg_wc_ev_auth_filter');
delete_option('alg_wc_ev_block_auth_cookies');
delete_site_option('alg_wc_ev_block_auth_cookies');
delete_option('alg_wc_ev_prevent_login_after_register_redirect_url');
delete_site_option('alg_wc_ev_prevent_login_after_register_redirect_url');
delete_option('alg_wc_ev_prevent_login_always_redirect');
delete_site_option('alg_wc_ev_prevent_login_always_redirect');
delete_option('alg_wc_ev_custom_logout_function');
delete_site_option('alg_wc_ev_custom_logout_function');
delete_option('alg_wc_ev_error_message');
delete_site_option('alg_wc_ev_error_message');
delete_option('alg_wc_ev_email_resend_message');
delete_site_option('alg_wc_ev_email_resend_message');
delete_option('alg_wc_ev_failed_message');
delete_site_option('alg_wc_ev_failed_message');
delete_option('alg_wc_ev_success_message');
delete_site_option('alg_wc_ev_success_message');
delete_option('alg_wc_ev_activation_message');
delete_site_option('alg_wc_ev_activation_message');
delete_option('alg_wc_ev_already_verified_message');
delete_site_option('alg_wc_ev_already_verified_message');
delete_option('alg_wc_ev_resend_verification_url');
delete_site_option('alg_wc_ev_resend_verification_url');
delete_option('alg_wc_ev_guest_unverified_user_message');
delete_site_option('alg_wc_ev_guest_unverified_user_message');
delete_option('alg_wc_ev_block_nonpaying_users_activation');
delete_site_option('alg_wc_ev_block_nonpaying_users_activation');
delete_option('alg_wc_ev_block_nonpaying_users_activation_email_on_payment');
delete_site_option('alg_wc_ev_block_nonpaying_users_activation_email_on_payment');
delete_option('alg_wc_ev_block_nonpaying_users_activation_error_notice');
delete_site_option('alg_wc_ev_block_nonpaying_users_activation_error_notice');
delete_option('alg_wc_ev_delete_users_cron');
delete_site_option('alg_wc_ev_delete_users_cron');
delete_option('alg_wc_ev_delete_users_from_network');
delete_site_option('alg_wc_ev_delete_users_from_network');
delete_option('alg_wc_ev_delete_users_registration_delay');
delete_site_option('alg_wc_ev_delete_users_registration_delay');
delete_option('alg_wc_ev_delete_users_cron_frequency');
delete_site_option('alg_wc_ev_delete_users_cron_frequency');
delete_option('alg_wc_ev_delete_users');
delete_site_option('alg_wc_ev_delete_users');
delete_option('alg_wc_ev_activation_email_automatic_sending_frequency');
delete_site_option('alg_wc_ev_activation_email_automatic_sending_frequency');
delete_option('alg_wc_ev_activation_email_automatic_sending_frequency_unit');
delete_site_option('alg_wc_ev_activation_email_automatic_sending_frequency_unit');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_reset' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}

// Clear Cron Jobs
wp_clear_scheduled_hook('alg_wc_ev_confirmation_email_delay_event');
wp_clear_scheduled_hook('alg_wc_ev_delete_unverified_users');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_ev_is_activated' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_ev_is_activated' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_ev_is_activated' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_ev_is_activated' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_ev_customer_new_account_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_ev_customer_new_account_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_ev_customer_new_account_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_ev_customer_new_account_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_ev_admin_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_ev_admin_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_ev_admin_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_ev_admin_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_ev_my_account_referer_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_ev_my_account_referer_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_ev_my_account_referer_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_ev_my_account_referer_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_code' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_ev_redirect_referer_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_ev_redirect_referer_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_ev_redirect_referer_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_ev_redirect_referer_url' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_ev_activation_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_ev_activation_email_sent' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'wpfcs_dashboard_banner_closed_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'wpfcs_dashboard_banner_closed_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'wpfcs_dashboard_banner_closed_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'wpfcs_dashboard_banner_closed_time' ) );

