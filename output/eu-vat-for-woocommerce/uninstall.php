<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('active_sitewide_plugins');
delete_site_option('active_sitewide_plugins');
delete_option('alg_wc_eu_vat_add_order_list_column');
delete_site_option('alg_wc_eu_vat_add_order_list_column');
delete_option('alg_wc_eu_vat_validate_vat_admin_side');
delete_site_option('alg_wc_eu_vat_validate_vat_admin_side');
delete_option('alg_wc_eu_vat_admin_new_order_email');
delete_site_option('alg_wc_eu_vat_admin_new_order_email');
delete_option('alg_wc_eu_vat_exempt_for_user_roles');
delete_site_option('alg_wc_eu_vat_exempt_for_user_roles');
delete_option('alg_wc_eu_vat_not_exempt_for_user_roles');
delete_site_option('alg_wc_eu_vat_not_exempt_for_user_roles');
delete_option('alg_wc_eu_vat_field_label');
delete_site_option('alg_wc_eu_vat_field_label');
delete_option('alg_wc_eu_vat_add_order_edit_metabox');
delete_site_option('alg_wc_eu_vat_add_order_edit_metabox');
delete_option('alg_wc_eu_vat_validate');
delete_site_option('alg_wc_eu_vat_validate');
delete_option('alg_wc_eu_vat_force_checkout_recheck');
delete_site_option('alg_wc_eu_vat_force_checkout_recheck');
delete_option('alg_wc_eu_vat_manual_validation_enable');
delete_site_option('alg_wc_eu_vat_manual_validation_enable');
delete_option('alg_wc_eu_vat_manual_validation_vat_numbers');
delete_site_option('alg_wc_eu_vat_manual_validation_vat_numbers');
delete_option('alg_wc_eu_vat_preserv_vat_for_different_shipping');
delete_site_option('alg_wc_eu_vat_preserv_vat_for_different_shipping');
delete_option('alg_wc_eu_vat_not_valid_message');
delete_site_option('alg_wc_eu_vat_not_valid_message');
delete_option('alg_wc_eu_vat_enable_checkout_block_field');
delete_site_option('alg_wc_eu_vat_enable_checkout_block_field');
delete_option('alg_wc_eu_vat_hide_eu_vat');
delete_site_option('alg_wc_eu_vat_hide_eu_vat');
delete_option('woocommerce_version');
delete_site_option('woocommerce_version');
delete_option('alg_wc_eu_vat_checkout_block_field_dependencies');
delete_site_option('alg_wc_eu_vat_checkout_block_field_dependencies');
delete_option('alg_wc_eu_vat_validate_my_account');
delete_site_option('alg_wc_eu_vat_validate_my_account');
delete_option('alg_wc_eu_vat_add_progress_text');
delete_site_option('alg_wc_eu_vat_add_progress_text');
delete_option('alg_wc_eu_vat_validate_action_trigger');
delete_site_option('alg_wc_eu_vat_validate_action_trigger');
delete_option('alg_wc_eu_vat_hide_message_on_preserved_countries');
delete_site_option('alg_wc_eu_vat_hide_message_on_preserved_countries');
delete_option('alg_wc_eu_vat_progress_text_validating');
delete_site_option('alg_wc_eu_vat_progress_text_validating');
delete_option('alg_wc_eu_vat_progress_text_valid');
delete_site_option('alg_wc_eu_vat_progress_text_valid');
delete_option('alg_wc_eu_vat_progress_text_not_valid');
delete_site_option('alg_wc_eu_vat_progress_text_not_valid');
delete_option('alg_wc_eu_vat_progress_text_is_required');
delete_site_option('alg_wc_eu_vat_progress_text_is_required');
delete_option('alg_wc_eu_vat_progress_text_validation_failed');
delete_site_option('alg_wc_eu_vat_progress_text_validation_failed');
delete_option('alg_wc_eu_vat_validate_enable_preserve_message');
delete_site_option('alg_wc_eu_vat_validate_enable_preserve_message');
delete_option('alg_wc_eu_vat_progress_text_validation_preserv');
delete_site_option('alg_wc_eu_vat_progress_text_validation_preserv');
delete_option('alg_wc_eu_vat_shipping_billing_countries');
delete_site_option('alg_wc_eu_vat_shipping_billing_countries');
delete_option('alg_wc_eu_vat_shipping_matches_base_country');
delete_site_option('alg_wc_eu_vat_shipping_matches_base_country');
delete_option('alg_wc_eu_vat_wrong_billing_country');
delete_site_option('alg_wc_eu_vat_wrong_billing_country');
delete_option('alg_wc_eu_vat_company_name_mismatch');
delete_site_option('alg_wc_eu_vat_company_name_mismatch');
delete_option('alg_wc_eu_vat_progress_text_validation_vies_error');
delete_site_option('alg_wc_eu_vat_progress_text_validation_vies_error');
delete_option('alg_wc_eu_vat_field_required');
delete_site_option('alg_wc_eu_vat_field_required');
delete_option('alg_wc_eu_vat_advance_enable_company_name_autofill');
delete_site_option('alg_wc_eu_vat_advance_enable_company_name_autofill');
delete_option('alg_wc_eu_vat_show_vat_details');
delete_site_option('alg_wc_eu_vat_show_vat_details');
delete_option('alg_wc_eu_vat_compatibility_fluid_checkout');
delete_site_option('alg_wc_eu_vat_compatibility_fluid_checkout');
delete_option('alg_wc_eu_vat_always_show_zero_vat');
delete_site_option('alg_wc_eu_vat_always_show_zero_vat');
delete_option('alg_wc_eu_vat_show_hide_by_billing_company');
delete_site_option('alg_wc_eu_vat_show_hide_by_billing_company');
delete_option('alg_wc_eu_vat_preserve_in_base_country');
delete_site_option('alg_wc_eu_vat_preserve_in_base_country');
delete_option('woocommerce_default_country');
delete_site_option('woocommerce_default_country');
delete_option('alg_wc_eu_vat_preserve_in_base_country_locations');
delete_site_option('alg_wc_eu_vat_preserve_in_base_country_locations');
delete_option('alg_wc_eu_vat_preserve_vat_for_base_country_shipping');
delete_site_option('alg_wc_eu_vat_preserve_vat_for_base_country_shipping');
delete_option('alg_wc_eu_vat_compatibility_wpo_wcpdf');
delete_site_option('alg_wc_eu_vat_compatibility_wpo_wcpdf');
delete_option('alg_wc_eu_vat_compatibility_yith_ywpi');
delete_site_option('alg_wc_eu_vat_compatibility_yith_ywpi');
delete_option('alg_wc_eu_vat_compatibility_wpo_wcpdf_prefix');
delete_site_option('alg_wc_eu_vat_compatibility_wpo_wcpdf_prefix');
delete_option('alg_wc_eu_vat_advanced_vat_shifted_text');
delete_site_option('alg_wc_eu_vat_advanced_vat_shifted_text');
delete_option('alg_wc_eu_vat_field_confirmation');
delete_site_option('alg_wc_eu_vat_field_confirmation');
delete_option('alg_wc_eu_vat_force_price_display_incl_tax');
delete_site_option('alg_wc_eu_vat_force_price_display_incl_tax');
delete_option('alg_wc_eu_vat_keep_shipping_vat');
delete_site_option('alg_wc_eu_vat_keep_shipping_vat');
delete_option('alg_wc_eu_vat_field_placeholder');
delete_site_option('alg_wc_eu_vat_field_placeholder');
delete_option('alg_wc_eu_vat_field_priority');
delete_site_option('alg_wc_eu_vat_field_priority');
delete_option('alg_wc_eu_vat_allow_without_country_code');
delete_site_option('alg_wc_eu_vat_allow_without_country_code');
delete_option('alg_wc_eu_vat_preserve_country_type');
delete_site_option('alg_wc_eu_vat_preserve_country_type');
delete_option('alg_wc_eu_vat_field_confirmation_text');
delete_site_option('alg_wc_eu_vat_field_confirmation_text');
delete_option('alg_wc_eu_vat_field_let_customer_decide_label');
delete_site_option('alg_wc_eu_vat_field_let_customer_decide_label');
delete_option('alg_wc_eu_vat_belgium_compatibility_label');
delete_site_option('alg_wc_eu_vat_belgium_compatibility_label');
delete_option('alg_wc_eu_vat_field_let_customer_decide');
delete_site_option('alg_wc_eu_vat_field_let_customer_decide');
delete_option('alg_wc_eu_vat_field_description');
delete_site_option('alg_wc_eu_vat_field_description');
delete_option('alg_wc_eu_vat_field_maxlength');
delete_site_option('alg_wc_eu_vat_field_maxlength');
delete_option('alg_wc_eu_vat_field_clear');
delete_site_option('alg_wc_eu_vat_field_clear');
delete_option('alg_wc_eu_vat_field_class');
delete_site_option('alg_wc_eu_vat_field_class');
delete_option('alg_wc_eu_vat_field_label_class');
delete_site_option('alg_wc_eu_vat_field_label_class');
delete_option('alg_wc_eu_vat_field_hide_tax_status_none');
delete_site_option('alg_wc_eu_vat_field_hide_tax_status_none');
delete_option('alg_wc_eu_vat_belgium_compatibility');
delete_site_option('alg_wc_eu_vat_belgium_compatibility');
delete_option('alg_wc_eu_vat_sitepress_optimizer_dynamic_caching');
delete_site_option('alg_wc_eu_vat_sitepress_optimizer_dynamic_caching');
delete_option('alg_wc_eu_vat_disable_for_valid');
delete_site_option('alg_wc_eu_vat_disable_for_valid');
delete_option('alg_wc_eu_vat_validate_vies_not_available');
delete_site_option('alg_wc_eu_vat_validate_vies_not_available');
delete_option('alg_wc_eu_vat_validate_force_page_reload');
delete_site_option('alg_wc_eu_vat_validate_force_page_reload');
delete_option('alg_wc_eu_vat_remove_validation_color');
delete_site_option('alg_wc_eu_vat_remove_validation_color');
delete_option('alg_wc_eu_vat_field_required_countries');
delete_site_option('alg_wc_eu_vat_field_required_countries');
delete_option('alg_wc_eu_vat_display_position');
delete_site_option('alg_wc_eu_vat_display_position');
delete_option('alg_wc_eu_vat_field_display_template');
delete_site_option('alg_wc_eu_vat_field_display_template');
delete_option('alg_wc_eu_vat_remove_country_rest_api_enable');
delete_site_option('alg_wc_eu_vat_remove_country_rest_api_enable');
delete_option('alg_wc_eu_vat_field_signup_form');
delete_site_option('alg_wc_eu_vat_field_signup_form');
delete_option('alg_wc_eu_vat_validate_sign_up_page');
delete_site_option('alg_wc_eu_vat_validate_sign_up_page');
delete_option('alg_wc_eu_vat_version');
delete_site_option('alg_wc_eu_vat_version');
delete_option('alg_wc_eu_vat_debug');
delete_site_option('alg_wc_eu_vat_debug');
delete_option('alg_wc_eu_vat_session_type');
delete_site_option('alg_wc_eu_vat_session_type');
delete_option('alg_wc_eu_vat_check_company_name_accept_empty_response');
delete_site_option('alg_wc_eu_vat_check_company_name_accept_empty_response');
delete_option('alg_wc_eu_vat_allow_non_alphanumeric');
delete_site_option('alg_wc_eu_vat_allow_non_alphanumeric');
delete_option('alg_wc_eu_vat_check_billing_country_code');
delete_site_option('alg_wc_eu_vat_check_billing_country_code');
delete_option('alg_wc_eu_vat_request_identifier');
delete_site_option('alg_wc_eu_vat_request_identifier');
delete_option('alg_wc_eu_vat_requester_country_code');
delete_site_option('alg_wc_eu_vat_requester_country_code');
delete_option('alg_wc_eu_vat_requester_vat_number');
delete_site_option('alg_wc_eu_vat_requester_vat_number');
delete_option('alg_wc_eu_vat_advanced_skip_countries');
delete_site_option('alg_wc_eu_vat_advanced_skip_countries');
delete_option('alg_wc_eu_vat_first_method');
delete_site_option('alg_wc_eu_vat_first_method');
delete_option('alg_wc_eu_vat_vatsense_key');
delete_site_option('alg_wc_eu_vat_vatsense_key');
delete_option('alg_wc_eu_vat_reduce_concurrent_request_enable');
delete_site_option('alg_wc_eu_vat_reduce_concurrent_request_enable');
delete_option('alg_wc_pgpp_pay_titles');
delete_site_option('alg_wc_pgpp_pay_titles');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_reset' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key LIKE %s", '_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key LIKE %s", '_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key LIKE %s", '_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key LIKE %s", '_%' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'is_vat_exempt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'is_vat_exempt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'is_vat_exempt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'is_vat_exempt' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key LIKE %s", '%_customer_decide' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key LIKE %s", '%_customer_decide' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key LIKE %s", '%_customer_decide' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key LIKE %s", '%_customer_decide' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_alg_wc_eu_vat_keep_vat' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_alg_wc_eu_vat_keep_vat' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_alg_wc_eu_vat_keep_vat' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_alg_wc_eu_vat_keep_vat' ) );

