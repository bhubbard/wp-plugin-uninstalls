<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('woocommerce_version');
delete_site_option('woocommerce_version');
delete_option('wpjup_wc_maximum_products_per_user_plugin_enabled');
delete_site_option('wpjup_wc_maximum_products_per_user_plugin_enabled');
delete_option('alg_wc_mppu_use_user_roles');
delete_site_option('alg_wc_mppu_use_user_roles');
delete_option('alg_wc_mppu_block_guests');
delete_site_option('alg_wc_mppu_block_guests');
delete_option('alg_wc_mppu_get_lifetime_from_totals');
delete_site_option('alg_wc_mppu_get_lifetime_from_totals');
delete_option('alg_wc_mppu_cart_notice');
delete_site_option('alg_wc_mppu_cart_notice');
delete_option('wpjup_wc_maximum_products_per_user_stop_from_seeing_checkout');
delete_site_option('wpjup_wc_maximum_products_per_user_stop_from_seeing_checkout');
delete_option('alg_wc_mppu_validation_actions');
delete_site_option('alg_wc_mppu_validation_actions');
delete_option('alg_wc_mppu_validate_on_add_to_cart');
delete_site_option('alg_wc_mppu_validate_on_add_to_cart');
delete_option('alg_wc_mppu_permanent_notice');
delete_site_option('alg_wc_mppu_permanent_notice');
delete_option('alg_wc_mppu_count_by_current_payment_method');
delete_site_option('alg_wc_mppu_count_by_current_payment_method');
delete_option('alg_wc_mppu_set_qty_field_max_attr');
delete_site_option('alg_wc_mppu_set_qty_field_max_attr');
delete_option('alg_wc_mppu_disable_product_purchase_by_limit');
delete_site_option('alg_wc_mppu_disable_product_purchase_by_limit');
delete_option('alg_wc_mppu_date_range_origin_date');
delete_site_option('alg_wc_mppu_date_range_origin_date');
delete_option('alg_wc_mppu_time_offset');
delete_site_option('alg_wc_mppu_time_offset');
delete_option('alg_wc_mppu_current_time_offset');
delete_site_option('alg_wc_mppu_current_time_offset');
delete_option('alg_wc_mppu_bkg_process_send_email');
delete_site_option('alg_wc_mppu_bkg_process_send_email');
delete_option('alg_wc_mppu_bkg_process_email_to');
delete_site_option('alg_wc_mppu_bkg_process_email_to');
delete_option('alg_wc_mppu_hide_guest_blocked_products');
delete_site_option('alg_wc_mppu_hide_guest_blocked_products');
delete_option('alg_wc_mppu_user_roles_max_qty');
delete_site_option('alg_wc_mppu_user_roles_max_qty');
delete_option('wpjup_wc_maximum_products_per_user_global_max_qty');
delete_site_option('wpjup_wc_maximum_products_per_user_global_max_qty');
delete_option('alg_wc_mppu_block_guests_method');
delete_site_option('alg_wc_mppu_block_guests_method');
delete_option('alg_wc_mppu_block_guests_message');
delete_site_option('alg_wc_mppu_block_guests_message');
delete_option('alg_wc_mppu_time_func');
delete_site_option('alg_wc_mppu_time_func');
delete_option('alg_wc_mppu_date_range_custom');
delete_site_option('alg_wc_mppu_date_range_custom');
delete_option('alg_wc_mppu_date_range_custom_unit');
delete_site_option('alg_wc_mppu_date_range_custom_unit');
delete_option('alg_wc_mppu_date_range_fixed_date');
delete_site_option('alg_wc_mppu_date_range_fixed_date');
delete_option('alg_wc_mppu_date_range');
delete_site_option('alg_wc_mppu_date_range');
delete_option('alg_wc_mppu_cart_notice_type');
delete_site_option('alg_wc_mppu_cart_notice_type');
delete_option('wpjup_wc_maximum_products_per_term_message');
delete_site_option('wpjup_wc_maximum_products_per_term_message');
delete_option('wpjup_wc_maximum_products_per_user_message');
delete_site_option('wpjup_wc_maximum_products_per_user_message');
delete_option('alg_wc_mppu_exclude_products');
delete_site_option('alg_wc_mppu_exclude_products');
delete_option('wpjup_wc_maximum_products_per_user_global_enabled');
delete_site_option('wpjup_wc_maximum_products_per_user_global_enabled');
delete_option('alg_wc_mppu_formula_enabled');
delete_site_option('alg_wc_mppu_formula_enabled');
delete_option('alg_wc_mppu_use_variations');
delete_site_option('alg_wc_mppu_use_variations');
delete_option('alg_wc_mppu_payment_gateways');
delete_site_option('alg_wc_mppu_payment_gateways');
delete_option('alg_wc_mppu_multiple_notices');
delete_site_option('alg_wc_mppu_multiple_notices');
delete_option('alg_wc_mppu_enabled_user_roles');
delete_site_option('alg_wc_mppu_enabled_user_roles');
delete_option('alg_wc_mppu_formula');
delete_site_option('alg_wc_mppu_formula');
delete_option('alg_wc_mppu_order_status');
delete_site_option('alg_wc_mppu_order_status');
delete_option('alg_wc_mppu_order_status_delete');
delete_site_option('alg_wc_mppu_order_status_delete');
delete_option('alg_wc_mppu_duplicate_product');
delete_site_option('alg_wc_mppu_duplicate_product');
delete_option('alg_wc_mppu_tool_delete_using_async_request');
delete_site_option('alg_wc_mppu_tool_delete_using_async_request');
delete_option('alg_wc_mppu_tool_recalculate_debug');
delete_site_option('alg_wc_mppu_tool_recalculate_debug');
delete_option('alg_wc_mppu_tool_recalculate');
delete_site_option('alg_wc_mppu_tool_recalculate');
delete_option('alg_wc_mppu_tool_delete_recalculate');
delete_site_option('alg_wc_mppu_tool_delete_recalculate');
delete_option('alg_wc_mppu_tool_delete');
delete_site_option('alg_wc_mppu_tool_delete');
delete_option('alg_wc_mppu_tool_recalculate_date_range');
delete_site_option('alg_wc_mppu_tool_recalculate_date_range');
delete_option('alg_wc_mppu_tool_recalculate_block_size');
delete_site_option('alg_wc_mppu_tool_recalculate_block_size');
delete_option('alg_wc_mppu_tool_recalculate_time_limit');
delete_site_option('alg_wc_mppu_tool_recalculate_time_limit');
delete_option('alg_wc_mppu_tool_recalculate_loop_func');
delete_site_option('alg_wc_mppu_tool_recalculate_loop_func');
delete_option('alg_wc_mppu_bkg_process_min_amount');
delete_site_option('alg_wc_mppu_bkg_process_min_amount');
delete_option('alg_wc_mppu_mode');
delete_site_option('alg_wc_mppu_mode');
delete_option('alg_wc_mppu_multi_language');
delete_site_option('alg_wc_mppu_multi_language');
delete_option('alg_wc_mppu_multi_language_use_main_prod_id_on_checking_limits');
delete_site_option('alg_wc_mppu_multi_language_use_main_prod_id_on_checking_limits');
delete_option('alg_wc_mppu_my_account_enabled');
delete_site_option('alg_wc_mppu_my_account_enabled');
delete_option('alg_wc_mppu_flush_rewrite_rules');
delete_site_option('alg_wc_mppu_flush_rewrite_rules');
delete_option('alg_wc_mppu_my_account_tab_id');
delete_site_option('alg_wc_mppu_my_account_tab_id');
delete_option('alg_wc_mppu_my_account_tab_icon');
delete_site_option('alg_wc_mppu_my_account_tab_icon');
delete_option('alg_wc_mppu_my_account_tab_title');
delete_site_option('alg_wc_mppu_my_account_tab_title');
delete_option('alg_wc_mppu_my_account_tab_content');
delete_site_option('alg_wc_mppu_my_account_tab_content');
delete_option('alg_wc_mppu_permanent_notice_message');
delete_site_option('alg_wc_mppu_permanent_notice_message');
delete_option('alg_wc_mppu_permanent_notice_condition');
delete_site_option('alg_wc_mppu_permanent_notice_condition');
delete_option('alg_wc_mppu_user_export_sep');
delete_site_option('alg_wc_mppu_user_export_sep');
delete_option('alg_wc_mppu_user_export_meta');
delete_site_option('alg_wc_mppu_user_export_meta');
delete_option('alg_wc_mppu_user_export_merge_user');
delete_site_option('alg_wc_mppu_user_export_merge_user');
delete_option('alg_wc_mppu_user_export_data_sep');
delete_site_option('alg_wc_mppu_user_export_data_sep');
delete_option('alg_wc_mppu_editable_sales_data_auto_update_terms_data');
delete_site_option('alg_wc_mppu_editable_sales_data_auto_update_terms_data');
delete_option('alg_wc_mppu_editable_sales_data_auto_update_lifetime');
delete_site_option('alg_wc_mppu_editable_sales_data_auto_update_lifetime');
delete_option('alg_wc_mppu_editable_sales_data_show_variations');
delete_site_option('alg_wc_mppu_editable_sales_data_show_variations');
delete_option('alg_wc_mppu_editable_sales_data_using_ajax');
delete_site_option('alg_wc_mppu_editable_sales_data_using_ajax');
delete_option('alg_wc_mppu_date_range_week_starts_on');
delete_site_option('alg_wc_mppu_date_range_week_starts_on');
delete_option('alg_wc_mppu_version');
delete_site_option('alg_wc_mppu_version');
delete_option('alg_wc_mppu_orders_above_limits_change_status');
delete_site_option('alg_wc_mppu_orders_above_limits_change_status');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_reset' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('active_sitewide_plugins');
delete_site_option('active_sitewide_plugins');

// Delete Transients
global $wpdb;
$transients = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s OR option_name LIKE %s", '_transient_%_process_lock', '_site_transient_%_process_lock' ) );
foreach ( $transients as $transient ) {
	delete_option( $transient );
}

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_alg_wc_mppu_user_roles_max_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_alg_wc_mppu_user_roles_max_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_alg_wc_mppu_user_roles_max_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_alg_wc_mppu_user_roles_max_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_wpjup_wc_maximum_products_per_user_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_wpjup_wc_maximum_products_per_user_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_wpjup_wc_maximum_products_per_user_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_wpjup_wc_maximum_products_per_user_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_alg_wc_mppu_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_alg_wc_mppu_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_alg_wc_mppu_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_alg_wc_mppu_qty' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_wpjup_wc_mppu_block_guests' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_wpjup_wc_mppu_block_guests' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_wpjup_wc_mppu_block_guests' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_wpjup_wc_mppu_block_guests' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_alg_wc_mppu_use_variations' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_alg_wc_mppu_use_variations' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_alg_wc_mppu_use_variations' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_alg_wc_mppu_use_variations' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_mppu_delete_user_sales_notice' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_mppu_delete_user_sales_notice' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_mppu_delete_user_sales_notice' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_mppu_delete_user_sales_notice' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'alg_wc_mppu_profile_updated' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'alg_wc_mppu_profile_updated' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'alg_wc_mppu_profile_updated' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'alg_wc_mppu_profile_updated' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_alg_wc_mppu_orders_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_alg_wc_mppu_orders_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_alg_wc_mppu_orders_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_alg_wc_mppu_orders_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_alg_wc_mppu_totals_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_alg_wc_mppu_totals_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_alg_wc_mppu_totals_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_alg_wc_mppu_totals_data' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'wpfcs_dashboard_banner_closed_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'wpfcs_dashboard_banner_closed_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'wpfcs_dashboard_banner_closed_time' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'wpfcs_dashboard_banner_closed_time' ) );

