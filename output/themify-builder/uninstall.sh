#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'themify_builder_setting'
wp option delete 'active_sitewide_plugins'
wp option delete 'builder_contact'
wp option delete 'tb_css_version'
wp option delete 'themify_builder_google_fonts'
wp option delete 'themify_builder_cf_fonts'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_themify_import_notice'"
wp option delete 'themify_data'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_page_id'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'theme_mods_%'"
wp option delete 'sidebars_widgets'
wp option delete 'themify_saved_colors'
wp option delete 'themify_saved_gradients'

# Delete Transients
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_tb_optin_activecampaign_%' OR option_name LIKE '_site_transient_tb_optin_activecampaign_%'"

# Clear Cron Jobs
wp cron event delete 'themify_cron_clear_css'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'tbp_custom_css'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'tbp_custom_css'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'tbp_custom_css'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'tbp_custom_css'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_themify_builder_dp_original'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_themify_builder_dp_original'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_themify_builder_dp_original'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_themify_builder_dp_original'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_themify_builder_prebuilt_layout'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_themify_builder_prebuilt_layout'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_themify_builder_prebuilt_layout'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_themify_builder_prebuilt_layout'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'themify_used_global_styles'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'themify_used_global_styles'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'themify_used_global_styles'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'themify_used_global_styles'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wp_attachment_image_alt'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wp_attachment_image_alt'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wp_attachment_image_alt'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wp_attachment_image_alt'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'page_layout'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'page_layout'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'page_layout'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'page_layout'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'hide_page_title'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'hide_page_title'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'hide_page_title'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'hide_page_title'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_builder_custom_rev_comment'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_builder_custom_rev_comment'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_builder_custom_rev_comment'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_builder_custom_rev_comment'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'themify_global_style_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'themify_global_style_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'themify_global_style_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'themify_global_style_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_testimonial_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_testimonial_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_testimonial_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_testimonial_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_testimonial_position'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_testimonial_position'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_testimonial_position'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_testimonial_position'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_testimonial_link'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_testimonial_link'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_testimonial_link'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_testimonial_link'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_testimonial_company'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_testimonial_company'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_testimonial_company'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_testimonial_company'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_gallery_link_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_gallery_link_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_gallery_link_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_gallery_link_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_gallery_link_target'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_gallery_link_target'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_gallery_link_target'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_gallery_link_target'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'variations'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'variations'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'variations'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'variations'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wp_attachment_backup_sizes'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wp_attachment_backup_sizes'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wp_attachment_backup_sizes'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wp_attachment_backup_sizes'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_themify_mega_menu_columns_layout'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_themify_mega_menu_columns_layout'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_themify_mega_menu_columns_layout'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_themify_mega_menu_columns_layout'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_themify_dropdown_columns'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_themify_dropdown_columns'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_themify_dropdown_columns'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_themify_dropdown_columns'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '_themify_mega_menu_%'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '_themify_mega_menu_%'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '_themify_mega_menu_%'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '_themify_mega_menu_%'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_themify_highlight_link'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_themify_highlight_link'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_themify_highlight_link'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_themify_highlight_link'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_themify_mega_menu_item'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_themify_mega_menu_item'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_themify_mega_menu_item'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_themify_mega_menu_item'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_themify_mega_menu_column'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_themify_mega_menu_column'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_themify_mega_menu_column'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_themify_mega_menu_column'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'content_width'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'content_width'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'content_width'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'content_width'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'section_full_scrolling'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'section_full_scrolling'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'section_full_scrolling'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'section_full_scrolling'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_product_image_gallery'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_product_image_gallery'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_product_image_gallery'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_product_image_gallery'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'thumbnail_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'thumbnail_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'thumbnail_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'thumbnail_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'popup_show'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'popup_show'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'popup_show'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'popup_show'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_attach_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_attach_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_attach_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_attach_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_menu_item_object_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_menu_item_object_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_menu_item_object_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_menu_item_object_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_menu_item_object'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_menu_item_object'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_menu_item_object'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_menu_item_object'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_menu_item_type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_menu_item_type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_menu_item_type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_menu_item_type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'feature_size'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'feature_size'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'feature_size'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'feature_size'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%feature_size_page'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%feature_size_page'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%feature_size_page'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%feature_size_page'"
