#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'friends_plugin_version'
wp option delete 'friends_private_rss_key'
wp option delete 'friends_enable_wp_friendships'
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'friends_in_token_%'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'friends_%'"
wp option delete 'friends_selected_emojis'
wp option delete 'friends_enable_retention_number'
wp option delete 'friends_retention_number'
wp option delete 'friends_enable_retention_days'
wp option delete 'friends_retention_days'
wp option delete 'friends_retention_delete_reacted'
wp option delete 'friends_force_enable_post_formats'
wp option delete 'friends_limit_homepage_post_format'
wp option delete 'friends_expose_post_format_feeds'
wp option delete 'friends_default_friend_role'
wp option delete 'friends_notification_keywords'
wp option delete 'friends_comment_registration_message'
wp option delete 'friends_codeword'
wp option delete 'friends_require_codeword'
wp option delete 'friends_wrong_codeword_message'
wp option delete 'friends_main_user_id'
wp option delete 'friends_automatic_status_disabled'
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'friends_feed_rules_%'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'friends_feed_catch_all_%'"
wp option delete 'friends_frontend_default_view'
wp option delete 'sidebars_widgets'
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'widget_%'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '%_option_name'"
wp option delete 'rewrite_rules'

# Clear Cron Jobs
wp cron event delete 'friends_retrieve_user_feeds'
wp cron event delete 'cron_friends_refresh_feeds'
wp cron event delete 'cron_friends_delete_old_posts'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'feed_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'feed_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'feed_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'feed_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'activitypub_content_visibility'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'activitypub_content_visibility'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'activitypub_content_visibility'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'activitypub_content_visibility'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'external-id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'external-id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'external-id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'external-id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'ap_outbox_like_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'ap_outbox_like_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'ap_outbox_like_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'ap_outbox_like_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'boosted'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'boosted'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'boosted'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'boosted'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'reblogged'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'reblogged'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'reblogged'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'reblogged'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'ap_outbox_announce_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'ap_outbox_announce_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'ap_outbox_announce_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'ap_outbox_announce_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'protocol'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'protocol'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'protocol'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'protocol'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'wp_capabilities'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'wp_capabilities'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'wp_capabilities'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'wp_capabilities'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'author'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'author'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'author'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'author'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'remote_post_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'remote_post_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'remote_post_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'remote_post_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'parser'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'parser'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'parser'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'parser'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'reblog'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'reblog'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'reblog'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'reblog'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'reblog_of'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'reblog_of'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'reblog_of'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'reblog_of'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'reblogged_by'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'reblogged_by'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'reblogged_by'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'reblogged_by'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'friends_widget_state'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'friends_widget_state'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'friends_widget_state'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'friends_widget_state'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'module'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'module'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'module'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'module'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'friends_feed_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'friends_feed_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'friends_feed_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'friends_feed_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'remote_reactions'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'remote_reactions'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'remote_reactions'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'remote_reactions'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'roles'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'roles'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'roles'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'roles'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'avatar_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'avatar_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'avatar_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'avatar_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'starred'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'starred'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'starred'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'starred'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'user_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'user_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'user_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'user_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'display_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'display_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'display_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'display_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'description'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'description'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'description'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'description'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'created'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'created'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'created'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'created'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'active'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'active'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'active'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'active'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'post-format'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'post-format'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'post-format'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'post-format'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mime-type'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mime-type'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mime-type'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mime-type'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'title'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'title'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'title'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'title'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'last-log'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'last-log'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'last-log'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'last-log'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'interval'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'interval'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'interval'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'interval'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'modifier'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'modifier'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'modifier'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'modifier'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'next-poll'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'next-poll'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'next-poll'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'next-poll'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'last-poll'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'last-poll'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'last-poll'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'last-poll'"
