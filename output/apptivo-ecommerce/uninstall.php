<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('apptivo_ecommerce_min_product_images');
delete_site_option('apptivo_ecommerce_min_product_images');
delete_option('apptivo_ecommerce_plugin_version');
delete_site_option('apptivo_ecommerce_plugin_version');
delete_option('apptivo_ecommerce_plugin_installed');
delete_site_option('apptivo_ecommerce_plugin_installed');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_width' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_height' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('apptivo_ecommerce_products_slug');
delete_site_option('apptivo_ecommerce_products_slug');
delete_option('apptivo_ecommerce_ordernumber_prefix');
delete_site_option('apptivo_ecommerce_ordernumber_prefix');
delete_option('apptivo_ecommerce_ordernumber_startswith');
delete_site_option('apptivo_ecommerce_ordernumber_startswith');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_crop' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('apptivo_ecommerce_apikey');
delete_site_option('apptivo_ecommerce_apikey');
delete_option('apptivo_apikey');
delete_site_option('apptivo_apikey');
delete_option('apptivo_accesskey');
delete_site_option('apptivo_accesskey');
delete_option('apptivo_ecommerce_products_page_id');
delete_site_option('apptivo_ecommerce_products_page_id');
delete_option('apptivo_ecommerce_sync_status');
delete_site_option('apptivo_ecommerce_sync_status');
delete_option('apptivo_ecommerce_errors');
delete_site_option('apptivo_ecommerce_errors');
delete_option('apptivo_ecommerce_accesskey');
delete_site_option('apptivo_ecommerce_accesskey');
delete_option('apptivo_ecommerce_thanks_page_id');
delete_site_option('apptivo_ecommerce_thanks_page_id');
delete_option('apptivo_ecommerce_products_sorting_type');
delete_site_option('apptivo_ecommerce_products_sorting_type');
delete_option('apptivo_ecommerce_thumbnail_image_crop');
delete_site_option('apptivo_ecommerce_thumbnail_image_crop');
delete_option('apptivo_ecommerce_catalog_image_crop');
delete_site_option('apptivo_ecommerce_catalog_image_crop');
delete_option('apptivo_ecommerce_single_image_crop');
delete_site_option('apptivo_ecommerce_single_image_crop');
delete_option('apptivo_ecommerce_checkout_page_id');
delete_site_option('apptivo_ecommerce_checkout_page_id');
delete_option('apptivo_ecommerce_cart_page_id');
delete_site_option('apptivo_ecommerce_cart_page_id');
delete_option('apptivo_ecommerce_print_receipt_page_id');
delete_site_option('apptivo_ecommerce_print_receipt_page_id');
delete_option('apptivo_ecommerce_secure_checkout_page_id');
delete_site_option('apptivo_ecommerce_secure_checkout_page_id');
delete_option('apptivo_ecommerce_single_image_height');
delete_site_option('apptivo_ecommerce_single_image_height');
delete_option('apptivo_ecommerce_enable_a_net_confirm');
delete_site_option('apptivo_ecommerce_enable_a_net_confirm');
delete_option('apptivo_ecommerce_register_page_id');
delete_site_option('apptivo_ecommerce_register_page_id');
delete_option('apptivo_ecommerce_login_page_id');
delete_site_option('apptivo_ecommerce_login_page_id');
delete_option('apptivo_ecommerce_myaccount_page_id');
delete_site_option('apptivo_ecommerce_myaccount_page_id');
delete_option('apptivo_ecommerce_force_ssl_checkout');
delete_site_option('apptivo_ecommerce_force_ssl_checkout');
delete_option('apptivo_ecommerce_products_per_page');
delete_site_option('apptivo_ecommerce_products_per_page');
delete_option('apptivo_ecommerce_enable_regular_price');
delete_site_option('apptivo_ecommerce_enable_regular_price');
delete_option('apptivo_ecommerce_demo_store');
delete_site_option('apptivo_ecommerce_demo_store');
delete_option('apptivo_ecommerce_logout_page_id');
delete_site_option('apptivo_ecommerce_logout_page_id');
delete_option('apptivo_ecommerce_change_password_page_id');
delete_site_option('apptivo_ecommerce_change_password_page_id');
delete_option('apptivo_ecommerce_redirects_to_cart');
delete_site_option('apptivo_ecommerce_redirects_to_cart');
delete_option('apptivo_ecommerce_enable_lightbox');
delete_site_option('apptivo_ecommerce_enable_lightbox');
delete_option('apptivo_ecommerce_enable_item_code');
delete_site_option('apptivo_ecommerce_enable_item_code');
delete_option('apptivo_ecommerce_thumbnail_image_width');
delete_site_option('apptivo_ecommerce_thumbnail_image_width');
delete_option('apptivo_ecommerce_thumbnail_image_height');
delete_site_option('apptivo_ecommerce_thumbnail_image_height');
delete_option('apptivo_ecommerce_catalog_image_width');
delete_site_option('apptivo_ecommerce_catalog_image_width');
delete_option('apptivo_ecommerce_catalog_image_height');
delete_site_option('apptivo_ecommerce_catalog_image_height');
delete_option('apptivo_ecommerce_single_image_width');
delete_site_option('apptivo_ecommerce_single_image_width');
delete_option('apptivo_ecommerce_single_error_message');
delete_site_option('apptivo_ecommerce_single_error_message');
delete_option('apptivo_ecommerce_ship_to_billing_address_only');
delete_site_option('apptivo_ecommerce_ship_to_billing_address_only');
delete_option('apptivo_ecommerce_enable_gift');
delete_site_option('apptivo_ecommerce_enable_gift');
delete_option('apptivo_ecommerce_terms_page_id');
delete_site_option('apptivo_ecommerce_terms_page_id');
global $wpdb;
$options = $wpdb->get_col( $wpdb->prepare( "SELECT option_name FROM {$wpdb->options} WHERE option_name LIKE %s", '%_settings' ) );
foreach ( $options as $opt ) {
	delete_option( $opt );
	delete_site_option( $opt );
}
delete_option('apptivo_ecommerce_recaptcha_mode');
delete_site_option('apptivo_ecommerce_recaptcha_mode');
delete_option('apptivo_ecommerce_recaptcha_privatekey');
delete_site_option('apptivo_ecommerce_recaptcha_privatekey');
delete_option('apptivo_ecommerce_enable_remove_tax_and_shipping');
delete_site_option('apptivo_ecommerce_enable_remove_tax_and_shipping');
delete_option('apptivo_ecommerce_apply_coupan');
delete_site_option('apptivo_ecommerce_apply_coupan');
delete_option('apptivo_ecommerce_products_page_title');
delete_site_option('apptivo_ecommerce_products_page_title');
delete_option('apptivo_ecommerce_enable_sortby');
delete_site_option('apptivo_ecommerce_enable_sortby');
delete_option('apptivo_ecommerce_products_pagination_type');
delete_site_option('apptivo_ecommerce_products_pagination_type');
delete_option('apptivo_ecommerce_print_receipt_logo');
delete_site_option('apptivo_ecommerce_print_receipt_logo');
delete_option('apptivo_ecommerce_print_receipt_address');
delete_site_option('apptivo_ecommerce_print_receipt_address');
delete_option('apptivo_ecommerce_recaptcha_theme');
delete_site_option('apptivo_ecommerce_recaptcha_theme');
delete_option('apptivo_ecommerce_recaptcha_language');
delete_site_option('apptivo_ecommerce_recaptcha_language');
delete_option('apptivo_ecommerce_recaptcha_publickey');
delete_site_option('apptivo_ecommerce_recaptcha_publickey');
delete_option('apptivo_ecommerce_enable_related_products');
delete_site_option('apptivo_ecommerce_enable_related_products');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_ecommerce_exclude_image' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_ecommerce_exclude_image' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_ecommerce_exclude_image' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_ecommerce_exclude_image' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_item_code' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_item_code' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_item_code' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_item_code' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_category_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_category_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_category_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_category_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_item_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_item_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_item_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_item_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_item_uom_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_item_uom_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_item_uom_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_item_uom_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_item_manufactured_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_item_manufactured_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_item_manufactured_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_item_manufactured_id' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_regular_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_regular_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_regular_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_regular_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_supplier' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_supplier' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_supplier' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_supplier' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_sale_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_sale_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_sale_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_sale_price' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_track_color' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_track_color' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_track_color' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_track_color' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_track_size' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_track_size' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_track_size' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_track_size' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_enabled' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_enabled' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_enabled' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_enabled' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", '_apptivo_featured' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", '_apptivo_featured' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", '_apptivo_featured' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", '_apptivo_featured' ) );

