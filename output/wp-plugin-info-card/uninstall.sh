#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'wppic_settings'
wp option delete 'active_sitewide_plugins'

# Delete Transients
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_wppic_profile_%' OR option_name LIKE '_site_transient_wppic_profile_%'"
wp transient delete 'update_plugins'
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_wppic_github_%' OR option_name LIKE '_site_transient_wppic_github_%'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient_wppic_badge_token_%' OR option_name LIKE '_site_transient_wppic_badge_token_%'"

# Clear Cron Jobs
wp cron event delete 'wppic_daily_cron'
wp cron event delete 'wppic_rest_api_update_plugin_data'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'isFromRest'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'isFromRest'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'isFromRest'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'isFromRest'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'enableRestApi'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'enableRestApi'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'enableRestApi'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'enableRestApi'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'restApiPasscode'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'restApiPasscode'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'restApiPasscode'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'restApiPasscode'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'restApiDataVersion'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'restApiDataVersion'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'restApiDataVersion'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'restApiDataVersion'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'restApiUrl'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'restApiUrl'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'restApiUrl'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'restApiUrl'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'first_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'first_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'first_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'first_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'last_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'last_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'last_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'last_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wppic_plugin_author'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wppic_plugin_author'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wppic_plugin_author'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wppic_plugin_author'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wppic_reviews_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wppic_reviews_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wppic_reviews_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wppic_reviews_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wppic_downloads_url'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wppic_downloads_url'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wppic_downloads_url'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wppic_downloads_url'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wppic_override_ratings'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wppic_override_ratings'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wppic_override_ratings'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wppic_override_ratings'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wppic_num_ratings'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wppic_num_ratings'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wppic_num_ratings'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wppic_num_ratings'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wppic_rating_percentage'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wppic_rating_percentage'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wppic_rating_percentage'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wppic_rating_percentage'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_edd_sl_version'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_edd_sl_version'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_edd_sl_version'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_edd_sl_version'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_edd_sl_required_versions'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_edd_sl_required_versions'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_edd_sl_required_versions'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_edd_sl_required_versions'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_edd_readme_location'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_edd_readme_location'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_edd_readme_location'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_edd_readme_location'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_edd_readme_plugin_homepage'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_edd_readme_plugin_homepage'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_edd_readme_plugin_homepage'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_edd_readme_plugin_homepage'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'edd_sl_download_lifetime'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'edd_sl_download_lifetime'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'edd_sl_download_lifetime'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'edd_sl_download_lifetime'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_edd_readme_plugin_banner_high'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_edd_readme_plugin_banner_high'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_edd_readme_plugin_banner_high'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_edd_readme_plugin_banner_high'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_edd_readme_plugin_banner_low'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_edd_readme_plugin_banner_low'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_edd_readme_plugin_banner_low'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_edd_readme_plugin_banner_low'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'edd_reviews_average_rating'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'edd_reviews_average_rating'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'edd_reviews_average_rating'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'edd_reviews_average_rating'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wppic_last_updated'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wppic_last_updated'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wppic_last_updated'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wppic_last_updated'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_wppic_profile_data'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_wppic_profile_data'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_wppic_profile_data'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_wppic_profile_data'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'numTries'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'numTries'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'numTries'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'numTries'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'lastUpdated'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'lastUpdated'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'lastUpdated'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'lastUpdated'"
