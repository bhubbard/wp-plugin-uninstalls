#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'issuem-leaky-paywall-site-wide'
wp option delete 'last_zeen101_dot_com_leaky_rss_item'
wp option delete 'issuem-leaky-paywall'

# Delete Transients
wp db query "DELETE FROM wp_options WHERE option_name LIKE '_transient__lpl_%' OR option_name LIKE '_site_transient__lpl_%'"
wp transient delete 'action_scheduler_last_pastdue_actions_check'
wp transient delete 'action_scheduler_admin_notice'
wp transient delete 'as_comment_count'

# Clear Cron Jobs
wp cron event delete 'leaky_paywall_process_renewal_reminder'
wp cron event delete 'zeen101_dot_com_leaky_rss_feed_check'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_leaky_paywall_subscriber_notes'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_leaky_paywall_subscriber_notes'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_leaky_paywall_subscriber_notes'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_leaky_paywall_subscriber_notes'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'leaky_paywall_rss_item_notice_link'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'leaky_paywall_rss_item_notice_link'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'leaky_paywall_rss_item_notice_link'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'leaky_paywall_rss_item_notice_link'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_gateway_txn_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_gateway_txn_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_gateway_txn_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_gateway_txn_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_price'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_price'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_price'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_price'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_status'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_status'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_status'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_status'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_nag_location_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_nag_location_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_nag_location_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_nag_location_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_user_data'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_user_data'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_user_data'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_user_data'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_customer_data'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_customer_data'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_customer_data'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_customer_data'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_level_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_level_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_level_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_level_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_gateway'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_gateway'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_gateway'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_gateway'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_first_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_first_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_first_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_first_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_last_name'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_last_name'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_last_name'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_last_name'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_email'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_email'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_email'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_email'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_currency'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_currency'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_currency'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_currency'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_is_recurring'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_is_recurring'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_is_recurring'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_is_recurring'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_paypal_request'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_paypal_request'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_paypal_request'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_paypal_request'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_transaction_status'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_transaction_status'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_transaction_status'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_transaction_status'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_login'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_login'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_login'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_login'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_issuem_leaky_paywall_show_upgrade_message'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_issuem_leaky_paywall_show_upgrade_message'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_issuem_leaky_paywall_show_upgrade_message'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_issuem_leaky_paywall_show_upgrade_message'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_issuem_leaky_paywall_visibility'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_issuem_leaky_paywall_visibility'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_issuem_leaky_paywall_visibility'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_issuem_leaky_paywall_visibility'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_password'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_password'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_password'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_password'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key = '_field_data'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = '_field_data'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = '_field_data'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = '_field_data'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_level_id'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_level_id'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_level_id'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_level_id'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_plan'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_plan'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_plan'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_plan'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_created'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_created'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_created'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_created'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_expires'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_expires'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_expires'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_expires'"
wp db query "DELETE FROM wp_postmeta WHERE meta_key LIKE '%_payment_status'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key LIKE '%_payment_status'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key LIKE '%_payment_status'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key LIKE '%_payment_status'"
