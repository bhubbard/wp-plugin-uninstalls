<?php

// If uninstall not called from WordPress, then exit.
if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

// Delete Options
delete_option('ldapAuth');
delete_site_option('ldapAuth');
delete_option('ldapDisableSignup');
delete_site_option('ldapDisableSignup');
delete_option('ldapSSOEnabled');
delete_site_option('ldapSSOEnabled');
delete_option('ldapLinuxWindows');
delete_site_option('ldapLinuxWindows');
delete_option('ldapAttributeMail');
delete_site_option('ldapAttributeMail');
delete_option('ldapAttributeNickname');
delete_site_option('ldapAttributeNickname');
delete_option('ldapAttributeGivenname');
delete_site_option('ldapAttributeGivenname');
delete_option('ldapAttributeSn');
delete_site_option('ldapAttributeSn');
delete_option('ldapAttributePhone');
delete_site_option('ldapAttributePhone');
delete_option('ldapAttributeHomedir');
delete_site_option('ldapAttributeHomedir');
delete_option('ldapAttributeMember');
delete_site_option('ldapAttributeMember');
delete_option('ldapAttributeMacaddress');
delete_site_option('ldapAttributeMacaddress');
delete_option('ldapAttributeDn');
delete_site_option('ldapAttributeDn');
delete_option('ldapAttributeDN');
delete_site_option('ldapAttributeDN');
delete_option('ldapAttributeMemberNix');
delete_site_option('ldapAttributeMemberNix');
delete_option('ldapAttributeGroupObjectclassNix');
delete_site_option('ldapAttributeGroupObjectclassNix');
delete_option('ldapAttributeGroupObjectclass');
delete_site_option('ldapAttributeGroupObjectclass');
delete_option('ldapAttributeNixSearch');
delete_site_option('ldapAttributeNixSearch');
delete_option('ldapAttributeWinSearch');
delete_site_option('ldapAttributeWinSearch');
delete_option('ldapPublicDisplayName');
delete_site_option('ldapPublicDisplayName');
delete_option('ldapCreateBlog');
delete_site_option('ldapCreateBlog');
delete_option('ldapCreateAcct');
delete_site_option('ldapCreateAcct');
delete_option('ldapSignupMessage');
delete_site_option('ldapSignupMessage');
delete_option('ldapSiteOneAdd');
delete_site_option('ldapSiteOneAdd');
delete_option('dashboard_blog');
delete_site_option('dashboard_blog');
delete_option('default_user_role');
delete_site_option('default_user_role');
delete_option('ldapAddUser');
delete_site_option('ldapAddUser');
delete_option('ldapBulkAdd');
delete_site_option('ldapBulkAdd');
delete_option('ldapCreateLocalUser');
delete_site_option('ldapCreateLocalUser');
delete_option('ldapServerPass');
delete_site_option('ldapServerPass');
delete_option('ldapServerPassNeedsResave');
delete_site_option('ldapServerPassNeedsResave');
delete_option('ldapGroupAllowLogin');
delete_site_option('ldapGroupAllowLogin');
delete_option('ldapGroupDenyLogin');
delete_site_option('ldapGroupDenyLogin');
delete_option('ldapfixmetafor15');
delete_site_option('ldapfixmetafor15');
delete_option('ldapfixdisplayname');
delete_site_option('ldapfixdisplayname');
delete_option('ldapServerAddr');
delete_site_option('ldapServerAddr');
delete_option('ldapServerPort');
delete_site_option('ldapServerPort');
delete_option('ldapServerOU');
delete_site_option('ldapServerOU');
delete_option('ldapServerCN');
delete_site_option('ldapServerCN');
delete_option('ldapEnableSSL');
delete_site_option('ldapEnableSSL');
delete_option('ldapLocalEmail');
delete_site_option('ldapLocalEmail');
delete_option('ldapLocalEmailSubj');
delete_site_option('ldapLocalEmailSubj');
delete_option('ldapLocalEmailMessage');
delete_site_option('ldapLocalEmailMessage');
delete_option('ldapLDAPEmail');
delete_site_option('ldapLDAPEmail');
delete_option('ldapLDAPEmailSubj');
delete_site_option('ldapLDAPEmailSubj');
delete_option('ldapLDAPEmailMessage');
delete_site_option('ldapLDAPEmailMessage');
delete_option('ldapGetPasswordMessage');
delete_site_option('ldapGetPasswordMessage');

// Clear Metadata
global $wpdb;
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'first_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'last_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'ldap_login' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'ldap_login' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'ldap_login' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'ldap_login' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'primary_blog' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'primary_blog' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'primary_blog' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'primary_blog' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->postmeta} WHERE meta_key = %s", 'display_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->usermeta} WHERE meta_key = %s", 'display_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->termmeta} WHERE meta_key = %s", 'display_name' ) );
$wpdb->query( $wpdb->prepare( "DELETE FROM {$wpdb->commentmeta} WHERE meta_key = %s", 'display_name' ) );

