#!/bin/bash
# WP-CLI Uninstall Script

# Delete Options
wp option delete 'mo_ldap_current_plugin_version'
wp option delete 'mo_ldap_cloud_upgrade_is_error'
wp option delete 'mo_ldap_enable_login'
wp option delete 'mo_ldap_authorized_users_only'
wp option delete 'mo_ldap_register_user'
wp option delete 'mo_ldap_enable_both_login'
wp option delete 'mo_ldap_cloud_public_pages_list'
wp option delete 'mo_ldap_cloud_public_pages_enable'
wp option delete 'mo_ldap_registration_status'
wp option delete 'mo_ldap_admin_email'
wp option delete 'mo_ldap_new_registration'
wp option delete 'mo_ldap_admin_phone'
wp option delete 'mo_ldap_verify_customer'
wp option delete 'mo_ldap_admin_customer_key'
wp option delete 'mo_ldap_admin_api_key'
wp option delete 'mo_ldap_customer_token'
wp option delete 'mo_ldap_message'
wp option delete 'mo_ldap_redirect_to'
wp option delete 'mo_ldap_custom_redirect'
wp option delete 'mo_ldap_skip_redirectto_parameter'
wp option delete 'mo_ldap_server_password'
wp option delete 'mo_ldap_transactionId'
wp option delete 'mo_ldap_save_config_success'
wp option delete 'mo_ldap_license_status'
wp option delete 'mo_ldap_cloud_license_info'
wp option delete 'mo_enable_page_link_restriction'
wp option delete 'mo_page_link_list'
wp option delete 'mo_page_link_restriction'
wp option delete 'mo_ldap_ldap_protocol'
wp option delete 'mo_ldap_ldap_server_address'
wp option delete 'mo_ldap_ldap_port_number'
wp option delete 'mo_ldap_ldaps_port_number'
wp option delete 'mo_ldap_server_dn'
wp option delete 'mo_ldap_search_base'
wp option delete 'mo_ldap_search_filter'
wp option delete 'mo_ldap_cloud_directory_server_value'
wp option delete 'mo_ldap_cloud_filter_check'
wp option delete 'mo_ldap_username_attributes'
wp option delete 'mo_ldap_extra_user_attribute'
wp option delete 'mo_ldap_server_url'
wp option delete 'mo_ldap_email_attribute'
wp option delete 'mo_ldap_phone_attribute'
wp option delete 'mo_ldap_fname_attribute'
wp option delete 'mo_ldap_lname_attribute'
wp option delete 'mo_ldap_nickname_attribute'
wp option delete 'mo_ldap_admin_fname'
wp option delete 'mo_ldap_admin_lname'
wp option delete 'mo_ldap_admin_company'
wp option delete 'mo_ldap_login_messages'
wp option delete 'mo_ldap_display_name_attribute'
wp option delete 'mo_ldap_cloud_enable_role_restriction'
wp option delete 'mo_ldap_enable_role_mapping'
wp option delete 'mo_ldap_enable_attribute_mapping'
wp option delete 'mo_ldap_mapping_memberof_attribute'
wp option delete 'mo_ldap_role_mapping_count'
wp option delete 'mo_ldap_keep_existing_user_roles'
wp option delete 'mo_ldap_mapping_value_default'
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'mo_ldap_mapping_key_%'"
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'mo_ldap_mapping_value_%'"
wp option delete 'mo_ldap_cloud_restricted_login_roles'
wp option delete 'mo_ldap_cloud_user_logs_table_exists'
wp option delete 'mo_ldap_cloud_export_pass'
wp option delete 'mo_ldap_check_ln'
wp option delete 'mo_customer_check_ln'
wp option delete 'mo_ldap_free_version'
wp option delete 'mo_ldap_admin_use_case'
wp option delete 'mo_ldap_local_verify_customer'
wp option delete 'mo_ldap_cloud_disabled_local_login'
wp option delete 'mo_ldap_cloud_local_user_report_log'
wp option delete 'mo_ldap_cloud_directory_server_custom_value'
wp option delete 'mo_ldap_cloud_directory_server'
wp option delete 'mo_ldap_enable_debugger'
wp option delete 'mo_ldap_cust'
wp db query "DELETE FROM wp_options WHERE option_name LIKE 'mo_ldap_custom_attribute_%'"
wp option delete 'mo_ldap_dn_attribute'
wp option delete 'mo_ldap_license_flag_cloud'
wp option delete 'mo_ldap_ldap_login_status_cloud'
wp option delete 'mo_ldap_test_auth_cloud'
wp option delete 'mo_ldap_config_status_cloud'
wp option delete 'mo_ldap_activation_time_cloud'
wp option delete 'mo_ldap_xecurify_migration'
wp option delete 'mo_ldap_default_config'
wp option delete 'mo_ldap_cloud_admin_phone'

# Direct DB Queries (Fallback)
wp db query "DELETE FROM wp_postmeta WHERE meta_key = 'mo_ldap_cloud_user_phone'"
wp db query "DELETE FROM wp_usermeta WHERE meta_key = 'mo_ldap_cloud_user_phone'"
wp db query "DELETE FROM wp_termmeta WHERE meta_key = 'mo_ldap_cloud_user_phone'"
wp db query "DELETE FROM wp_commentmeta WHERE meta_key = 'mo_ldap_cloud_user_phone'"
